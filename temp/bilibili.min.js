!function e(t, n, o) {
    function i(r, s) {
        if (!n[r]) {
            if (!t[r]) {
                var l = "function" == typeof require && require;
                if (!s && l)return l(r, !0);
                if (a)return a(r, !0);
                throw new Error("Cannot find module '" + r + "'")
            }
            var c = n[r] = {exports: {}};
            t[r][0].call(c.exports, function (e) {
                var n = t[r][1][e];
                return i(n ? n : e)
            }, c, c.exports, e, t, n, o)
        }
        return n[r].exports
    }

    for (var a = "function" == typeof require && require, r = 0; r < o.length; r++)i(o[r]);
    return i
}({
    1: [function (e, t, n) {
        t.exports = {}, t.exports.appInfo = {
            name: "Bilibili Live",
            version: "V3.5.11-Reconstruction-Rage",
            codeName: "450",
            author: ["Felix", "LancerComet"]
        }, t.exports.appConfig = {xhrTimeout: 3e4}, t.exports.consoleText = {
            info: t.exports.appInfo.name + " Info: ",
            success: t.exports.appInfo.name + " Success: ",
            caution: t.exports.appInfo.name + " Caution: ",
            error: t.exports.appInfo.name + " Error: "
        }, t.exports.avalonConfig = function () {
            avalon.config({interpolate: ["[[", "]]"], debug: !1, loader: !1})
        }, t.exports.globalConfig = function (e) {
            e.consoleText = e.console
        }
    }, {}],
    2: [function (e, t, n) {
        var o = e("../functions/func-friendly-format/friendly-format");
        t.exports = function () {
            !function () {
                avalon.filters.tenThousand = function (e, t, n) {
                    return o.tenThousand(e)
                }, avalon.filters.hunderdThousand = function (e, t, n) {
                    return o.hunderdThousand(e)
                }, avalon.filters.length = function (e) {
                    return e.length
                }
            }()
        }
    }, {"../functions/func-friendly-format/friendly-format": 11}],
    3: [function (e, t, n) {
        var o = e("../../functions/func-live-quick-login/live-quick-login"), i = e("../live-widget/live-toast/live-toast");
        t.exports = function () {
            function e() {
                function e(e) {
                    return 0 != e.code ? void i(t[0], e.msg) : (i(t[0], "感谢您的反馈，我们会努力哒(∩_∩)", "success"), void $(function () {
                        $("#city,#operator,#ip,#remark").attr("value", ""), $(".feedback").fadeOut()
                    }))
                }

                function n(e) {
                    i(t[0], "提交没有成功，要不然再重试一下？真的很对不起 > <")
                }

                var o = {
                    type: $("#type input:radio:checked").val(),
                    num: $("#num input:radio:checked").val(),
                    city: $("#city").val(),
                    operator: $("#operator").val(),
                    ip: $("#ip").val(),
                    remark: $("#remark").val()
                };
                "" == o.type || "" == o.num || "" == o.city || "" == o.operator ? i(t[0], "请完成必填项~~") : $.ajax({
                    url: "/feedback/submit",
                    type: "POST",
                    data: o,
                    success: e,
                    dataType: "JSON",
                    error: n
                })
            }

            var t = $(".feedback-submit-btn");
            $(function () {
                $(".feedback-close-btn").on("click", function () {
                    $(".feedback").fadeOut()
                }), $("#remark").on("click", function () {
                    $(this).val("").css("color", "#fefefe")
                }), t.on("click", e)
            }), window.feedBackShow = function () {
                o(), $(".feedback").fadeIn()
            }
        }
    }, {"../../functions/func-live-quick-login/live-quick-login": 13, "../live-widget/live-toast/live-toast": 8}],
    4: [function (e, t, n) {
        function o() {
            e("./javascripts/top-user-panel")(), e("./javascripts/top-navigator")()
        }

        t.exports = o
    }, {"./javascripts/top-navigator": 5, "./javascripts/top-user-panel": 6}],
    5: [function (e, t, n) {
        var o = e("../../../functions/func-explorer-detective/explorer-detective");
        t.exports = function () {
            function e() {
                r = !1, clearTimeout(a), i.show().addClass("panel-in");
                var e = o();
                "IE 7" === e || "IE 8" === e || "IE 9" === e ? ($(".live-top-nav-panel .nav-item").addClass("move-in"), r = !0) : !function () {
                    var e = $(".live-top-nav-panel .nav-item"), t = 100;
                    e.each(function (n) {
                        var o = $(this);
                        setTimeout(function () {
                            o.removeClass("move-in").addClass("move-in"), r = n === e.length
                        }, t), t += 60
                    })
                }()
            }

            function t() {
                r = !1, a = setTimeout(function () {
                    i.stop().fadeOut(300, function () {
                        $(".live-top-nav-panel .nav-item").removeClass("move-in"), i.removeClass("panel-in"), r = !0
                    })
                }, 250)
            }

            var n = $(".nav-link-item.area-navigator"), i = n.find(".live-top-nav-panel"), a = null, r = !0;
            n.mouseenter(e).mouseleave(t)
        }
    }, {"../../../functions/func-explorer-detective/explorer-detective": 10}],
    6: [function (e, t, n) {
        function o() {
            "use strict";
            function e() {
                s.allowCtrl && l.$fire("topNavUserPanelDataRequest", {
                    callback: function () {
                        l.$fire("topNavUserPanelIn", !0)
                    }
                })
            }

            function t() {
                l.$fire("topNavUserPanelOut", !0)
            }

            function n() {
                $(window).on("focus", function () {
                    l.$fire("topNavMessageRefresh"), $(window).off("focus")
                })
            }

            function o() {
                $(window).on("focus", function () {
                    l.$fire("topNavUserPanelDataRequest"), $(window).off("focus")
                })
            }

            var r = {animationTiming: 499, xhrTimeout: 3e4, msgCheckInterval: 3e5}, s = {
                allowCtrl: !0,
                visibility: !1,
                dataRequestURL: "/User/getUserInfo",
                mouseEnter: e,
                mouseLeave: t,
                mouseLeaveTimeout: null,
                panelOut: !1,
                unreadMsg: !1,
                unreadMsgCount: 0,
                showProgress: !0,
                msgClick: n,
                vipIconClick: o
            }, l = avalon.define({
                $id: "liveTopNavCtrl",
                userPanel: s,
                panelData: {
                    username: "神秘用户 (=・ω・=)",
                    avatar: "",
                    isVip: 0,
                    isSVip: 0,
                    vipIconLink: "/i",
                    userLevel: {current: "UL.--", next: "UL.--", progress: "0%", progressData: 0},
                    ranking: "--",
                    restExperience: "--",
                    seeds: {gold: "--", silver: "--"}
                },
                clearAvatar: function () {
                    $.removeCookie("user_face", {path: "/", domain: ".bilibili.com"})
                },
                topNavOpacity: {
                    enable: function () {
                        l.$fire("topNavOpacity", !0)
                    }, disable: function () {
                        l.$fire("topNavOpacity", !1)
                    }, status: !0
                },
                levelPanel: {
                    onhover: !1,
                    allowCtrl: !0,
                    mouseLeaveTimeout: null,
                    restoreTimeout: null,
                    mouseEnter: function () {
                        l.levelPanel.allowCtrl && (l.levelPanel.allowCtrl = !1, clearTimeout(l.levelPanel.mouseLeaveTimeout), clearTimeout(l.levelPanel.restoreTimeout), l.levelPanel.onhover = !0, l.levelPanel.restoreTimeout = setTimeout(function () {
                            l.levelPanel.allowCtrl = !0
                        }, 500))
                    },
                    mouseLeave: function () {
                        l.levelPanel.allowCtrl && (clearTimeout(l.levelPanel.mouseLeaveTimeout), clearTimeout(l.levelPanel.restoreTimeout), l.levelPanel.mouseLeaveTimeout = setTimeout(function () {
                            l.levelPanel.allowCtrl = !1, l.levelPanel.onhover = !1, l.levelPanel.restoreTimeout = setTimeout(function () {
                                l.levelPanel.allowCtrl = !0
                            }, 500)
                        }, 300))
                    }
                },
                liveLogin: function () {
                    a()
                },
                iframeObj: {
                    $blackLayer: $('<div class="black-layer" style="z-index: 99"></div>'),
                    $newlive: $('<div class="new-live-layer" style="z-index: 100"><iframe name="contentFrame" id="g_iframe" width="100%" height="100%" scrolling="no" frameborder="0" allowtransparency="true" style="background-color:transparent;position: absolute;top:0;border:solid 1px #aaaaaa;border-radius: 10px" src="/room/apply"></iframe></div>'),
                    iframeExist: !1
                },
                enterMyRoom: function () {
                    a(), $.ajax({
                        url: "/liveact/myroom", type: "POST", dataType: "JSON", success: function (e) {
                            if (0 == e.code) {
                                if (e.data)return void(location.href = "/" + e.data);
                                if (l.iframeObj.iframeExist)return !1;
                                $("body").append(l.iframeObj.$blackLayer), $("body").append(l.iframeObj.$newlive), l.iframeObj.iframeExist = !0
                            }
                        }, error: function (e) {
                        }
                    })
                },
                loadFinished: !1,
                logined: !1
            });
            $.cookie("DedeUserID") ? l.logined = !0 : void 0, avalon.ready(function () {
                l.loadFinished = !0
            }), window.offLayer = function () {
                l.iframeObj.$blackLayer.remove(), l.iframeObj.$newlive.remove(), l.iframeObj.iframeExist = !1
            }, $(document).on("click", ".new-live-layer .off-button", window.offLayer), l.$watch("topNavUserPanelIn", function (e) {
                (arguments.length < 1 || e !== !0) && avalon.error(i.consoleText.error + '在触发 "topNavUserPanel" 时请手动传入 true 表示验证, 否则不予执行.'), s.allowCtrl = !1, l.levelPanel.allowCtrl = !0, l.levelPanel.onhover = !1, clearTimeout(s.mouseLeaveTimeout), function () {
                    var e = 100, t = $("#top-nav-user-panel").find(".section-block");
                    t.each(function (t) {
                        var n = $(this);
                        setTimeout(function () {
                            n.addClass("active")
                        }, e), e += 80
                    })
                }(), l.userPanel.visibility = !0, l.topNavOpacity.disable()
            }), l.$watch("topNavUserPanelOut", function (e) {
                if ((arguments.length < 1 || e !== !0) && avalon.error(i.consoleText.error + '在触发 "topNavUserPanelOut" 时请手动传入 true 表示验证, 否则不予执行.'), !s.allowCtrl) {
                    l.levelPanel.allowCtrl = !0, l.levelPanel.onhover = !1;
                    var t = $("#top-nav-user-panel");
                    t.addClass("panel-out"), t.find(".section-block").removeClass("active"), setTimeout(function () {
                        l.userPanel.visibility = !1, $("#top-nav-user-panel").removeClass("panel-out"), s.allowCtrl = !0, l.topNavOpacity.enable()
                    }, 300)
                }
            });
            var c = !0;
            l.$watch("topNavUserPanelDataRequest", function (e) {
                function t(e) {
                    e && "[object Object]" === Object.prototype.toString.call(e) || avalon.error(i.consoleText.error + '在调用顶栏的 "dataBinding" 时必须提供有效的数据对象.'), e.user_intimacy ? e.user_intimacy = parseInt(e.user_intimacy, 10) : void 0, e.user_next_intimacy ? e.user_next_intimacy = parseInt(e.user_next_intimacy, 10) : void 0, isNaN(e.user_intimacy) || isNaN(e.user_next_intimacy) || (l.panelData.restExperience = e.user_next_intimacy - e.user_intimacy, l.panelData.userLevel.progressData = e.user_intimacy / e.user_next_intimacy * 100, l.panelData.userLevel.progress = e.user_intimacy / e.user_next_intimacy * 100 + "%"), l.panelData.username = e.uname, l.panelData.avatar = "url(" + e.face + ")", l.panelData.seeds.gold = e.gold, l.panelData.seeds.silver = e.silver, l.panelData.userLevel.current = "UL." + e.user_level, l.panelData.userLevel.next = "UL." + e.user_next_level, l.panelData.ranking = e.user_level_rank, l.panelData.isVip = parseInt(e.vip, 10), l.panelData.isSVip = parseInt(e.svip, 10), parseInt(e.vip, 10) > 0 || parseInt(e.svip, 10) > 0 ? l.panelData.vipIconLink = "/i" : l.panelData.vipIconLink = "/i#to-vip"
                }

                var n = $.cookie("DedeUserID");
                if (n)return e && "force" === e.mode ? c = !0 : void 0, c ? void function () {
                    $.ajax({
                        url: s.dataRequestURL,
                        type: "GET",
                        dataType: "JSON",
                        timeout: r.xhrTimeout,
                        data: {timestamp: Date.now()},
                        success: function (n) {
                            return "REPONSE_OK" == n.code ? (t(n.data), l.userPanel.showProgress = !1, e.callback ? e.callback() : void 0, c = !1, !0) : void 0
                        },
                        error: function (t) {
                            l.userPanel.showProgress = !1, e.callback ? e.callback() : void 0
                        }
                    })
                }() : void(e && e.callback ? e.callback() : void 0)
            }), function () {
                function e() {
                    var e = $.cookie("DedeUserID");
                    if (e) {
                        var t = $.cookie("user_face");
                        t ? l.panelData.avatar = "url(" + t + ")" : $.ajax({
                            url: s.dataRequestURL,
                            timeout: r.xhrTimeout,
                            data: {timestamp: Date.now()},
                            dataType: "JSON",
                            success: function (e) {
                                "REPONSE_OK" == e.code && (l.panelData.avatar = "url(" + e.data.face + ")")
                            },
                            error: function (e) {
                            }
                        })
                    }
                }

                $(e), l.$watch("topNavUserPanelAvatar", function (t) {
                    e()
                })
            }(), function () {
                function e() {
                    t.xhr(), t.check()
                }

                var t = {
                    checkInterval: null, xhr: function (e) {
                        e = e || "normal", $.cookie("DedeUserID") && $.ajax({
                            url: "http://message.bilibili.com/api/notify/query.notify.count.do",
                            type: "GET",
                            data: {type: "jsonp", captcha: window.captcha_key, callback: "callback", ts: Date.now()},
                            dataType: "JSONP",
                            jsonp: "callback",
                            timeout: r.xhrTimeout,
                            success: function (e) {
                                if (0 == e.code) {
                                    var n = parseInt(e.data.reply_me, 10), o = parseInt(e.data.chat_me, 10), i = parseInt(e.data.praise_me, 10), a = parseInt(e.data.notify_me, 10), r = parseInt(e.data.at_me, 10);
                                    if (n > 0 || i > 0 || a > 0 || r > 0 || o > 0) {
                                        var s = n + i + a + r + o;
                                        t.weHaveUnreadMsg(s)
                                    } else t.clearUnread()
                                }
                            },
                            error: function (e) {
                            }
                        })
                    }, check: function () {
                        t.checkInterval = setInterval(t.xhr, r.msgCheckInterval)
                    }, weHaveUnreadMsg: function (e) {
                        e = parseInt(e, 10), e > 99 ? e = "99+" : void 0, l.userPanel.unreadMsg = !0, l.userPanel.unreadMsgCount = e
                    }, clearUnread: function () {
                        l.userPanel.unreadMsg = !1, l.userPanel.unreadMsgCount = 0
                    }
                };
                $(window).on("load", e), l.$watch("topNavMessageRefresh", function (e) {
                    "dev" === e ? t.xhr("dev") : t.xhr()
                })
            }(), l.$watch("topNavOpacity", function (e) {
                e !== !0 && e !== !1 && avalon.error(i.consoleText.error + '在 $fire 服务 "topNavOpacity" 时必须传入 true（启用透明度） 或 false（禁用透明度）.'), e ? l.topNavOpacity.status = !0 : l.topNavOpacity.status = !1
            }), l.$watch("fillCurrency", function (e) {
                null !== e.gold && void 0 !== e.gold && (l.panelData.seeds.gold = e.gold), null !== e.silver && void 0 !== e.silver && (l.panelData.seeds.silver = e.silver)
            })
        }

        var i = e("../../../app-config/app-config"), a = e("../../../functions/func-live-quick-login/live-quick-login");
        t.exports = o
    }, {"../../../app-config/app-config": 1, "../../../functions/func-live-quick-login/live-quick-login": 13}],
    7: [function (e, t, n) {
        function o(e, t) {
            var n = e.popup;
            $(n).addClass("hide").attr("aria-hidden", !0), setTimeout(function () {
                $(n).hide(), t && t()
            }, 380)
        }

        var i = e("../../../app-config/app-config"), a = e("../../../functions/func-random-emoji/random-emoji"), r = function (e) {
            if (!(this instanceof r))return new r(e);
            var t = this;
            if (!e)throw new Error(i.consoleText.error + "在使用 Live Popup 时必须指定参数.");
            var n = document.createDocumentFragment(), o = document.createElement("div");
            o.className = "live-popup-panel";
            var s = document.createElement("div");
            s.className = "body-merge", o.appendChild(s);
            var l = document.createElement("div");
            l.className = "panel-content", o.appendChild(l), function () {
                e.title = e.title.toString() ? e.title.toString() : a.helpless();
                var t = document.createElement("div");
                t.className = "popup-title-container", t.innerHTML = '<h2 class="popup-title">' + e.title + "</h2>", l.appendChild(t)
            }(), function () {
                var t = document.createElement("div");
                t.className = "popup-content-container", e.html ? t.innerHTML = e.html : (e.content = e.content || "某个程序员没有给这个弹窗写内容~ " + a.helpless(), t.innerHTML = "<p>" + e.content + "</p>"), l.appendChild(t)
            }(), function () {
                if (e.button !== !1) {
                    if (e.type = (e.type || "action").toLowerCase(), "alert" !== e.type && "action" !== e.type && "info" !== e.type)throw new Error(i.consoleText.error + "Live Popup 的类型仅为 Action 与 Alert 与 Info.");
                    var n = document.createElement("div");
                    n.className = "popup-button-container", e.button = e.button ? e.button : {
                        confirm: "确认",
                        cancel: "取消"
                    };
                    var r = document.createElement("button");
                    if (r.className = "popup-button confirm", r.innerHTML = e.button.confirm || "确认", r.setAttribute("aria-label", "点击确认"), e.onConfirm && $.isFunction(e.onConfirm) ? t.onConfirm = e.onConfirm : t.onConfirm = t.close, e.onCancel && $.isFunction(e.onCancel) && (t.onCancel = e.onCancel), $(r).on("click", function () {
                            t.confirm()
                        }), n.appendChild(r), t.confirmBtn = r, "action" === e.type) {
                        var s = document.createElement("button");
                        s.innerHTML = e.button.cancel || "取消", s.className = "popup-button cancel close-btn", s.setAttribute("aria-label", "点击取消"), $(s).on("click", function () {
                            t.close()
                        }), n.appendChild(s), t.cancelBtn = s
                    }
                    "alert" === e.type && (o.className = "live-popup-panel alert"), l.appendChild(n)
                }
                var c = document.createElement("div");
                c.className = "close-btn right-top", c.setAttribute("role", "button"), c.setAttribute("aria-label", "点击关闭面板."), c.setAttribute("title", "关闭面板 " + a.helpless()), $(c).on("click", function () {
                    t.close()
                }), l.appendChild(c)
            }(), e.width && $(l).css({width: e.width}), n.appendChild(o), document.body.appendChild(n), this.open(), e.silent && $(o).hide(), this.popup = o, function () {
                if (e.initFunc && !$.isFunction(e.initFunc))throw new Error(i.consoleText.error + "在使用 Live Popup 时, 传入的 initFunc 必须为 Function.");
                e.initFunc && e.initFunc()
            }()
        };
        r.prototype.open = function () {
            var e = this;
            $(window).on("keyup", function t(n) {
                e.keyupEvent = t, 27 === n.keyCode && e.allowEnterKey && e.close(), 13 === n.keyCode && e.allowEnterKey && e.confirm()
            }), $(this.popup).show().removeClass("hide").attr("aria-hidden", !1), setTimeout(function () {
                e.allowEnterKey = !0
            }, 300)
        }, r.prototype.close = function (e) {
            var t = this;
            $.isFunction(this.onCancel) && setTimeout(t.onCancel, 0), o(t, e), $(window).off("keyup", this.keyupEvent), this.allowEnterKey = !1, $(".body-container").removeClass("blur")
        }, r.prototype.confirm = function () {
            this.onConfirm && $.isFunction(this.onConfirm) && this.onConfirm()
        }, r.prototype.remove = function () {
            var e = this.popup;
            o(this, function () {
                $(e).remove(), e = null
            })
        }, r.prototype.done = function () {
            this.close()
        }, t.exports = r
    }, {"../../../app-config/app-config": 1, "../../../functions/func-random-emoji/random-emoji": 14}],
    8: [function (e, t, n) {
        function o(e) {
            var t = e.offsetLeft;
            return null !== e.offsetParent ? t += o(e.offsetParent) : void 0, t
        }

        function i(e) {
            var t = e.offsetTop;
            return null !== e.offsetParent ? t += i(e.offsetParent) : void 0, t
        }

        var a = e("../../../app-config/app-config"), r = e("../../../functions/func-type-adjust/type-adjust"), s = e("../../../functions/func-random-emoji/random-emoji"), l = function (e, t, n, l) {
            "boolean" == typeof n && (l = n, n = null);
            var c = document.createDocumentFragment(), u = document.createElement("div");
            if (n = n || "info", "success" !== n && "caution" !== n && "error" !== n && "info" !== n)throw new Error(a.consoleText.error + "在使用 Live Toast 时必须指定正确的类型: success || caution || error || info");
            u.innerHTML = "<i class='toast-icon " + n + "'></i><span class='toast-text'>" + t + "</span>" || "<i class='toast-icon info'></i><span class='toast-text'>某个程序员没有写入内容~ </span>" + s(), u.className = "live-toast " + n;
            var d = null;
            switch (r(e)) {
                case"HTML Element":
                    d = e;
                    break;
                case"jQuery Object":
                    d = e[0];
                    break;
                default:
                    throw new Error(a.consoleText.error + "在使用 Live Toast 时请传入正确的原生 Dom 对象或节点的 jQuery 对象.")
            }
            var f = {width: $(d).width(), height: $(d).height()}, p = o(d), m = i(d);
            p > $(window).width() - 300 ? $(u).css({left: p - f.width}) : $(u).css({left: p + f.width});
            var v = 0;
            l && (v = document.body.scrollTop), $(u).css({top: m + f.height + v}), setTimeout(function () {
                $(u).addClass("out"), setTimeout(function () {
                    $(u).remove(), c = u = d = f = p = m = v = null
                }, 400)
            }, 2e3), c.appendChild(u), document.body.appendChild(c)
        };
        t.exports = l
    }, {
        "../../../app-config/app-config": 1,
        "../../../functions/func-random-emoji/random-emoji": 14,
        "../../../functions/func-type-adjust/type-adjust": 18
    }],
    9: [function (e, t, n) {
        var o = 1;
        t.exports = function (e, t, n) {
            setTimeout(function () {
                null === e && null === t ? avalon.scan() : avalon.scan(e, t), n && n()
            }, o), o += 100
        }
    }, {}],
    10: [function (e, t, n) {
        function o() {
            var e = window.navigator.userAgent, t = {
                myBrowser: "unknown",
                database: [{type: "IE Legacy", regExp: "MSIE [1-6].*"}, {
                    type: "IE 7",
                    regExp: "MSIE [7].*"
                }, {type: "IE 8", regExp: "MSIE [8].*"}, {type: "IE 9", regExp: "MSIE [9].*"}, {
                    type: "IE Modern",
                    regExp: "Trident/[6-9].*"
                }, {type: "Firefox", regExp: "Firefox/[0-9].*"}, {
                    type: "Safari",
                    regExp: "AppleWebKit/[0-9].*.Safari/[0-9]"
                }, {type: "Chrome", regExp: "AppleWebKit/[0-9].*.Chrome/[0-9].*.Safari/[0-9]"}, {
                    type: "Opera Presto",
                    regExp: "Opera.[0-9].*.Presto/[0-9]"
                }, {type: "Opera Modern", regExp: "OPR/[0-9][0-9]"}, {
                    type: "Edge",
                    regExp: "Edge/[0-9].*"
                }, {type: "Maxthon 4", regExp: "Maxthon/[4]"}]
            };
            return function () {
                for (var n = 0, o = t.database.length; o > n; n++) {
                    var i = new RegExp(t.database[n].regExp);
                    e.match(i) && (t.myBrowser = t.database[n].type)
                }
            }(), t.myBrowser
        }

        t.exports = o
    }, {}],
    11: [function (e, t, n) {
        function o(e) {
            return parseInt(e, 10) < 1e4 ? e : a(e)
        }

        function i(e) {
            return parseInt(e, 10) < 1e5 ? e : a(e)
        }

        function a(e) {
            if (!e)return e;
            if (isNaN(parseInt(e, 10)))return e;
            if (e = e.toString(), e.indexOf("万") > -1) {
                var t = parseFloat(e.substr(0, e.indexOf("万")));
                if (10 > t)return e;
                var n = t.toFixed(1);
                return n + "万"
            }
            return 0 <= e.indexOf("万") || 0 <= e.indexOf(",") ? void 0 : ((e = parseInt(e)) ? e >= 1e4 && (e = (e / 1e4).toFixed(1) + "万") : e = "--", e)
        }

        t.exports = {tenThousand: o, hunderdThousand: i}
    }, {}],
    12: [function (e, t, n) {
        function o(e) {
            var t = e.offsetLeft;
            return null !== e.offsetParent ? t += o(e.offsetParent) : void 0, t
        }

        function i(e) {
            var t = e.offsetTop;
            return null !== e.offsetParent ? t += i(e.offsetParent) : void 0, t
        }

        var a = e("../func-type-adjust/type-adjust");
        t.exports = function (e) {
            return e = "jQuery Object" === a(e) ? e[0] : e, {left: o(e), top: i(e)}
        }
    }, {"../func-type-adjust/type-adjust": 18}],
    13: [function (e, t, n) {
        function o() {
            "use strict";
            if (!$.cookie("DedeUserID"))try {
                throw window.biliQuickLogin ? (window.biliQuickLogin(function () {
                    window.location.reload()
                }), "Bilibili Live: 您没登陆，想干撒子？~~ -_-") : "Bilibili Live: 快速登录脚本尚未载入."
            } catch (e) {
                throw new Error(e)
            }
        }

        t.exports = o
    }, {}],
    14: [function (e, t, n) {
        var o = {
            happy: ["(｀･ω･´)", "=‿=✧", "●ω●", "(/ ▽ \\)", "(=・ω・=)", "(●'◡'●)ﾉ♥", "<(▰˘◡˘▰)>", "(⁄ ⁄•⁄ω⁄•⁄ ⁄)", "(ง,,• ᴗ •,,)ง ✧"],
            shock: [",,Ծ‸Ծ,,", "(｀･д･´)", "Σ( ° △ °|||)︴", "┌( ಠ_ಠ)┘", "(ﾟДﾟ≡ﾟдﾟ)!?"],
            sad: ["∑(っ °Д °;)っ", "＞︿＜", "＞△＜", "●︿●", "(´；ω；`)"],
            helpless: ["◐▽◑", "ʅ（´◔౪◔）ʃ", "_(:3 」∠)_", "_(┐「ε:)_", "(/・ω・＼)", "(°▽°)ﾉ"]
        };
        t.exports = {
            happy: function () {
                return o.happy[Math.floor(Math.random() * o.happy.length)]
            }, sad: function () {
                return o.sad[Math.floor(Math.random() * o.sad.length)]
            }, shock: function () {
                return o.shock[Math.floor(Math.random() * o.shock.length)]
            }, helpless: function () {
                return o.helpless[Math.floor(Math.random() * o.helpless.length)]
            }
        }
    }, {}],
    15: [function (require, module, exports) {
        function avalonSetNum(newNumber, oldNumber, avalonProp) {
            "use strict";
            function _clearNumTimer() {
                clearInterval(numTimer), numTimer = null
            }

            var numTimer = null;
            if ("[object String]" !== Object.prototype.toString.call(newNumber) && "[object Number]" !== Object.prototype.toString.call(newNumber))throw new Error('Function "avalonSetNum" Error: 在使用 avalonSetNum() 时请使用数字作为参数.');
            var currentNum = parseInt(oldNumber, 10), newNum = parseInt(newNumber, 10);
            if (!isNaN(currentNum) && !isNaN(newNum) && isFinite(currentNum) && isFinite(newNum)) {
                var deltaNum = newNum - currentNum;
                if (Math.abs(deltaNum) <= 10)return void eval("avalon.vmodels." + avalonProp + " = " + newNumber);
                var execTime = Math.abs(Math.floor(deltaNum / 1e4));
                execTime > 100 && (execTime = 100);
                var deltaPerTime = deltaNum / execTime, addCount = 0;
                numTimer = setInterval(function () {
                    return addCount++ >= execTime ? (numTimer && _clearNumTimer(), void eval("avalon.vmodels." + avalonProp + " = " + newNum)) : void eval("avalon.vmodels." + avalonProp + " = " + parseInt(currentNum + deltaPerTime * addCount, 10))
                }, 10)
            }
        }

        module.exports = avalonSetNum
    }, {}],
    16: [function (e, t, n) {
        function o(e, t) {
            "use strict";
            function n(e, t) {
                if (Object.prototype.toString.call(e).indexOf("Element") > -1)e.innerHTML = t; else {
                    if ("[object Object]" !== Object.prototype.toString.call(e))throw new Error('Function "_setHTML" in "setNum" Error: 请指定一个正确的节点.');
                    window.navigator.userAgent.indexOf("MSIE 8.0") > -1 && window.navigator.userAgent.indexOf("Trident/4.0") > -1 ? e.innerHTML = t : e.html(t)
                }
            }

            function o(e) {
                if (Object.prototype.toString.call(e).indexOf("Element") > -1)return e.innerHTML;
                if ("[object Object]" === Object.prototype.toString.call(e))return window.navigator.userAgent.indexOf("MSIE 8.0") > -1 && window.navigator.userAgent.indexOf("Trident/4.0") > -1 ? e.innerHTML : e.html();
                throw new Error('Function "_getHTML" in "setNum" Error: 请指定一个正确的节点.')
            }

            function i() {
                clearInterval(t.numTimer), t.numTimer = null
            }

            if ("[object String]" !== Object.prototype.toString.call(e) && "[object Number]" !== Object.prototype.toString.call(e))throw new Error('Function "setNum" Error: 在使用 setNum() 时请使用数字作为参数.');
            var a = parseInt(o(t), 10), r = parseInt(e, 10);
            if (isNaN(a) || isNaN(r))return void function () {
                var e = 'Function "setNum" Error: 当前节点中的内容或传入数字无法格式化为有效数字, 方法退出.';
                console.error, void 0, e = null
            }();
            if (!isFinite(a) || !isFinite(r))return void function () {
                var e = 'Function "setNum" Error: 当前节点中的内容或传入数字过于庞大, 方法退出.';
                console.error, void 0, e = null
            }();
            !function () {
                if (Object.prototype.toString.call(t).indexOf("Element") > -1)t.setAttribute("data-real-number", r); else {
                    if ("[object Object]" !== Object.prototype.toString.call(t))throw new Error('Function "setRealNumber" in "setNum" Error: 请指定一个正确的节点.');
                    window.navigator.userAgent.indexOf("MSIE 8.0") > -1 && window.navigator.userAgent.indexOf("Trident/4.0") > -1 ? t.setAttribute("data-real-number", r) : t.attr("data-real-number", r)
                }
            }();
            var s = r - a;
            if (Math.abs(s) <= 10)return void n(t, r);
            var l = Math.abs(Math.floor(s / 5));
            l > 100 && (l = 100);
            var c = s / l, u = 0;
            t.numTimer && i(), t.numTimer = setInterval(function () {
                return u++ >= l ? (n(t, r), t.numTimer ? i() : void 0, r) : void n(t, parseInt(a + c * u, 10))
            }, 10)
        }

        t.exports = o
    }, {}],
    17: [function (e, t, n) {
        function o(e) {
            var t = null;
            return t = e.toString(), t = t.slice(0, t.length - 3), t = parseInt(t, 10)
        }

        t.exports = o
    }, {}],
    18: [function (e, t, n) {
        t.exports = function (e) {
            var t = Object.prototype.toString.call(e), n = /HTML.*.Element/;
            return "[object Object]" === t && e.jquery ? "jQuery Object" : "[object Object]" === t ? "Object" : "[object Number]" === t ? "Number" : "[object String]" === t ? "String" : "[object Array]" === t ? "Array" : "[object Boolean]" === t ? "Boolean" : "[object Function]" === t ? "Function" : "[object Null]" === t ? "null" : "[object Undefined]" === t ? "undefined" : t.match(n) ? "HTML Element" : "[object HTMLCollection]" === t ? "HTML Elements Collection" : null
        }
    }, {}],
    19: [function (e, t, n) {
        t.exports = function () {
            !Array.prototype.filter && function () {
                Array.prototype.filter = function (e, t) {
                    for (var n = arguments.length > 1 ? t : this, o = [], i = 0, a = n.length; a > i; i++)e(n[i], i, n) && o.push(n[i]);
                    return o
                }
            }()
        }
    }, {}],
    20: [function (e, t, n) {
        t.exports = function () {
            !Array.prototype.forEach && function () {
                Array.prototype.forEach = function (e, t) {
                    for (var n = arguments.length > 1 ? t : this, o = 0, i = this.length; i > o; o++)e && "[object Function]" === Object.prototype.toString.call(e) && e.call(n, this[o], o, this)
                }
            }()
        }
    }, {}],
    21: [function (e, t, n) {
        t.exports = function () {
            !Array.prototype.indexOf && function () {
                Array.prototype.indexOf = function (e) {
                    for (var t = -1, n = 0, o = this.length; o > n; n++)if (e === this[n]) {
                        t = n;
                        break
                    }
                    return t
                }
            }()
        }
    }, {}],
    22: [function (e, t, n) {
        t.exports = function () {
            !Array.prototype.lastIndexOf && function () {
                Array.prototype.lastIndexOf = function (e) {
                    for (var t = -1, n = this.length - 1; n >= 0; n--)if (e === this[n]) {
                        t = n;
                        break
                    }
                    return t
                }
            }()
        }
    }, {}],
    23: [function (e, t, n) {
        t.exports = function () {
            !Array.prototype.map && function () {
                Array.prototype.map = function (e, t) {
                    for (var n = [], o = arguments.length > 1 ? t : this, i = 0, a = o.length; a > i; i++)n.push(e.call(o, o[i], i, o));
                    return n
                }
            }()
        }
    }, {}],
    24: [function (e, t, n) {
        t.exports = function () {
            !Array.prototype.reduce && function () {
                Array.prototype.reduce = function (e, t) {
                    for (var n = t ? t : this[0], o = 0, i = this.length; i > o; o++)(0 !== o || this[0] !== n) && (n = e(n, this[o], o, this));
                    return n
                }
            }()
        }
    }, {}],
    25: [function (e, t, n) {
        t.exports = function () {
            !Function.prototype.bind && function () {
                Function.prototype.bind = function () {
                    var e = this, t = [].shift.call(arguments), n = [].slice.call(arguments);
                    return function () {
                        e.apply(t, [].concat.call(n, [].slice.call(arguments)))
                    }
                }
            }()
        }
    }, {}],
    26: [function (e, t, n) {
        t.exports = function () {
            Number.prototype.toFixed1 = function () {
                return parseFloat(this.toString().replace(/(\.\d{1})\d+$/, "$1"))
            }
        }
    }, {}],
    27: [function (e, t, n) {
        t.exports = function () {
            !Object.create && function () {
                Object.create = function (e) {
                    var t = Object.prototype.toString.call(e);
                    if ("[object Object]" !== t && "[object Function]" !== t)throw new Error('Only "Object" or "Function" is allowed.');
                    var n = function () {
                    };
                    return n.prototype = e, new n
                }
            }()
        }
    }, {}],
    28: [function (e, t, n) {
        t.exports = function () {
            !Object.keys && function () {
                Object.keys = function (e) {
                    var t = [];
                    for (var n in e)e.hasOwnProperty(n) && t.push(n);
                    return t
                }
            }()
        }
    }, {}],
    29: [function (e, t, n) {
        t.exports = function () {
            !String.prototype.trim && function () {
                String.prototype.trim = function () {
                    return this.replace(/(^\s*)|(\s*$)/g, "")
                }
            }()
        }
    }, {}],
    30: [function (e, t, n) {
        var o = e("../app-config/app-config"), i = e("../functions/func-explorer-detective/explorer-detective");
        t.exports = function () {
            if ("IE 8" !== !i()) {
                var e = [function () {
                }, function () {
                }, function () {
                }];
                e[Math.floor(Math.random() * e.length)](), consoleText.log(o.appInfo.name + " " + o.appInfo.version + " Lovingly By © " + (new Date).getFullYear() + " - " + ((new Date).getFullYear() + 1) + " Bilibili Live Department  ...(●'◡'●)ﾉ♥   # Renascence #\n"), consoleText.log("Version: " + o.appInfo.version + ", CodeName: " + o.appInfo.codeName + ".\n\n\n")
            }
        }
    }, {"../app-config/app-config": 1, "../functions/func-explorer-detective/explorer-detective": 10}],
    31: [function (e, t, n) {
        t.exports = function (e) {
            e.liveTrackEvents = function (e) {
                return $.data ? $.data(e, "events", void 0, !0) : $._data(e, "events")
            }
        }
    }, {}],
    32: [function (e, t, n) {
        t.exports = function (t) {
            e("./jquery-plugin/jquery-cookie")(t), e("./jquery-plugin/jquery-selector-cache")(t), e("./func-live-track-events")(t), e("./func-greeting")(), e("./es5-shim/shim-array-filter")(), e("./es5-shim/shim-array-foreach")(), e("./es5-shim/shim-array-indexof")(), e("./es5-shim/shim-array-last-indexof")(), e("./es5-shim/shim-array-map")(), e("./es5-shim/shim-array-reduce")(), e("./es5-shim/shim-function-bind")(), e("./es5-shim/shim-number-tofixed1")(), e("./es5-shim/shim-object-create")(), e("./es5-shim/shim-object-keys")(), e("./es5-shim/shim-string-trim")()
        }
    }, {
        "./es5-shim/shim-array-filter": 19,
        "./es5-shim/shim-array-foreach": 20,
        "./es5-shim/shim-array-indexof": 21,
        "./es5-shim/shim-array-last-indexof": 22,
        "./es5-shim/shim-array-map": 23,
        "./es5-shim/shim-array-reduce": 24,
        "./es5-shim/shim-function-bind": 25,
        "./es5-shim/shim-number-tofixed1": 26,
        "./es5-shim/shim-object-create": 27,
        "./es5-shim/shim-object-keys": 28,
        "./es5-shim/shim-string-trim": 29,
        "./func-greeting": 30,
        "./func-live-track-events": 31,
        "./jquery-plugin/jquery-cookie": 33,
        "./jquery-plugin/jquery-selector-cache": 34
    }],
    33: [function (e, t, n) {
        function o(e) {
            function t(e) {
                return s.raw ? e : encodeURIComponent(e)
            }

            function n(e) {
                return s.raw ? e : decodeURIComponent(e)
            }

            function o(e) {
                return t(s.json ? JSON.stringify(e) : String(e))
            }

            function i(e) {
                0 === e.indexOf('"') && (e = e.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
                try {
                    return e = decodeURIComponent(e.replace(r, " ")), s.json ? JSON.parse(e) : e
                } catch (t) {
                }
            }

            function a(t, n) {
                var o = s.raw ? t : i(t);
                return e.jQuery.isFunction(n) ? n(o) : o
            }

            if (!e.jQuery.cookie || !e.jQuery.removeCookie) {
                var r = /\+/g, s = e.jQuery.cookie = function (i, r, l) {
                    if (void 0 !== r && !e.jQuery.isFunction(r)) {
                        if (l = e.jQuery.extend({}, s.defaults, l), "number" == typeof l.expires) {
                            var c = l.expires, u = l.expires = new Date;
                            u.setTime(+u + 864e5 * c)
                        }
                        return document.cookie = [t(i), "=", o(r), l.expires ? "; expires=" + l.expires.toUTCString() : "", l.path ? "; path=" + l.path : "", l.domain ? "; domain=" + l.domain : "", l.secure ? "; secure" : ""].join("")
                    }
                    for (var d = i ? "" : {}, f = document.cookie ? document.cookie.split("; ") : [], p = 0, m = f.length; m > p; p++) {
                        var v = f[p].split("="), g = n(v.shift()), h = v.join("=");
                        if (i && i === g) {
                            d = a(h, r);
                            break
                        }
                        i || void 0 === (h = a(h)) || (d[g] = h)
                    }
                    return d
                };
                s.defaults = {}, e.jQuery.removeCookie = function (t, n) {
                    return void 0 === e.jQuery.cookie(t) ? !1 : (e.jQuery.cookie(t, "", e.jQuery.extend({}, n, {expires: -1})), !e.jQuery.cookie(t))
                }
            }
        }

        t.exports = o
    }, {}],
    34: [function (e, t, n) {
        t.exports = function (e, t) {
            function n(e, t) {
                return t === !0 ? (i[e] = o(e), i[e]) : i[e] ? i[e] : (i[e] = o(e), i[e])
            }

            var o = e.jQuery;
            o.extend({$cache: n});
            var i = {}
        }
    }, {}],
    35: [function (e, t, n) {
        function o() {
            var t = avalon.define({$id: "liveService"});
            e("./live-service-update-currency")(t), e("./live-service-get-bp")(t)
        }

        t.exports = o
    }, {"./live-service-get-bp": 36, "./live-service-update-currency": 37}],
    36: [function (e, t, n) {
        t.exports = function (e, t) {
            "use strict"
        }
    }, {}],
    37: [function (e, t, n) {
        var o = e("../app-config/app-config");
        e("../functions/func-random-emoji/random-emoji");
        t.exports = function (e, t) {
            "use strict";
            e.$watch("updateCurrency", function (n) {
                if (n) {
                    if (null === n.gold || n.gold === t || isNaN(n.gold) || (n.gold = parseInt(n.gold, 10)), null === n.silver || n.silver === t || isNaN(n.silver) || (n.silver = parseInt(n.silver, 10)), null !== n.gold && n.gold !== t && isNaN(n.gold) || null !== n.silver && n.silver !== t && isNaN(n.silver))throw new Error(o.consoleText.error + "updateCurrency 的值必须为有效数字.");
                    return void e.$fire("all!fillCurrency", n)
                }
                $.ajax({
                    url: "/user/getuserinfo",
                    type: "GET",
                    data: {ts: Date.now()},
                    dataType: "JSON",
                    success: function (t) {
                        "REPONSE_OK" == t.code && (t.data.silver = parseInt(t.data.silver, 10), t.data.gold = parseInt(t.data.gold, 10), isNaN(t.data.silver) || isNaN(t.data.gold) || e.$fire("all!fillCurrency", {
                            silver: t.data.silver,
                            gold: t.data.gold,
                            biliCoin: t.data.billCoin
                        }))
                    },
                    error: function (e) {
                        throw new Error(o.consoleText.error + "瓜子信息更新失败: 请求发送失败.")
                    }
                })
            })
        }
    }, {"../app-config/app-config": 1, "../functions/func-random-emoji/random-emoji": 14}],
    38: [function (e, t, n) {
        e("../../../../common/components/live-widget/live-popup/live-popup"), e("../../../../common/functions/func-random-emoji/random-emoji");
        t.exports = function (e) {
            "use strict";
            e.$watch("showStreamCode", function () {
                1 === parseInt(ISANCHOR, 10) && e.$fire("all!showLiveManageDialog")
            })
        }
    }, {
        "../../../../common/components/live-widget/live-popup/live-popup": 7,
        "../../../../common/functions/func-random-emoji/random-emoji": 14
    }],
    39: [function (e, t, n) {
        t.exports = function () {
            var t = avalon.define({$id: "adminFuncsCtrl"});
            e("./functions/live-on-rtmp")(t)
        }
    }, {"./functions/live-on-rtmp": 38}],
    40: [function (e, t, n) {
        var o = avalon.define({
            $id: "adminManage",
            urls: {list: "/liveact/ajaxGetAdminList", manage: "/liveact/admin"},
            roomid: window.ROOMID,
            iptName: "",
            iptFlag: !1,
            listData: [],
            tipMsg: "",
            doms: {},
            csses: {iptName: ".ipt-name"},
            init: function () {
                this.$el = $("[data-content='adminManage']"), this.getList()
            },
            setDoms: function () {
                var e = this.$el, t = this.csses;
                this.doms = {$iptName: $(t.iptName, e)}
            },
            clickAddAdmin: function (e) {
                o.clickAddAdmin.ing || (o.clickAddAdmin.ing = !0, o.iptName ? (o.iptFlag = !0, o.tipMsg = "", o.add(function () {
                    o.clickAddAdmin.ing = !1
                })) : (o.tipMsg = "请填写房管名称！", o.iptFlag = !1, o.clickAddAdmin.ing = !1))
            },
            clickDel: function (e) {
                if (!o.clickDel.ing) {
                    o.clickDel.ing = !0;
                    var t = $(e.target), n = t.parents("tr").index();
                    o.del(n, function () {
                        o.clickDel.ing = !1
                    })
                }
            },
            getList: function (e) {
                var t = this.urls.list, n = {roomid: o.roomid};
                $.ajax({
                    type: "post", url: t, data: n, dataType: "json", success: function (t) {
                        o.listData = t.data, e && e()
                    }
                })
            },
            manage: function (e, t, n, o) {
                var i = this, a = this.urls.manage, r = {uname: e, roomid: i.roomid, type: t};
                $.ajax({
                    type: "post", url: a, data: r, dataType: "json", success: function (e) {
                        0 === e.code ? n && n(e.data) : o && o(e)
                    }, error: function (e) {
                        o && o(e)
                    }
                })
            },
            add: function (e) {
                var t = o.iptName;
                this.manage(t, "add", function (t) {
                    o.listData.unshift(t), o.iptName = "", o.tipMst = "", liveToast(o.$el.find(".btn-add")[0], "任命成功！", "success", !0), e && e()
                }, function (t) {
                    o.tipMsg = t.msg || "", e && e()
                })
            },
            del: function (e, t) {
                var n = o.listData[e].userinfo.uname;
                this.manage(n, "del", function () {
                    liveToast(o.$el.find(".item").eq(e)[0], "撤销成功", "success", !0), o.listData.splice(e, 1), t && t()
                }, function (e) {
                    o.tipMsg = e.msg, db && t()
                })
            }
        });
        o.init(), t.exports = o
    }, {}],
    41: [function (e, t, n) {
        e("perfect-scrollbar/jquery")($);
        var o = avalon.define({
            $id: "blackManage",
            $el: [],
            urls: {
                list: "/liveact/ajaxGetBlockList",
                add: "/liveact/room_block_user",
                del: "/liveact/del_room_block_user"
            },
            roomid: window.ROOMID,
            iptName: "",
            iptTime: "",
            listData: [],
            tipName: "",
            tipTime: "",
            nowPage: 0,
            iptNameFlag: !0,
            iptTimeFlag: !0,
            getListIng: !1,
            doms: {},
            init: function (e) {
                this.$el = e.$el, avalon.scan(this.$el[0], o), this.bindScrollPage()
            },
            setDoms: function () {
                var e = this.$el, t = this.csses;
                this.doms = {$iptName: $(t.iptName, e)}
            },
            refresh: function () {
                this.nowPage = 0, this.listData = [], this.bindScrollPage(),
                    this.getList()
            },
            clickAdd: function () {
                if (!o.clickAdd.ing) {
                    o.clickAdd.ing = !0;
                    var e = o.iptName, t = o.iptTime, n = !0;
                    e ? (o.tipName = "", o.iptNameFlag = !0) : (o.tipName = "请填写用户名！", n = !1, o.iptNameFlag = !1), t ? /[^0-9]/.test(t) || t > 72 || 1 > t ? (o.tipTime = "请直接输入数字(1-72)", n = !1, o.iptTimeFlag = !1) : (o.tipTime = "", o.iptTimeFlag = !0) : (o.tipTime = "请填写封禁时间！", n = !1, o.iptTimeFlag = !1), n ? o.add(function () {
                        o.clickAdd.ing = !1
                    }) : o.clickAdd.ing = !1
                }
            },
            clickDel: function (e) {
                if (!o.clickDel.ing) {
                    o.clickDel.ing = !0;
                    var t = $(e.target).parents("tr").index();
                    o.del(t, function () {
                        o.clickDel.ing = !1
                    })
                }
            },
            getList: function (e, t) {
                if (!this.getListIng) {
                    this.getListIng = !0;
                    var n = this, i = this.urls.list, a = {roomid: o.roomid, page: o.nowPage + 1};
                    $.ajax({
                        type: "post", url: i, data: a, dataType: "json", success: function (i) {
                            n.getListIng = !1, 0 === i.code ? (i.data.length > 0 && (o.nowPage = o.nowPage + 1, o.listData = o.listData.concat(i.data)), e && e(i.data)) : t && t()
                        }, error: function () {
                            n.getListIng = !1, t && t()
                        }
                    })
                }
            },
            add: function (e) {
                var t = o.urls.add, n = {roomid: o.roomid, uname: o.iptName, type: 1, hour: o.iptTime};
                $.ajax({
                    type: "post", url: t, data: n, dataType: "json", success: function (t) {
                        0 === t.code ? (o.listData.unshift(t.data), o.tipName = "", o.iptName = "", o.iptTime = "", liveToast(o.$el.find(".btn-add")[0], "添加成功", "success", !0)) : o.tipName = t.msg, e && e()
                    }, error: function () {
                        e && e()
                    }
                })
            },
            clickHide: function () {
                o.$el.parents("[panel-type='roomManage']").removeClass("open")
            },
            del: function (e, t) {
                var n = this.listData[e].id, i = o.urls.del, a = {roomid: o.roomid, id: n};
                $.ajax({
                    type: "post", url: i, data: a, dataType: "json", success: function (n) {
                        0 === n.code ? (liveToast(o.$el.find(".item").eq(e)[0], "撤销成功", "success", !0), o.listData.splice(e, 1)) : o.tipName = n.msg, t && t()
                    }, error: function () {
                        t && t()
                    }
                })
            },
            bindScrollPage: function () {
                this.unbindScrollPage();
                var e = 0, t = o.$el.find(".manage-list");
                t.bind("scroll", function () {
                    e && clearTimeout(e), e = setTimeout(function () {
                        if (t[0].scrollHeight - t[0].scrollTop - t[0].clientHeight <= 0) {
                            if (o.getListIng)return;
                            o.getList(function (e) {
                                0 === e.length && o.unbindScrollPage()
                            })
                        }
                    }, 50)
                })
            },
            unbindScrollPage: function () {
                o.$el.find(".manage-list").unbind("scroll")
            }
        });
        $(function () {
            $(".black-manage .manage-list").perfectScrollbar()
        }), t.exports = function (e) {
            return $(function () {
                o.init(e)
            }), o
        }
    }, {"perfect-scrollbar/jquery": 89}],
    42: [function (e, t, n) {
        (function (n) {
            var o = (e("./live-manage.js"), e("./black-manage.js")({$el: $("[data-content='blackManage']", $("#live-info-manage"))})), i = (e("./admin-manage.js"), avalon.define({
                $id: "liveInfoManage",
                curTarget: "liveManage",
                isAdmin: !1,
                isOpen: !1,
                $el: "#live-info-manage",
                $dialog: ".live-info-manage-dialog",
                coverNum: 0,
                coverListData: [],
                allowUploadCoverTime: 0,
                init: function () {
                    this.$el = $(this.$el), this.$dialog = this.$el.find(this.$dialog), this.bindEvt(), avalon.scan(this.$el[0], i), this.setWatch()
                },
                setWatch: function () {
                    var e = this;
                    this.$watch("showLiveManageDialog", function (t) {
                        t = t || {}, t.blackName && (o.iptName = t.blackName), e.curTarget = t.curTarget || "liveManage", e.show()
                    })
                },
                clickTab: function (e) {
                    var t = $(e.target), n = t.data("target");
                    n !== i.curTarget && (i.curTarget = n, "blackManage" === n && o.refresh())
                },
                show: function () {
                    var e = this;
                    e.getCoverList(function (t) {
                        0 == t.code && (e.$el.addClass("open"), e.setPosition())
                    })
                },
                hide: function (e) {
                    this.$el.removeClass("open")
                },
                clickHide: function () {
                    i.hide()
                },
                setPosition: function () {
                    var e, t, n, o = document.documentElement.clientWidth, i = document.documentElement.clientHeight, a = this.$dialog.width(), r = this.$dialog.height();
                    e = i / 2 - r / 2, t = o / 2 - a / 2, 0 > e && (e = 2 * e), n = {
                        position: "fixed",
                        zIndex: 99,
                        left: t,
                        top: e
                    }, this.$dialog.css(n)
                },
                bindEvt: function () {
                    var e = 0, t = this;
                    $(window).resize(function () {
                        e && clearTimeout(e), e = setTimeout(function () {
                            t.$el.hasClass("open") && t.setPosition()
                        }, 50)
                    })
                },
                getCoverList: function (e) {
                    this.$el = $(this.$el), $.ajax({
                        type: "GET",
                        data: {roomid: n.ROOMID},
                        url: "/live/getMasterInfo",
                        dataType: "JSON",
                        cache: !1,
                        success: function (t) {
                            0 == t.code && (i.coverNum = t.data.coverNum, i.allowUploadCoverTime = t.data.allowUploadCoverTime, i.coverListData = t.data.coverList, avalon.scan(i.$el.find(".cover-list")[0], i)), e && e(t)
                        }
                    })
                },
                setCover: function (e, t, o) {
                    $.ajax({
                        type: "POST",
                        data: {roomid: n.ROOMID, type: "cover", pic_id: t},
                        url: "/liveact/changePic",
                        dataType: "JSON",
                        success: function (t) {
                            0 == t.code ? (liveToast($(e.target), "封面切换成功", "success", !0), i.getCoverList()) : liveToast($(e.target), t.msg, "info", !0)
                        }
                    })
                },
                delCover: function (e, t, o) {
                    livePopup({
                        title: "确定吗~",
                        html: "<p>确定要删除图片吗？</p>",
                        type: "action",
                        width: "350",
                        button: {confirm: "确定", cancel: "取消"},
                        onConfirm: function () {
                            var o = this;
                            $.ajax({
                                type: "POST",
                                data: {roomid: n.ROOMID, type: "cover", pic_id: t},
                                url: "/liveact/deletePic",
                                dataType: "JSON",
                                success: function (t) {
                                    0 == t.code ? (i.getCoverList(), o.done()) : liveToast($(e.target), t.msg, "info", !0)
                                }
                            })
                        }
                    })
                },
                uploadClick: function (e, t) {
                    return 0 != i.allowUploadCoverTime ? void liveToast($(e.target), "╮(￣⊿￣)╭，下次可上传时间为：" + i.allowUploadCoverTime, "info", !0) : void(0 >= t ? liveToast($(e.target), "当前您的等级不够，请加油升级哦", "info", !0) : $("#cover-img-input").click())
                },
                uploadCoverImg: function () {
                    var e = $("#cover-img-input");
                    return e[0].files[0].size > 409600 ? void liveToast($("#cover-upload-icon"), "文件大小不能超过50K", "info", !0) : void $("#coverFormFile").submit()
                },
                getMasterInfo: function (e) {
                    $.ajax({
                        type: "GET",
                        data: {roomid: n.ROOMID},
                        url: "/live/getMasterInfo",
                        dataType: "JSON",
                        cache: !1,
                        success: function (t) {
                            0 == t.code && (i.coverNum = t.data.coverNum, i.allowUploadCoverTime = t.data.allowUploadCoverTime, i.coverListData = t.data.coverList, avalon.scan(i.$el.find(".cover-list")[0], i)), e && e(t)
                        }
                    })
                }
            }));
            $(function () {
                i.init(), window.roomCoverUploadSuccess = function (e) {
                    var e = JSON.parse(e);
                    0 == e.code ? i.getCoverList() : liveToast($("#cover-upload-icon"), e.msg, "info", !0)
                }
            }), t.exports = function () {
                return i
            }
        }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {"./admin-manage.js": 40, "./black-manage.js": 41, "./live-manage.js": 43}],
    43: [function (e, t, n) {
        var o = e("../../../../common/functions/func-random-emoji/random-emoji"), i = avalon.define({
            $id: "liveManage",
            urls: {liveInfo: "/liveact/getrtmp"},
            $el: [],
            rtmpUrl: "",
            liveCode: "",
            init: function () {
                i.$el = $("[data-content='liveManage']"), this.$watch("showLiveManageDialog", function () {
                    i.rtmpUrl || i.getData(function (e) {
                        i.successCallback(e)
                    })
                }), this.bindEvt()
            },
            successCallback: function (e) {
                i.rtmpUrl = e.data.addr, i.liveCode = e.data.code
            },
            getData: function (e) {
                var t = this.urls.liveInfo;
                $.ajax({
                    type: "post", url: t, data: {roomid: window.ROOMID}, dataType: "json", success: function (t) {
                        e && e(t)
                    }
                })
            },
            bindEvt: function () {
                "undefined" == typeof ZeroClipboard && $.getScript("http://static.hdslb.com/live-static/libs/zero-clipboard/ZeroClipboard.min.js", function () {
                    $(".btn-copy", i.$el).each(function () {
                        var e = $(this)[0], t = new ZeroClipboard(e);
                        t.on("ready", function (n) {
                            t.on("aftercopy", function (t) {
                                liveToast(e, "复制成功！" + o.happy(), "success", !1)
                            })
                        })
                    })
                })
            }
        });
        $(function () {
            i.init()
        }), t.exports = i
    }, {"../../../../common/functions/func-random-emoji/random-emoji": 14}],
    44: [function (e, t, n) {
        var o = avalon.define({
            $id: "roomAdmin", isAdmin: !0, $el: [], init: function () {
                var e = this;
                this.$el = $("#room-adminer"), this.$dialog = this.$el.find(".live-info-manage-dialog"), this.bindEvt(), avalon.scan(this.$el[0]), this.$watch("showBlackDialog", function (t) {
                    t = t || {}, t.blackName && (i.iptName = t.blackName), e.show()
                })
            }, show: function () {
                this.$el.addClass("open"), this.setPosition()
            }, clickHide: function () {
                o.$el.removeClass("open")
            }, hide: function (e) {
                this.$el.removeClass("open")
            }, setPosition: function () {
                var e, t, n, o = document.documentElement.clientWidth, i = document.documentElement.clientHeight, a = this.$dialog.width(), r = this.$dialog.height();
                e = i / 2 - r / 2, t = o / 2 - a / 2, 0 > e && (e = 2 * e), n = {
                    position: "fixed",
                    zIndex: 1100,
                    left: t,
                    top: e
                }, this.$dialog.css(n)
            }, bindEvt: function () {
                var e = 0, t = this;
                $(window).resize(function () {
                    e && clearTimeout(e), e = setTimeout(function () {
                        t.$el.hasClass("open") && t.setPosition()
                    }, 50)
                })
            }
        });
        o.init();
        var i = e("./black-manage.js")({$el: $("[data-content='blackManage']", $("#room-adminer"))});
        t.exports = function () {
            return o
        }
    }, {"./black-manage.js": 41}],
    45: [function (e, t, n) {
        var o = avalon.define({
            $id: "roomInfoEdit",
            $el: "#room-info-edit",
            $dialog: ".room-info-edit-dialog",
            $mask: [],
            defData: {},
            nowData: {},
            curBgTarget: "default",
            bgListData: [],
            bgNum: 0,
            allowUploadBgTime: 0,
            allowUpdateAreaTime: 0,
            maxNameCount: 20,
            nameCount: 0,
            tipMsg: "",
            nowArea: "",
            nowAreaID: "",
            maxTag: 6,
            tag: [],
            recTag: [],
            addTagName: "",
            area: "",
            des: "",
            roomName: "",
            defTagAddTip: "",
            partListShow: !1,
            init: function () {
                this.$el = $(this.$el), this.$dialog = this.$el.find(this.$dialog), this.defData = this.getDefData(), this.roomName = this.defData.roomName, this.des = this.defData.des, this.nowArea = this.defData.nowArea, this.nowAreaID = this.defData.nowAreaID, this.tag = this.defData.tag, this.recTag = this.defData.recTag, this.nameCount = this.getNameCount(this.roomName), avalon.scan(o.$el[0], o), this.bindEvt(), this.setWatch()
            },
            setWatch: function () {
                var e = this;
                this.$watch("showRoomEditDialog", function (t) {
                    e.show()
                })
            },
            getDefData: function () {
                var e, t = $(".tag-box").attr("tags"), n = $("[recommendTags]").attr("recommendTags");
                return e = {
                    roomName: $(".ipt-room-name").val(),
                    des: $("#dis-redactor-contenet").val(),
                    nowArea: $(".part-name").text(),
                    nowAreaID: $(".part-name").data("value"),
                    tag: t ? t.split(",") : [],
                    recTag: n ? n.split(",") : []
                }
            },
            setText: function () {
                $("#dis-redactor-contenet").redactor({
                    lang: "zh_cn",
                    minHeight: 125,
                    autoresize: !1,
                    buttons: ["html", "formatting", "bold", "italic", "deleted", "unorderedlist", "orderedlist", "outdent", "indent", "file", "table", "link", "fontcolor", "backcolor", "alignment", "horizontalrule"]
                })
            },
            keyupRoomName: function (e) {
                var t = $(e.target), n = o.getNameCount(t.val()), i = "";
                n > o.maxNameCount && (n = 20, o.roomName = i = o.subStringC(o.roomName, 2 * o.maxNameCount), t.val(i), e.preventDefault()), o.nameCount = n
            },
            getNameCount: function (e) {
                var t = Math.ceil(e.replace(/[^\x00-\xff]/g, "__").length / 2);
                return t
            },
            subStringC: function (e, t) {
                var n, o = 0, i = 0;
                for (i; i < e.length; i++) {
                    if (o += /[^\x00-\xff]/.test(e[i]) ? 2 : 1, o > t) {
                        n = i - 1;
                        break
                    }
                    o === t && (n = i)
                }
                return e.substring(0, n + 1)
            },
            show: function () {
                var e = this;
                e.getMasterInfo(function (t) {
                    0 == t.code && (e.$el.addClass("open"), e.setPosition())
                })
            },
            checkTag: function (e) {
                return o.tag.length >= o.maxTag ? (o.tipMsg = "您当前等级最多能填写 " + o.maxTag + " 个标签", !1) : $.inArray(e, o.tag) > -1 ? (o.tipMsg = "不能填写重复标签哦", !1) : e ? !0 : (o.tipMsg = "请输入标签", !1)
            },
            keyupInput: function (e) {
                var t;
                13 === e.keyCode && (t = $.trim(o.addTagName), o.checkTag(t) && (o.tag.push(o.addTagName), o.addTagName = ""))
            },
            clickRecTag: function (e) {
                var t = $(e.target), n = $.trim(t.text()), i = t.index();
                o.checkTag(n) && (o.tag.push(n), o.recTag.splice(i, 1))
            },
            clickDelTag: function (e) {
                var t = $(e.target), n = t.index();
                o.tag.splice(n, 1), o.tipMsg = ""
            },
            clickHide: function () {
                o.hide()
            },
            clickCancel: function () {
                o.hide()
            },
            hide: function () {
                this.$el.removeClass("open")
            },
            setPosition: function () {
                var e, t, n, o = document.documentElement.clientWidth, i = document.documentElement.clientHeight, a = this.$dialog.width(), r = this.$dialog.height();
                e = i / 2 - r / 2, t = o / 2 - a / 2, 0 > e && (e = 2 * e), n = {
                    position: "fixed",
                    zIndex: 99,
                    left: t,
                    top: e
                }, this.$dialog.css(n)
            },
            bindEvt: function () {
                var e = 0, t = this;
                $(window).resize(function () {
                    e && clearTimeout(e), e = setTimeout(function () {
                        t.$el.hasClass("open") && t.setPosition()
                    }, 50)
                })
            },
            clickPartHandle: function (e) {
                0 != o.allowUpdateAreaTime ? liveToast($(e.target), "此功能被禁，" + o.allowUpdateAreaTime + " 解封", "info", !0) : o.partListShow = !o.partListShow
            },
            getRecTag: function (e) {
                var t = "/liveact/ajaxGetAreaTags";
                $.ajax({
                    type: "get", data: {area: e}, url: t, dataType: "json", success: function (e) {
                        o.recTag = e.data
                    }
                })
            },
            clickPartItem: function (e) {
                var t = $(e.target), n = t.data("value"), i = t.text();
                o.nowArea = i, o.nowAreaID = n, o.getRecTag(n), o.partListShow = !1
            },
            setData: function (e) {
                $.ajax({
                    type: "post", url: "/liveact/edit_room", data: e, dataType: "json", success: function (e) {
                        0 === e.code ? (liveToast(o.$el.find(".btn-ok")[0], "信息修改成功", "success", !0), location.reload()) : o.tipMsg = e.msg
                    }
                })
            },
            getBgList: function (e) {
                this.$el = $(this.$el), $.ajax({
                    type: "GET",
                    data: {roomid: window.ROOMID},
                    url: "/live/getMasterInfo",
                    dataType: "JSON",
                    cache: !1,
                    success: function (t) {
                        0 == t.code && (o.bgNum = t.data.bgNum, o.allowUploadBgTime = t.data.allowUploadBgTime, o.bgListData = t.data.bgList, avalon.scan(o.$el.find(".cover-list")[0], o)), e && e(t)
                    }
                })
            },
            setBg: function (e, t, n) {
                $.ajax({
                    type: "POST",
                    data: {roomid: window.ROOMID, type: "bg", pic_id: t},
                    url: "/liveact/changePic",
                    dataType: "JSON",
                    success: function (t) {
                        0 == t.code ? (liveToast($(e.target), "背景切换成功", "success", !0), o.getBgList()) : liveToast($(e.target), t.msg, "info", !0)
                    }
                })
            },
            setDefBg: function (e, t, n) {
                $.ajax({
                    type: "POST",
                    data: {roomid: window.ROOMID, bg_id: t},
                    url: "/liveact/change_bg",
                    dataType: "JSON",
                    success: function (n) {
                        0 == n.code ? (liveToast($(e.target), "背景切换成功", "success", !0), $(".default-cover-list .cover-item").removeClass("current").addClass("operable"), $(".default-cover-list .id-" + t).removeClass("operable").addClass("current")) : liveToast($(e.target), n.msg, "info", !0)
                    }
                })
            },
            delBg: function (e, t, n) {
                livePopup({
                    title: "确定吗~",
                    html: "<p>确定要删除图片吗？</p>",
                    type: "action",
                    width: "350",
                    button: {confirm: "确定", cancel: "取消"},
                    onConfirm: function () {
                        var n = this;
                        $.ajax({
                            type: "POST",
                            data: {roomid: window.ROOMID, type: "bg", pic_id: t},
                            url: "/liveact/deletePic",
                            dataType: "JSON",
                            success: function (t) {
                                0 == t.code ? (o.getBgList(), n.done()) : liveToast($(e.target), t.msg, "info", !0)
                            }
                        })
                    }
                })
            },
            uploadClick: function (e, t) {
                return 0 != o.allowUploadBgTime ? void liveToast($(e.target), "╮(￣⊿￣)╭，下次可上传时间为：" + o.allowUploadBgTime, "info", !0) : void(0 >= t ? liveToast($(e.target), "当前您的等级不够，请加油升级哦", "info", !0) : $("#bg-img-input").click())
            },
            uploadBgImg: function () {
                var e = $("#bg-img-input");
                return e[0].files[0].size > 4096e3 ? void liveToast($("#bg-upload-icon"), "文件大小不能超过500K", "info", !0) : void $("#bgFormFile").submit()
            },
            clickTab: function (e) {
                var t = $(e.target), n = t.data("target");
                "custom" == n && o.getMasterInfo(), n !== o.curBgTarget && (o.curBgTarget = n)
            },
            getMasterInfo: function (e) {
                $.ajax({
                    type: "GET",
                    data: {roomid: window.ROOMID},
                    url: "/live/getMasterInfo",
                    dataType: "JSON",
                    cache: !1,
                    success: function (t) {
                        0 == t.code && (o.bgNum = t.data.bgNum, o.allowUpdateAreaTime = t.data.allowUpdateAreaTime, o.allowUploadBgTime = t.data.allowUploadBgTime, o.maxTag = t.data.tagsNum, o.bgListData = t.data.bgList, avalon.scan(o.$el.find(".cover-list")[0], o)), e && e(t)
                    }
                })
            },
            clickSubmit: function () {
                if (o.getNameCount(o.roomName) > o.maxNameCount, !o.roomName)return void(o.tipMsg = "请填写房间名称！");
                if (-1 == o.nowAreaID)return void(o.tipMsg = "请选择分区！");
                var e = o.getAllData();
                o.setData(e)
            },
            getAllData: function () {
                var e, t = this;
                return e = this.tag.join(","), {
                    tags: e,
                    title: t.roomName,
                    description: t.des,
                    roomid: window.ROOMID,
                    area: t.nowAreaID
                }
            }
        });
        !function () {
            var e = "http://static.hdslb.com/live-static";
            $.getScript(e + "/libs/redactor/redactor-8.2.4.js", function () {
                $.getScript(e + "/libs/redactor/redactor-8.2.4.zh_cn.js", function () {
                    o.setText()
                })
            }), $("body").append('<link rel="stylesheet" href="http://static.hdslb.com/css/redactor-8.2.4.css">'), window.roomBgUploadSuccess = function (e) {
                var e = JSON.parse(e);
                0 == e.code ? o.getBgList() : liveToast($("#bg-upload-icon"), e.msg, "info", !0)
            }
        }(), $(function () {
            o.init()
        }), t.exports = function () {
            return o
        }
    }, {}],
    46: [function (e, t, n) {
        t.exports = function (t) {
            t.ISANCHOR && (e("./javascripts/live-info-manage.js"), e("./javascripts/room-info-edit.js")), 1 == t.ISADMIN && 1 != t.ISANCHOR && e("./javascripts/room-admin.js")
        }
    }, {
        "./javascripts/live-info-manage.js": 42,
        "./javascripts/room-admin.js": 44,
        "./javascripts/room-info-edit.js": 45
    }],
    47: [function (e, t, n) {
        var o = e("../../../../../common/components/live-widget/live-toast/live-toast"), i = e("../../../../../common/functions/func-random-emoji/random-emoji");
        t.exports = function (e) {
            return e.ISANCHOR ? void $(function () {
                $("#bk-changers").show().on("click", ".changer", function (t) {
                    var n = $(this), a = n.attr("data-bk-id");
                    $.ajax({
                        url: "/liveact/change_bg",
                        type: "POST",
                        data: {roomid: e.ROOMID, bg_id: a},
                        dataType: "JSON",
                        success: function (e) {
                            return 0 != e.code ? void o(n, e.msg + i.sad(), "caution") : (o(n, "背景更换成功！" + i.happy(), "success"), n.addClass("active").siblings(".changer").removeClass("active"), void(n = a = null))
                        },
                        error: function (e) {
                            o(n, "背景更换失败, 稍后再试试吧 " + i.sad(), "caution")
                        }
                    })
                })
            }) : void $("#bk-changers").remove()
        }
    }, {
        "../../../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../../../common/functions/func-random-emoji/random-emoji": 14
    }],
    48: [function (e, t, n) {
        var o = e("../../../../../common/functions/func-avalon-lazy-init/lazy-init"), i = e("../../../../../common/functions/func-live-quick-login/live-quick-login"), a = e("../../../../../common/components/live-widget/live-toast/live-toast"), r = e("../../../../../common/functions/func-random-emoji/random-emoji");
        t.exports = function () {
            "use strict";
            var e = 16777215;
            avalon.ready(function () {
                function t(e) {
                    var n = e && (e.target || e.srcElement);
                    n && n.className.indexOf("emoji-panel") > -1 || $(".emoji-panel").fadeOut(200, function () {
                        c.doms.emojiPanel = !1, $(window).off("click", t)
                    })
                }

                function n(e) {
                    if (e) {
                        var t = e.target || e.srcElement;
                        if (t.className.indexOf("danmu-color-panel") > -1 || t.className.indexOf(".danmu-color-block") > -1)return
                    }
                    $(".danmu-color-panel").fadeOut(200, function () {
                        c.doms.danmuColor = !1, $(window).off("click", n)
                    })
                }

                function s(e) {
                    c.danmuSend.data = e, $("#danmu-textbox").val(e)
                }

                function l(e) {
                    return e.replace(/\r\n/g, "")
                }

                var c = avalon.define({
                    $id: "chatCtrlPanelCtrl",
                    chatScrollLocked: !1,
                    danmuSend: {
                        data: "", maxLength: 20, inputEvent: function (e) {
                            e.preventDefault();
                            var t = e.target || e.srcElement;
                            c.danmuSend.data = $(t).val(), 13 === e.keyCode && c.danmuSend.send(e)
                        }, preventEnter: function (e) {
                            return 13 === e.keyCode ? (e.preventDefault(), !1) : void 0
                        }, send: function (e) {
                            c.$fire("sendDanmu", e.target || e.srcElement)
                        }
                    },
                    doms: {emojiPanel: !1, danmuColor: !1},
                    danmuCtrl: {
                        emoji: function () {
                            c.doms.emojiPanel = !0, setTimeout(function () {
                                $(window).on("click", t)
                            }, 1)
                        }, hotWords: function () {
                        }, color: function () {
                            c.doms.danmuColor = !c.doms.danmuColor, setTimeout(function () {
                                $(window).on("click", n)
                            }, 1)
                        }, empty: function (e) {
                            a(e.target || e.srcElement, "清屏成功 " + r.helpless(), "success"), c.$fire("all!chatListEmpty", e)
                        }, lock: function () {
                            c.chatScrollLocked = !c.chatScrollLocked, c.$fire("all!lockChatList", c.chatScrollLocked)
                        }
                    }
                });
                c.$watch("sendDanmu", function (t) {
                    i();
                    var n = c.danmuSend.data.trim();
                    return n = n.substr(0, c.danmuSend.maxLength), (n = l(n)) ? ($("#player_object")[0].sendMsg(n, e), c.danmuSend.data = "", void $("#danmu-textbox").val("")) : (a(t, "请输入弹幕后再发送~ " + r.helpless()), void s(""))
                }), c.$watch("fillDanmu", function (e) {
                    s(e)
                }), o(document.getElementById("chat-ctrl-panel"), c, function () {
                    var o = [];
                    $(".emoji-panel").on("click", "a", function () {
                        var e = c.danmuSend.data + $(this).text();
                        e = e.substr(0, c.danmuSend.maxLength), s(e), t()
                    }), 1 === parseInt(SVIP, 10) ? o = $(".danmu-color-block[data-vip='year'][data-default=true]") : 1 === parseInt(VIP, 10) && (o = $(".danmu-color-block[data-vip='month'][data-default=true]")), o.length && (o.addClass("active").siblings().removeClass("active"), e = o.attr("data-color"), setTimeout(function () {
                        o.click()
                    }, 1)), $(".danmu-color-panel .danmu-color-block").on("click", function (t) {
                        return i(), "year" === $(this).attr("data-vip").toString() && 1 !== parseInt(SVIP, 10) ? void a($(this)[0], "蓝色弹幕仅限年费老爷使用哦~ " + r.helpless()) : "false" !== $(this).attr("data-vip").toString() && 1 !== parseInt(VIP, 10) && 1 !== parseInt(SVIP, 10) ? void a($(this)[0], "红色弹幕仅限老爷使用哦~ " + r.helpless()) : ($(this).addClass("active").siblings(".danmu-color-block").removeClass("active"), e = $(this).attr("data-color"), void n(t))
                    })
                }), window.getDanmuColor = function () {
                    return e
                }
            })
        }
    }, {
        "../../../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../../../common/functions/func-avalon-lazy-init/lazy-init": 9,
        "../../../../../common/functions/func-live-quick-login/live-quick-login": 13,
        "../../../../../common/functions/func-random-emoji/random-emoji": 14
    }],
    49: [function (e, t, n) {
        t.exports = function () {
            e("./javascripts/profile-ctrl.js")()
        }
    }, {"./javascripts/profile-ctrl.js": 51}],
    50: [function (e, t, n) {
        var o = e("../../../../../../../common/functions/func-live-quick-login/live-quick-login");
        t.exports = function (e) {
            "use strict";
            function t() {
                $(".fans-medal-tips-box").fadeOut(200, function () {
                    e.fansMedal.visible = !1, e.fansMedal.choosePanelVisible = !1, $(document).off("click", t)
                })
            }

            var n = {
                locked: !1, ajaxGetMyWearMedal: function () {
                    $.ajax({
                        url: "/i/ajaxGetMyWearMedal", type: "get", dataType: "json", cache: !1, success: function (t) {
                            if (0 == t.code) {
                                e.fansMedal.isWear = t.data.isWear, e.fansMedal.myWearMedal = t.data;
                                var n = t.data.intimacy / t.data.next_intimacy * 100 + "%";
                                $(".medal-intimacy-progress .medal-progerss-bar").width(n), e.fansMedal.dataReady = !0
                            }
                        }
                    })
                }, ajaxGetMyMedalList: function (t) {
                    $.ajax({
                        url: "/i/ajaxGetMyMedalList", type: "get", dataType: "json", cache: !1, success: function (n) {
                            0 == n.code && (e.fansMedal.myMedalList = n.data), t && t()
                        }
                    })
                }, wearFansMedal: function (t, o) {
                    n.locked || (n.locked = !0, $.ajax({
                        url: "/i/ajaxWearFansMedal",
                        type: "post",
                        data: {medal_id: t},
                        dataType: "json",
                        success: function (t) {
                            n.locked = !1, 0 == t.code && (e.fansMedal.isWear = 1, MEDAL.level = t.data.level, MEDAL.medal_name = t.data.medal_name, MEDAL.anchorName = t.data.anchorName, MEDAL.roomid = t.data.roomid), o && o()
                        }
                    }))
                }, cancelFansMedal: function () {
                    $.ajax({
                        url: "/i/ajaxCancelWear", type: "get", dataType: "json", success: function (t) {
                            0 == t.code && (e.fansMedal.isWear = 0)
                        }
                    })
                }
            };
            e.fansMedal.wearFansMedal = function (e) {
                n.wearFansMedal(e, function () {
                    n.ajaxGetMyWearMedal()
                })
            }, e.fansMedal.cancelFansMedal = function () {
                n.cancelFansMedal(), e.fansMedal.myWearMedal.medal_id = -1
            }, e.fansMedal.toggleTipbox = function () {
                o(), e.fansMedal.visible = !e.fansMedal.visible, e.fansMedal.visible && (n.ajaxGetMyWearMedal(), setTimeout(function () {
                    $(document).on("click", t)
                }, 1))
            }, e.fansMedal.choosePanelToggle = function () {
                e.fansMedal.choosePanelVisible ? e.fansMedal.choosePanelVisible = !1 : n.ajaxGetMyMedalList(function () {
                    e.fansMedal.choosePanelVisible = !0
                })
            }, e.$watch("newFansMedalNotice", function (t) {
                e.fansMedal.newFansMedal.medalId = t.medalId, e.fansMedal.newFansMedal.medalName = t.medalName, e.fansMedal.newFansMedal.medalLevel = t.medalLevel, e.fansMedal.newFansMedal.show = !0
            }), e.fansMedal.closeNewFansMedalNotice = function () {
                e.fansMedal.newFansMedal.show = !1
            }, e.fansMedal.newFansMedalWearNow = function (t) {
                n.wearFansMedal(t, function () {
                    e.fansMedal.newFansMedal.show = !1
                })
            }
        }
    }, {"../../../../../../../common/functions/func-live-quick-login/live-quick-login": 13}],
    51: [function (e, t, n) {
        var o = e("../../../../../../../common/functions/func-avalon-lazy-init/lazy-init"), i = e("../../../../../../../common/functions/func-live-quick-login/live-quick-login");
        t.exports = function () {
            "use strict";
            avalon.ready(function () {
                var t = avalon.define({
                    $id: "profileCtrl",
                    fansMedal: {
                        visible: !1,
                        choosePanelVisible: !1,
                        dataReady: !1,
                        isWear: 0,
                        myWearMedal: {progressWidth: "0%"},
                        newFansMedal: {show: !1, medalId: 0, medalName: "", medalLevel: ""},
                        myMedalList: []
                    },
                    title: {
                        visible: !1,
                        choosePanelVisible: !1,
                        dataReady: !1,
                        isWear: 0,
                        myWearTitle: {titleName: ""},
                        newTitle: {show: !1, titleName: ""},
                        myTitleList: []
                    },
                    vip: {
                        toVip: function () {
                            i(), window.open("http://live.bilibili.com/i#to-vip", "_blank")
                        }
                    },
                    stopPropagation: function (e) {
                        e.stopPropagation()
                    }
                });
                o(document.getElementById("profile-ctrl"), t, function () {
                    e("./fans-medal")(t), e("./title")(t)
                })
            })
        }
    }, {
        "../../../../../../../common/functions/func-avalon-lazy-init/lazy-init": 9,
        "../../../../../../../common/functions/func-live-quick-login/live-quick-login": 13,
        "./fans-medal": 50,
        "./title": 52
    }],
    52: [function (e, t, n) {
        var o = e("../../../../../../../common/functions/func-live-quick-login/live-quick-login");
        t.exports = function (e) {
            "use strict";
            function t() {
                $(".title-tips-box").fadeOut(200, function () {
                    e.title.visible = !1, e.title.choosePanelVisible = !1, $(document).off("click", t)
                })
            }

            var n = {
                locked: !1, ajaxGetMyWearTitle: function () {
                    $.ajax({
                        url: "/i/ajaxGetMyWearTitle", type: "get", dataType: "json", success: function (t) {
                            0 == t.code && (t.data.title ? e.title.isWear = 1 : e.title.isWear = 0, e.title.myWearTitle = t.data, e.title.dataReady = !0)
                        }
                    })
                }, ajaxGetMyTitleList: function (t) {
                    $.ajax({
                        url: "/i/ajaxGetMyTitleList", type: "get", dataType: "json", success: function (n) {
                            0 == n.code && (e.title.myTitleList = n.data), t && t()
                        }
                    })
                }, ajaxWearTitle: function (t, o) {
                    n.locked || (n.locked = !0, $.ajax({
                        url: "/i/ajaxWearTitle",
                        type: "post",
                        data: {title: t},
                        dataType: "json",
                        success: function (i) {
                            n.locked = !1, 0 == i.code && (e.title.isWear = 1, TITLE.title = t), o && o()
                        }
                    }))
                }, ajaxCancelWearTitle: function (t) {
                    $.ajax({
                        url: "/i/ajaxCancelWearTitle", type: "post", dataType: "json", success: function (n) {
                            0 == n.code && (e.title.isWear = 0), t && t(n)
                        }
                    })
                }
            };
            e.title.wearTitle = function (e) {
                n.ajaxWearTitle(e, function () {
                    n.ajaxGetMyWearTitle()
                })
            }, e.title.cancelTitle = function () {
                n.ajaxCancelWearTitle()
            }, e.title.toggleTipbox = function () {
                o(), e.title.visible = !e.title.visible, e.title.visible && (n.ajaxGetMyWearTitle(), setTimeout(function () {
                    $(document).on("click", t)
                }, 1))
            }, e.title.choosePanelToggle = function () {
                e.title.choosePanelVisible ? e.title.choosePanelVisible = !1 : n.ajaxGetMyTitleList(function () {
                    e.title.choosePanelVisible = !0
                })
            }, e.$watch("newTitleNotice", function (t) {
                e.title.newTitle.titleName = t, e.title.newTitle.show = !0
            }), e.title.closeNewTitleNotice = function () {
                e.title.newTitle.show = !1
            }, e.title.newTitleWearNow = function (t) {
                n.ajaxWearTitle(t, function () {
                    e.title.newTitle.show = !1
                })
            }
        }
    }, {"../../../../../../../common/functions/func-live-quick-login/live-quick-login": 13}],
    53: [function (e, t, n) {
        var o = e("../../../../../common/functions/func-get-abs-position/get-abs-position"), i = e("../../../../../common/functions/func-live-quick-login/live-quick-login"), a = e("../../../../../common/components/live-widget/live-toast/live-toast"), r = e("../../../../../common/functions/func-avalon-lazy-init/lazy-init"), s = e("../../../../../common/functions/func-random-emoji/random-emoji"), l = e("../../../../../common/app-config/app-config");
        t.exports = function () {
            "use strict";
            avalon.ready(function () {
                function t(e) {
                    var t = e.target || e.srcElement;
                    if (!$(t).hasClass("msg-content") && !$(t).hasClass("user-name"))return void(p.doms.danmuPopup.show = !1);
                    var n = $(t).parent();
                    p.doms.danmuPopup.show = !0;
                    var i = o(n[0]);
                    p.doms.danmuPopup.left = i.left + 150, p.doms.danmuPopup.top = $(n[0]).position().top + 170, p.doms.danmuPopup.targetUID = p.data.clickedDanmu.uid = n.attr("data-uid"), p.doms.danmuPopup.uname = n.attr("data-uname"), p.data.clickedDanmu.msg = n.find(".msg-content").text(), n = null
                }

                function n() {
                    $(".chat-msg-ctrl-panel").fadeOut(200, function () {
                        p.doms.danmuPopup.show = !1
                    })
                }

                function c(e) {
                    i();
                    var t = e.target || e.srcElement;
                    $.ajax({
                        url: "http://live.bilibili.com/liveact/shield_user",
                        type: "POST",
                        data: {roomid: ROOMID, uid: p.data.clickedDanmu.uid, type: 1},
                        dataType: "json",
                        success: function (e) {
                            return 0 != e.code ? void a(t, e.msg, "caution") : (a(t, "屏蔽成功，再也见不到 TA 了~ " + s.helpless(), "success"), void $("#player_object")[0].addShieldUser(e.data.uid, e.data.uname))
                        },
                        error: function () {
                            a(t, "网络不好，请稍后再试~ " + s.sad(), "error")
                        }
                    })
                }

                function u() {
                    i(), p.doms.danmuReportPanel.show = !0
                }

                function d(e) {
                    var t = e.target || e.srcElement;
                    return p.data.clickedDanmu.reason ? void $.ajax({
                        url: "/liveact/dmreport",
                        type: "POST",
                        data: {
                            roomid: window.ROOMID,
                            uid: p.data.clickedDanmu.uid,
                            msg: p.data.clickedDanmu.msg,
                            reason: p.data.clickedDanmu.reason
                        },
                        dataType: "JSON",
                        success: function (e) {
                            return 0 != e.code ? void a(t, e.msg, "caution") : (a(t, "已成功举报，请安心等待处理！" + s.happy(), "success"), void f())
                        },
                        error: function (e) {
                            a(t, "举报失败，网络可能不稳定，请稍后再试，非常对不起 " + s.sad(), "error")
                        }
                    }) : (a(t, "请输入正确的举报原因~", !0), void(t = null))
                }

                function f() {
                    p.doms.danmuReportPanel.out = !0, setTimeout(function () {
                        p.doms.danmuReportPanel.show = !1, p.doms.danmuReportPanel.out = !1, p.doms.danmuReportPanel.focus = !1, p.data.clickedDanmu.reason = ""
                    }, 380)
                }

                var p = avalon.define({
                    $id: "chatListCtrl",
                    data: {chatList: [], clickedDanmu: {uid: null, msg: null, reason: null}},
                    events: {
                        chatList: {
                            lockToggle: function (e) {
                                p.doms.chatArea.locked = e, p.doms.chatArea.noAppending = p.doms.chatArea.locked
                            }, mouseover: function () {
                                p.doms.mouseover = !0
                            }, mouseleave: function () {
                                p.doms.mouseover = !1
                            }
                        },
                        showDanmuPopup: t,
                        hideDanmuPopup: n,
                        forbidDanmu: c,
                        reportDanmu: {setup: u, confirm: d, cancel: f},
                        blockUser: function () {
                            1 == ISADMIN && (1 == ISANCHOR ? p.$fire("all!showLiveManageDialog", {
                                curTarget: "blackManage",
                                blackName: p.doms.danmuPopup.uname
                            }) : p.$fire("all!showBlackDialog", {blackName: p.doms.danmuPopup.uname}), p.events.hideDanmuPopup())
                        }
                    },
                    doms: {
                        mouseover: !1,
                        chatArea: {locked: !1, noAppending: !1},
                        danmuPopup: {show: !1, left: 0, top: 0, targetUID: null, uname: ""},
                        danmuReportPanel: {show: !1, out: !1, focus: !1}
                    }
                });
                !function () {
                    function t(e) {
                        if (e && !(p.doms.chatArea.locked && e.info[2][0] != UID || e.info[2][0] == UID && e.info[0][5] == DANMU_RND)) {
                            var t = '<div><div class="chat-msg" data-uname="' + e.info[2][1] + '" data-uid="' + e.info[2][0] + '">', o = "";
                            if (1 == e.info[2][4] || e.info[2][0] == UID && 1 == SVIP ? o = "year" : (1 == e.info[2][3] || e.info[2][0] == UID && 1 == VIP) && (o = "month"), o && (t += '<a href="/i#to-vip" target="_blank"><span class="vip-icon"><i class="live-icon vip-color v-middle ' + o + '"></i></span></a>'), (1 == e.info[2][2] && e.info[2][0] == MASTERID || e.info[2][0] == UID && 1 == ISADMIN && UID == MASTERID) && (t += '<span class="square-icon master">播主</span>'), (1 == e.info[2][2] || e.info[2][0] == UID && 1 == ISADMIN) && e.info[2][0] != MASTERID && (t += '<span class="square-icon admin">房管</span>'), (e.info[2][0] == UID && !$.isEmptyObject(MEDAL) || e.info[3] && e.info[3].length) && (t = e.info[3] && e.info[3].length ? n({
                                    level: e.info[3][0],
                                    name: e.info[3][1],
                                    roomid: e.info[3][3],
                                    anchor: e.info[3][2]
                                }, t) : n({
                                    level: MEDAL.level,
                                    name: MEDAL.medal_name,
                                    roomid: MEDAL.roomid,
                                    anchor: MEDAL.anchorName
                                }, t)), e.info[2][0] != UID || $.isEmptyObject(TITLE) || (t += '<span class="live-title-icon ' + TITLE.title + '"></span>'), t.indexOf("live-title-icon") < 0 && e.info[5] && e.info[5].length && (t += '<span class="live-title-icon ' + e.info[5][0] + '"></span>'), e.info[2][0] == UID ? (!$.isEmptyObject(USER_LEVEL) && USER_LEVEL.level > 0 && (t += '<span class="user-level-icon lv-' + USER_LEVEL.level + '"><div class="user-level-info"><div class="content"><p>用户等级：' + USER_LEVEL.level + "</p><p>排名：" + USER_LEVEL.rank + "</p></div></div></span>"), t += '<span class="user-name">[自己] : </span>', t = t.replace('<div class="chat-msg"', '<div class="chat-msg mine"')) : ($.isArray(e.info[4]) && e.info[4].length > 0 && e.info[4][0] > 0 && (t += '<span class="user-level-icon lv-' + e.info[4][0] + '"><div class="user-level-info"><div class="content"><p>用户等级：' + e.info[4][0] + "</p><p>排名：" + e.info[4][1] + "</p></div></div></span>"), t += '<span class="user-name color">' + e.info[2][1] + " : </span>"), t += '<span class="msg-content">' + e.info[1] + "</span></div></div>", c.children().length > 100) {
                                var i = c.children().first();
                                i.remove().html(t), c.append(i), i = null
                            } else c.append(t);
                            !p.doms.mouseover && c.scrollTop(c[0].scrollHeight), t = null
                        }
                    }

                    function n(e, t) {
                        return t += '<span class="medal-icon medal-icon-lv' + e.level + '" data-medal="' + e.name + '" data-level="' + e.level + '"><div class="medal-info"><span class="content"><a href="/' + e.roomid + '" target="_blank">勋章主播：' + e.anchor + "</a></span></div></span>"
                    }

                    function o(e) {
                        return p.doms.chatArea.locked && e.data.uid != UID ? void(e.data["super"] > 0 && r(e.data)) : (window.liveRoomFuncs.giftReceived(e.data.rcost), $.isArray(e.data.top_list) && e.data.top_list.length > 0 && window.liveRoomFuncs.updateGiftTop(e.data.top_list), void(window.giftTsHistory.indexOf(parseInt(e.data.timestamp, 10)) > -1 && e.data.uid == window.UID || (e.data["super"] > 0 && r(e.data), i(e))))
                    }

                    function i(e) {
                        var t = '<div><div class="gift-msg" role="listitem"><span class="user-name">' + e.data.uname + '</span><span class="action">' + e.data.action + e.data.giftName + '</span><div class="gift-img gift-' + e.data.giftId + '" role="img"></div><span class="gift-count">X ' + e.data.num + "</span></div></div>";
                        if (c.children().length > 100) {
                            var n = c.children().first();
                            n.remove().html(t), c.append(n), n = null
                        } else c.append(t);
                        !p.doms.mouseover && c.scrollTop(c[0].scrollHeight), t = null
                    }

                    function r(t) {
                        e("../super-gift/super-gift").exec(t)
                    }

                    var c = $("#chat-msg-list");
                    window.liveRoomFuncs.addDanmu = t, p.$watch("addDanmu", t), window.liveRoomFuncs.addGift = o, p.$watch("addGift", o), window.liveRoomFuncs.addGiftHistory = i, p.$watch("addGiftHistory", i), p.$watch("lockChatList", function (e) {
                        p.events.chatList.lockToggle(e)
                    }), p.$watch("chatListEmpty", function () {
                        c.empty()
                    }), p.$watch("superGift", r), window.liveRoomFuncs.superGift = r, p.$watch("addWelcomeMsg", function (e) {
                        if (e.data.uid != UID) {
                            var t = '<div><div class="system-msg">', n = e.data.vip, o = e.data.svip;
                            t += '<a target="_blank" href="/i#to-vip"><i class="live-icon vip-color v-middle ' + (o ? " year" : n ? " month" : "") + '"></i></a>', 1 == e.data.isadmin && (t += e.data.uid == window.MASTERID ? '<span class="square-icon master">播主</span>' : '<span class="square-icon admin">房管</span>'), t += '<span class="welcome v-middle" style="color:  ' + (o ? "#ffb100" : n ? "#f25d8e" : "") + '">' + e.data.uname + (o ? " 年费" : " ") + '老爷</span><span class="v-middle">进入直播间</span></div></div>', c.append(t), !p.doms.mouseover && c.scrollTop(c[0].scrollHeight)
                        }
                    }), p.$watch("addSelfWelcomeMsg", function () {
                        var e = '<div><div class="system-msg"><i class="live-icon vip-color v-middle ' + (SVIP ? " year" : VIP ? " month" : "") + '"></i><span class="welcome v-middle" style="color: ' + (SVIP ? "#ffb100" : VIP ? "#f25d8e" : "") + '">' + UNAME + (SVIP ? " 年费" : " ") + '老爷</span><span class="v-middle">进入直播间</span><span id="close-vip-tip-link" class="bili-link v-middle" style="color: #4fc1e9; cursor: pointer;">关闭提示</span></div></div>';
                        c.append(e), $("#close-vip-tip-link").on("click", function () {
                            var e = livePopup({
                                title: "关闭老爷提示",
                                content: "点击确认，可以关闭自己进入直播间的提示，关闭后可在直播个人中心重新开启提示功能哦 (●′ω`●)~",
                                width: 300,
                                onConfirm: function () {
                                    $.ajax({
                                        url: "/i/ajaxSetVipViewStatus",
                                        type: "POST",
                                        data: {status: 0},
                                        timeout: 5e3,
                                        dataType: "JSON",
                                        success: function (t) {
                                            a(e.confirmBtn, "已开启潜行模式 " + s.happy(), "success", !0), e.remove(), e = null
                                        },
                                        error: function (t) {
                                            a(e.confirmBtn, "隐身失败，等会再试试呗？ " + s.sad(), "error", !0), consoleText.log(l.consoleText.error + "关闭老爷提示错误：" + t.statusText)
                                        }
                                    })
                                },
                                onCancel: function () {
                                    e.remove(), e = null
                                }
                            })
                        })
                    }), p.$watch("addSysMsg", function (e) {
                        var t = null, n = e.msg.substr(0, e.msg.indexOf("：") + 1), o = e.msg.substr(e.msg.indexOf("：") + 1, e.msg.length);
                        t = e.url.length < 1 ? o : '<a href="' + e.url + '" target="_blank">' + o + "</a>";
                        var i = '<div><div class="announcement-container"><i class="live-icon announcement"></i><div class="announcement-content"><p><span>' + n + "</span>" + t + "</p></div></div></div>";
                        c.append(i), !p.doms.mouseover && c.scrollTop(c[0].scrollHeight)
                    }), p.$watch("addKickoutMsg", function (e) {
                        c.append('<div><div class="system-msg">用户 <span style="color: #aaa">' + e.uname + "</span> 已被管理员踢出房间</div></div>")
                    })
                }(), r(document.getElementById("chat-list-ctnr"), p, function () {
                    r($("#chat-panels")[0], p)
                })
            })
        }
    }, {
        "../../../../../common/app-config/app-config": 1,
        "../../../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../../../common/functions/func-avalon-lazy-init/lazy-init": 9,
        "../../../../../common/functions/func-get-abs-position/get-abs-position": 12,
        "../../../../../common/functions/func-live-quick-login/live-quick-login": 13,
        "../../../../../common/functions/func-random-emoji/random-emoji": 14,
        "../super-gift/super-gift": 55
    }],
    54: [function (e, t, n) {
        var o = e("../../../../../../common/app-config/app-config"), i = e("../../../../../../common/functions/func-avalon-lazy-init/lazy-init"), a = {
            giftTop: !0,
            fansRank: !0,
            admin: !0,
            riceCake: !0
        };
        t.exports = function (e, t) {
            "use strict";
            avalon.ready(function () {
                function n(e) {
                    return "[object Array]" !== Object.prototype.toString.call(e) ? void consoleText.log(o.consoleText.error + "排行榜数据不合法.") : (e.length > 0 ? s.giftTop.dataList = e : void 0, void(e.length <= 3 ? a.giftTop = !0 : void 0))
                }

                function r(e) {
                    s.ranklist.height = 32 * s[e].dataList.length
                }

                var s = avalon.define({
                    $id: "rankListCtrl",
                    chatSilent: !1,
                    ranklist: {
                        showRanklist: "sevenRank", height: 100, switchList: function (e) {
                            var t = e.target || e.srcElement;
                            s.ranklist.showRanklist = t.attributes["data-target"].value
                        }, allowCheck: function (e) {
                            s.ranklist.height = 100
                        }
                    },
                    giftTop: {
                        dataList: e.data.GIFT_TOP || [], check: function () {
                            return a.giftTop ? (a.giftTop = !1, s.giftTop.request(), void r("giftTop")) : void r("giftTop")
                        }, restore: function () {
                            s.ranklist.allowCheck("giftTop")
                        }, request: function (e) {
                            $.ajax({
                                url: "/gift/getTop?roomid=" + t.ROOMID,
                                type: "GET",
                                dataType: "JSON",
                                success: function (t) {
                                    0 == t.code && (s.giftTop.dataList = t.data, e && "function" == typeof e && e())
                                },
                                error: function (t) {
                                    "function" == typeof e && e()
                                }
                            })
                        }
                    },
                    fansRank: {
                        dataList: [], check: function () {
                            return a.fansRank ? (a.fansRank = !1, s.fansRank.request(), void r("fansRank")) : void r("fansRank")
                        }, restore: function () {
                            s.ranklist.allowCheck("fansRank")
                        }, request: function (e) {
                            $.ajax({
                                url: "/liveact/ajaxGetMedalRankList",
                                type: "POST",
                                dataType: "JSON",
                                data: {roomid: t.ROOMID},
                                success: function (t) {
                                    0 == t.code && (0 != t.msg && "" !== t.msg && $(".rank-list.fans-rank").attr("data-hinter", "投喂一个 B 坷垃，勋章就能戴回家！ ε=ε=ε=ε=(ノ≧∇≦)ノ"), s.fansRank.dataList = t.data, e && "function" == typeof e && e())
                                },
                                error: function (t) {
                                    "function" == typeof e && e()
                                }
                            })
                        }
                    },
                    riceCake: {
                        dataList: [], request: function () {
                            $.ajax({
                                url: "/gift/cake",
                                type: "GET",
                                data: {uid: t.MASTERID, ts: Date.now()},
                                dataType: "JSON",
                                success: function (e) {
                                    0 == e.code && (s.riceCake.dataList = e.data)
                                },
                                error: function (e) {
                                }
                            })
                        }, check: function () {
                            s.ranklist.height = 33 * s.riceCake.dataList.length
                        }, restore: function () {
                            s.ranklist.allowCheck("riceCake")
                        }
                    },
                    admin: {
                        dataList: [], check: function () {
                            s.ranklist.height = 33 * s.admin.dataList.length
                        }, request: function () {
                            $.ajax({
                                url: "/liveact/ajaxGetAdminList",
                                type: "POST",
                                data: {roomid: ROOMID},
                                dataType: "JSON",
                                success: function (e) {
                                    0 == e.code && (s.admin.dataList = e.data)
                                },
                                error: function (e) {
                                }
                            })
                        }, restore: function () {
                            s.ranklist.allowCheck("admin")
                        }
                    }
                });
                t.liveRoomFuncs.updateGiftTop = n, s.$watch("updateGiftTop", n), i(document.getElementById("rank-list-ctnr"), s)
            })
        }
    }, {
        "../../../../../../common/app-config/app-config": 1,
        "../../../../../../common/functions/func-avalon-lazy-init/lazy-init": 9
    }],
    55: [function (e, t, n) {
        var o = {}, i = $(".super-gift-ctnr");
        o.settings = {showTime: 1e4}, o.newGift = function (e, t) {
            var n = document.createElement("div");
            n.className = "supergift supergift-" + e.giftId + " gift-step-2 animated", n.setAttribute("data-gift-id", e.id), n.innerHTML = '<img class="supergift-img gift-step-1 animated" src="http://static.hdslb.com/live-static/images/gifts/gift-' + e.giftId + '.gif"><div class="supergift-text"><p class="supergift-text-sec gift-step-3 animated"><span class="supergift-uname">' + e.uname + '</span><span class="supergift-action">赠送' + e.giftName + '</span><span class="supergift-num">' + e.num + '个</span></p></div><img class="supergift-cross gift-step-4 animated" src="http://static.hdslb.com/live-static/images/supergift/cross.png"><p class="supergift-hitnum gift-step-6 animated">' + t + '</p><p class="combo-text gift-step-5 animated">combo</p>', setTimeout(function () {
                $(n).addClass("fadeOutLeft").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {
                    $(n).remove()
                })
            }, o.settings.showTime), this.create = n
        }, o.fffGift = function (e, t) {
            var n = document.createElement("div");
            n.className = "supergift supergift-" + e.giftId + " gift-step-2 animated", n.setAttribute("data-gift-id", e.id), n.innerHTML = '<div style="background-color: #9B5131" class="supergift-img gift-step-1 animated"><img src="http://static.hdslb.com/live-static/images/gifts/gift-13-fireball.png" style="position: absolute; top: -20px; left: -10px;"></div><div class="supergift-text"><p class="supergift-text-sec gift-step-3 animated" style="color: #fff; margin-left: 10px; top: -3px;"><span class="supergift-uname" style="vertical-align: top; color: rgb(255, 232, 0);">' + e.uname + '</span>使用了大火球术！</p></div><img class="supergift-cross gift-step-4 animated" src="http://static.hdslb.com/live-static/images/supergift/cross.png"><p class="supergift-hitnum gift-step-6 animated">' + t + '</p><p class="combo-text gift-step-5 animated">combo</p>', setTimeout(function () {
                $(n).addClass("fadeOutLeft").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {
                    n.parentNode.removeChild(n)
                })
            }, o.settings.showTime), this.create = n
        }, o.exec = function (e) {
            if (0 == e["super"])return !1;
            var t = e.uid + "_" + e.giftId + "_" + e.num + "_" + e["super"], n = {
                id: t,
                uname: e.uname,
                num: e.num,
                giftName: e.giftName,
                giftId: e.giftId
            };
            i.children().length >= 3 && ($(".supergift:first-child", i).remove(), $(".supergift", i).addClass("moveUp").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {
                $(this).removeClass("moveUp")
            }));
            var a = null;
            a = "FFF" === e.giftName ? new o.fffGift(n, e["super"]).create : new o.newGift(n, e["super"]).create, $(".supergift", i).removeClass("gift-step-2 animated"), i.append(a)
        }, t.exports = o
    }, {}],
    56: [function (e, t, n) {
        t.exports = function (t) {
            e("./components/rank-list/javascripts/rank-list")(t, window), e("./components/chat-msg-list/chat-list-ctnr")(), e("./components/chat-ctrl-panel/chat-ctrl-panel")(), e("./components/chat-ctrl-panel/profile-ctrl/intro-javascripts")(), e("./components/bk-changer/bk-changer")(window)
        }
    }, {
        "./components/bk-changer/bk-changer": 47,
        "./components/chat-ctrl-panel/chat-ctrl-panel": 48,
        "./components/chat-ctrl-panel/profile-ctrl/intro-javascripts": 49,
        "./components/chat-msg-list/chat-list-ctnr": 53,
        "./components/rank-list/javascripts/rank-list": 54
    }],
    57: [function (e, t, n) {
        t.exports = function () {
            e("./javascripts/gift-section-ctrl")(window), e("./javascripts/gift-package-ctrl")()
        }
    }, {"./javascripts/gift-package-ctrl": 58, "./javascripts/gift-section-ctrl": 59}],
    58: [function (e, t, n) {
        var o = e("../../../../common/functions/func-avalon-lazy-init/lazy-init"), i = e("../../../../common/components/live-widget/live-toast/live-toast"), a = e("../../../../common/functions/func-random-emoji/random-emoji"), r = e("../../../../common/functions/func-live-quick-login/live-quick-login");
        t.exports = function () {
            "use strict";
            function e(e) {
                $.ajax({
                    url: "/giftBag/sendDaily", type: "GET", dataType: "json", success: function (t) {
                        e && e(t)
                    }
                })
            }

            function t(e) {
                $.ajax({
                    url: "/giftBag/getSendGift", type: "GET", dataType: "json", success: function (t) {
                        e && e(t)
                    }
                })
            }

            function n(e) {
                $.ajax({
                    url: "/gift/playerBag", type: "GET", dataType: "json", success: function (t) {
                        e && e(t)
                    }
                })
            }

            avalon.ready(function () {
                function s() {
                    $(".gifts-package-panel").fadeOut(200, function () {
                        m.panelStatus = !1, $(document).off("click", s)
                    })
                }

                function l() {
                    n(function (e) {
                        m.giftPackageData = e.data, m.panelStatus = !0
                    }), setTimeout(function () {
                        $(document).on("click", s)
                    }, 1)
                }

                function c(e, t, n, o) {
                    var i = m.giftSendPanel;
                    i.giftData.giftId = e, i.giftData.giftName = t, i.giftData.giftNum = n, i.giftData.count = 1, i.giftData.bagId = o, m.panelStatus = !1, i.show = !0
                }

                function u() {
                    var e = m.giftSendPanel;
                    e.out = !0, e.outTimeout = setTimeout(function () {
                        e.out = !1, e.show = !1, e = null
                    }, 380)
                }

                function d() {
                    var e = m.giftPackageNewPanel;
                    t(function (t) {
                        0 == t.code && (e.data = t.data, e.show = !0)
                    })
                }

                function f() {
                    var e = m.giftPackageNewPanel;
                    e.out = !0, e.outTimeout = setTimeout(function () {
                        e.out = !1, e.show = !1, e = null, m.giftPackageStatus = 2, l()
                    }, 380)
                }

                function p(t) {
                    if ("keyup" !== t.type || 13 === t.keyCode) {
                        var n = t.target || t.srcElement, o = m.giftSendPanel.giftData, r = parseInt(o.count, 10);
                        return isNaN(r) ? (o.count = "", void i(n, "请填写正确的送礼数量 " + a.helpless(), !0)) : void m.$fire("all!sendGift", {
                            element: n,
                            type: "package",
                            data: {giftId: o.giftId, num: r, coinType: o.type, bagId: o.bagId},
                            callback: function (t) {
                                0 == t.code && (o.giftNum = t.data.remain, 0 == t.data.remain && e(function (e) {
                                    m.giftPackageStatus = e.data.result
                                }))
                            }
                        })
                    }
                }

                var m = avalon.define({
                    $id: "giftPackageCtrl",
                    giftPackageStatus: 0,
                    panelStatus: !1,
                    giftPackageData: [],
                    toggleGiftPackage: function (e) {
                        e.stopPropagation(), r(), m.panelStatus ? s() : 1 == m.giftPackageStatus ? d() : l()
                    },
                    giftSendPanel: {
                        giftData: {
                            giftId: "",
                            giftName: "",
                            giftNum: 0,
                            type: "silver",
                            count: 1,
                            bagId: 0
                        }, show: !1, out: !1, outTimeout: null, open: c, close: u, sendGift: p
                    },
                    giftPackageNewPanel: {data: [], show: !1, out: !1, outTimeout: null, open: d, close: f},
                    stopPropagation: function (e) {
                        e.stopPropagation()
                    }
                });
                o($("#gift-package-send-panel")[0], m, function () {
                    e(function (e) {
                        m.giftPackageStatus = e.data.result
                    })
                }), o($("#gift-package-new-panel")[0], m)
            })
        }
    }, {
        "../../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../../common/functions/func-avalon-lazy-init/lazy-init": 9,
        "../../../../common/functions/func-live-quick-login/live-quick-login": 13,
        "../../../../common/functions/func-random-emoji/random-emoji": 14
    }],
    59: [function (e, t, n) {
        var o = e("../../../../common/functions/func-avalon-lazy-init/lazy-init"), i = e("../../../../common/functions/func-setnum-avalon/avalon-set-num"), a = e("../../../../common/functions/func-timestamp-shorter/timestamp-shorter"), r = e("../../../../common/functions/func-random-emoji/random-emoji"), s = e("../../../../common/components/live-widget/live-toast/live-toast"), l = e("../../../../common/functions/func-live-quick-login/live-quick-login");
        t.exports = function (e) {
            "use strict";
            avalon.ready(function () {
                function t(e) {
                    e.stopPropagation();
                    var t = v.giftInfoPanel;
                    t.mouseTimeout = setTimeout(function () {
                        t.out = !0, t.outTimeout = setTimeout(function () {
                            t.out = !1, t.show = !1, t = null
                        }, 380)
                    }, 1)
                }

                function n(e) {
                    d(e)
                }

                function c(e) {
                    d(e)
                }

                function u(e) {
                    e.target.className.indexOf("gift-18") > 0 && d(e), e.target.className.indexOf("gift-19") > 0 && d(e), e.target.className.indexOf("gift-20") > 0 && d(e)
                }

                function d(e) {
                    var t = e.target || e.srcElement;
                    if (!$(t).hasClass("gift-item"))return void(t = null);
                    var n = v.sendGift.data;
                    n.count = 1, n.type = "silver", v.giftSendPanel.allowGold = !1, v.giftSendPanel.allowSilver = !1, v.giftSendPanel.disableInput = !1, v.giftSendPanel.show = !0, n.giftId = $(t).attr("data-gift-id"), n.giftName = $(t).attr("data-title"), "0" == $(t).attr("data-custom_input") && (v.giftSendPanel.disableInput = !0);
                    var o = {
                        gold: parseInt($(t).attr("data-gold"), 10),
                        silver: parseInt($(t).attr("data-silver"), 10)
                    }, i = "";
                    o.gold > 0 && (v.giftSendPanel.allowGold = !0, i += '<span class="cost-hint"><i class="live-icon gold-seed vertical-top"></i><span class="vertical-top">' + o.gold + "</span></span>"), o.silver > 0 && (v.giftSendPanel.allowSilver = !0, i += '<span class="cost-hint"><i class="live-icon silver-seed vertical-top"></i><span class="vertical-top">' + o.silver + "</span></span>"), n.type = v.giftSendPanel.allowGold && !v.giftSendPanel.allowSilver ? "gold" : "silver", v.giftSendPanel.cost = i, v.sendGift.countSet = $(t).attr("data-count_set").split(",")
                }

                function f(e) {
                    var t = e.target || e.srcElement;
                    v.sendGift.data.count = $(t).attr("data-count")
                }

                function p() {
                    var e = v.giftSendPanel;
                    e.out = !0, e.outTimeout = setTimeout(function () {
                        e.out = !1, e.show = !1, e = null
                    }, 380)
                }

                function m(e) {
                    if (l(), "keyup" !== e.type || 13 === e.keyCode) {
                        var t = e.target || e.srcElement, n = v.sendGift.data, o = parseInt(n.count, 10);
                        return isNaN(o) ? (n.count = "", void s(t, "请填写正确的送礼数量 " + r.helpless(), !0)) : void v.$fire("sendGift", {
                            element: t,
                            type: "normal",
                            data: {giftId: n.giftId, num: o, coinType: n.type, bagId: 0}
                        })
                    }
                }

                var v = avalon.define({
                    $id: "giftCtrl",
                    currency: {silver: 0, gold: 0},
                    giftInfoPanel: {
                        show: !1,
                        out: !1,
                        outTimeout: null,
                        mouseTimeout: null,
                        left: 0,
                        top: 0,
                        type: "",
                        info: {giftId: "", title: "", content: "", effects: "", cost: ""},
                        events: {
                            "in": function () {
                                clearTimeout(v.giftInfoPanel.outTimeout), clearTimeout(v.giftInfoPanel.mouseTimeout)
                            }, out: t
                        }
                    },
                    giftSendPanel: {
                        show: !1,
                        out: !1,
                        outTimeout: null,
                        cost: "",
                        allowGold: !1,
                        allowSilver: !1,
                        disableInput: !1,
                        close: p
                    },
                    chooseGift: {normal: n, flash: c, activity: u},
                    sendGift: {
                        countSet: [10, 99, 188, 450, 520, 1314],
                        data: {giftId: "", giftName: "", type: "silver", count: 1},
                        events: {setCount: f, send: m}
                    },
                    exchange: function (e) {
                        l(), v.$fire("all!showExchange", e)
                    }
                });
                v.$watch("fillCurrency", function (e) {
                    null !== e.gold && void 0 !== e.gold && i(e.gold, v.currency.gold, "giftCtrl.currency.gold"), null !== e.silver && void 0 !== e.silver && i(e.silver, v.currency.silver, "giftCtrl.currency.silver")
                }), v.$watch("sendGift", function (t) {
                    var n = a(Date.now());
                    e.giftTsHistory.length > 200 && e.giftTsHistory.splice(0, 1), e.giftTsHistory.indexOf(parseInt(n, 10) < 0) && e.giftTsHistory.push(parseInt(n, 10));
                    var o = "";
                    "normal" == t.type ? o = "/gift/send" : "package" == t.type && (o = "/giftBag/send"), $.ajax({
                        url: o,
                        type: "POST",
                        data: {
                            giftId: t.data.giftId,
                            roomid: ROOMID,
                            ruid: MASTERID,
                            num: t.data.num,
                            coinType: t.data.coinType,
                            Bag_id: t.data.bagId,
                            timestamp: n,
                            rnd: DANMU_RND,
                            token: $.cookie("LIVE_LOGIN_DATA") || ""
                        },
                        dataType: "JSON",
                        success: function (n) {
                            0 == n.code ? (v.$fire("all!updateCurrency", {
                                gold: n.data.gold,
                                silver: n.data.silver
                            }), 1 == n.data.data.giftType && $("#player_object")[0].sendGift(n.data.data.giftId, n.data.data.num), 1 == n.data.data.newMedal && v.$fire("all!newFansMedalNotice", {
                                medalId: n.data.data.medal.medalId,
                                medalName: n.data.data.medal.medalName,
                                medalLevel: n.data.data.medal.level
                            }), 1 == n.data.data.newTitle && v.$fire("all!newTitleNotice", n.data.data.title), e.liveRoomFuncs.addGiftHistory(n.data), v.$fire("all!superGift", n.data.data), v.$fire("all!updateGiftTop", n.data.data.top_list)) : -400 == n.code && "余额不足" == n.msg ? (v.$fire("all!noSeed"), p()) : s(t.element, n.msg + " " + r.sad(), "caution", !0), t.callback && t.callback(n)
                        },
                        error: function (e) {
                            s(t.element, r.sad() + " 送礼失败：" + e.statusText + " " + r.sad(), "error")
                        }
                    })
                }), o($("#gift-panel")[0], v, function () {
                    var e = v.giftInfoPanel;
                    $("#gift-panel").find(".gifts-ctnr").on("mouseenter", ".gift-item", function (n) {
                        n.stopPropagation(), clearTimeout(e.outTimeout), clearTimeout(e.mouseTimeout);
                        var o = n.target || n.srcElement;
                        if (!$(o).hasClass("gift-item") || $(o).hasClass("do-not-hover"))return void t(n);
                        var i = $(o).attr("data-gift-id"), a = $(o).attr("data-title"), r = $(o).attr("data-desc"), s = $(o).attr("data-effect"), l = $(o).parent().attr("data-type"), c = $(o).position();
                        e.show = !0, e.left = c.left, e.top = c.top, e.type = l, e.info.giftId = i, e.info.title = a, e.info.content = r, e.info.effects = s;
                        var u = {
                            gold: parseInt($(o).attr("data-gold"), 10),
                            silver: parseInt($(o).attr("data-silver"), 10)
                        }, d = "";
                        u.gold > 0 && (d += '<span class="cost-hint"><i class="live-icon gold-seed vertical-top"></i><span class="vertical-top">' + u.gold + "</span></span>"), u.silver > 0 && (d += '<span class="cost-hint"><i class="live-icon silver-seed vertical-top"></i><span class="vertical-top">' + u.silver + "</span></span>"), e.info.cost = d
                    }).on("mouseleave", ".gift-item", t), o($("#gift-send-panel")[0], v)
                })
            })
        }
    }, {
        "../../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../../common/functions/func-avalon-lazy-init/lazy-init": 9,
        "../../../../common/functions/func-live-quick-login/live-quick-login": 13,
        "../../../../common/functions/func-random-emoji/random-emoji": 14,
        "../../../../common/functions/func-setnum-avalon/avalon-set-num": 15,
        "../../../../common/functions/func-timestamp-shorter/timestamp-shorter": 17
    }],
    60: [function (e, t, n) {
        var o = e("../../../common/app-config/app-config"), i = e("../../../common/functions/func-avalon-lazy-init/lazy-init"), a = e("../../../common/components/live-widget/live-popup/live-popup"), r = e("../../../common/components/live-widget/live-toast/live-toast"), s = e("../../../common/functions/func-live-quick-login/live-quick-login"), l = e("../../../common/functions/func-setnum-avalon/avalon-set-num"), c = e("../../../common/functions/func-random-emoji/random-emoji");
        t.exports = function (e, t) {
            function n(e, n) {
                function i() {
                    $.ajax({
                        url: "/liveact/live_status_mng",
                        type: "POST",
                        data: {status: e, roomid: ROOMID},
                        dataType: "JSON",
                        timeout: o.appConfig.xhrTimeout,
                        success: function (o) {
                            return 0 != o.code ? void a({
                                title: "开启直播失败",
                                html: "<p>直播开启失败，请稍后再试，如还有问题，请联系客服，真的很抱歉 > <</p><p>Detail: " + o.msg + "</p>",
                                type: "info"
                            }) : (t._status = 1 === e ? "on" : "off", void(n && n()))
                        },
                        error: function (e) {
                            a({
                                title: "开启直播失败",
                                html: "<p>竞猜开启失败，请稍后再试，如还有问题，请联系客服，真的很抱歉 > <</p><p>Detail: " + e.statusText + "</p>",
                                type: "info"
                            })
                        }
                    })
                }

                1 !== t.ISANCHOR ? n && n() : (0 === e && (f.liveOffPanel.text = "女儿祈祷中……"), i())
            }

            function u() {
                function e() {
                    if (p)p.open(); else {
                        var e = "http://live.bilibili.com/" + t.ROOMURL, n = "http://static.hdslb.com/live-static/swf/LivePlayerEx_1.swf?room_id=" + t.ROOMID + "&cid=" + t.ROOMID + "&state=LIVE", o = '<div class="share-panel clear-float" style="padding-top: 10px; height: 80px"><div class="left-part float-left"><div class="room-link"><span class="dp-inline-block" style="width: 75px">直播间地址：</span><input type="text" id="share-room-link" class="live-input" readonly aria-readonly="true" value="' + e + '"><button id="share-room-copy" class="live-btn default" data-clipboard-text="' + e + '">复制</button></div><div class="flash-link" style="margin-top: 16px"><span class="dp-inline-block" style="width: 75px">Flash 地址：</span><input type="text" id="share-flash-link" class="live-input" readonly aria-readonly="true" value="' + n + '"><button id="share-flash-copy" class="live-btn default" data-clipboard-text="' + n + '">复制</button></div></div><div class="right-part p-relative float-right" style="top: -25px;"><p class="text-center" style="margin: 5px">扫码分享</p><div id="share-qr-code" style="width: 70px; height: 70px; padding: 3px; border: 1px solid #4fc1e9; border-radius: 5px"></div></div><div class="external-link"><div id="share-qzone" class="link share-btn qzone"></div><div id="share-weibo" class="link share-btn weibo"></div></div></div>';
                        p = a({
                            title: "喊小伙伴一起来看", html: o, type: "info", button: !1, width: 450, initFunc: function () {
                                m ? void 0 : m = new QRCode($("#share-qr-code")[0], {text: e, width: 70, height: 70});
                                var t = new ZeroClipboard($("#share-room-copy")[0]);
                                t.on("ready", function (e) {
                                    t.on("aftercopy", function (e) {
                                        r($("#share-room-copy")[0], "复制成功，快去分享吧！" + c.happy(), "success", !0)
                                    })
                                });
                                var n = new ZeroClipboard($("#share-flash-copy")[0]);
                                n.on("ready", function (e) {
                                    n.on("aftercopy", function (e) {
                                        r($("#share-flash-copy")[0], "复制成功，快去分享吧！" + c.happy(), "success", !0)
                                    })
                                })
                            }
                        });
                        var i = {
                            url: t.location.href,
                            title: ROOMTITLE + "的直播间",
                            pic: "",
                            nickname: ANCHOR_NICK_NAME,
                            desc: ROOMTITLE + "的直播间",
                            summary: " ",
                            shortTitle: document.title,
                            searchPic: !1
                        };
                        $("#share-qzone").off("click").on("click", function () {
                            d("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?", {
                                url: i.url || "",
                                showcount: 1,
                                desc: i.desc || "",
                                summary: i.summary || "",
                                title: "#哔哩哔哩生放送#　" + (i.weiboTag || "") + (i.title || "") + "　播主：" + (i.nickname || "") + "，正在哔哩哔哩进行直播，还不快来一起嗨！！",
                                site: "哔哩哔哩",
                                pics: i.pic || "",
                                style: "203",
                                width: 98,
                                height: 22
                            })
                        }), $("#share-weibo").off("click").on("click", function () {
                            d("http://service.weibo.com/share/share.php?", {
                                url: i.url,
                                type: "3",
                                count: "1",
                                appkey: i.appkey && i.appkey.weibo ? i.appkey.weibo : "2841902482",
                                title: "#哔哩哔哩生放送#　" + (i.weiboTag || "") + (i.title || "") + "　播主：" + (i.nickname || "") + "，正在哔哩哔哩进行直播，还不快来一起嗨！！",
                                pic: i.pic || "",
                                searchPic: i.searchPic === !1 ? !1 : !0,
                                ralateUid: "",
                                language: "zh_cn",
                                rnd: (new Date).valueOf()
                            })
                        })
                    }
                }

                var n = "http://static.hdslb.com/live-static/libs/";
                t.QRCode && t.ZeroClipboard ? e() : $.when(!t.QRCode && $.getScript(n + "qr-code/qrcode.min.js"), !t.ZeroClipboard && $.getScript(n + "zero-clipboard/ZeroClipboard.min.js")).done(e)
            }

            function d(e, n) {
                var o = [];
                for (var i in n)o.push(i + "=" + encodeURIComponent(n[i] || ""));
                var a = e + o.join("&");
                return t.open(a, "", "width=700, height=680, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no"), !1
            }

            var f = null;
            avalon.ready(function () {
                function d(e) {
                    if (isNaN(parseInt(e, 10)))throw new Error(o.consoleText.error + "房间送礼数值类型错误, 必须为可转为数字的有效变量.");
                    p ? f.roomInfo.giftReceived = e : (l(e, f.roomInfo.giftReceived, "headInfoCtrl.roomInfo.giftReceived"), p = !0)
                }

                t.ISATTENTION = parseInt(t.ISATTENTION, 10), f = avalon.define({
                    $id: "headInfoCtrl",
                    anchorInfo: {
                        UID: e.data.MASTERID,
                        nickname: e.data.ANCHOR_NICK_NAME,
                        level: e.data.USER_LEVEL.level,
                        rank: e.data.USER_LEVEL.rank,
                        nextScore: 0,
                        levelProgress: "0%"
                    },
                    roomInfo: {
                        title: e.data.ROOMTITLE,
                        area: e.data.AREAID,
                        liveStatus: e.data._status,
                        viewerCount: 0,
                        favourite: 0,
                        giftReceived: 0
                    },
                    anchorInfoPanel: {
                        allowRequest: !0,
                        show: !1,
                        out: !1,
                        outTimeout: null,
                        outTimeout2: null,
                        loaded: !1,
                        showFunc: function (e) {
                            e.stopPropagation();
                            var n = f.anchorInfoPanel, o = e.target || e.srcElement;
                            clearTimeout(n.outTimeout), clearTimeout(n.outTimeout2), n.out = !1, n.show = !0, n.allowRequest ? $.ajax({
                                url: "/user/getMasterInfo",
                                type: "POST",
                                data: {uid: t.MASTERID},
                                dataType: "JSON",
                                success: function (e) {
                                    if (n.loaded = !0, "REPONSE_OK" != e.code)return void r(o, "播主信息获取失败：" + e.msg, "caution");
                                    f.anchorInfo.level = e.data.master_level, f.anchorInfo.rank = e.data.sort, f.anchorInfo.nextScore = parseInt(e.data.upgrade_score, 10);
                                    var t = parseInt(e.data.next_score, 10);
                                    n.allowRequest = !1, setTimeout(function () {
                                        f.anchorInfo.levelProgress = Math.floor((t - f.anchorInfo.nextScore) / t * 100) + "%", t = null
                                    }, 350)
                                },
                                error: function (e) {
                                    r(o, "播主信息获取失败：" + e.statusText, "error"), n.loaded = !0
                                }
                            }) : n.loaded = !0
                        },
                        hideFunc: function () {
                            var e = f.anchorInfoPanel;
                            e.outTimeout = setTimeout(function () {
                                e.out = !0, e.outTimeout2 = setTimeout(function () {
                                    e.show = !1, e.out = !1, e.loaded = !1, e = null
                                }, 250)
                            }, 300)
                        }
                    },
                    report: {
                        show: !1,
                        out: !1,
                        outTimeout: null,
                        reason: null,
                        imageLink: null,
                        permission: !0,
                        statusText: "您还没有选择图片.",
                        submitBtn: $("#report-upload-image-btn")[0],
                        openPanel: function () {
                            s(), f.report.permission && (f.report.show = !0, f.report.permission = !1)
                        },
                        confirm: function (e) {
                            function n(e) {
                                r(f.report.submitBtn, "举报信息提交失败：" + e + "，请您稍后再试或联系客服，实在抱歉 > <", "caution")
                            }

                            if ("keyup" !== e.type || 13 === e.keyCode)return f.report.imageLink && f.report.reason ? void $.ajax({
                                url: "/liveact/report_room",
                                type: "POST",
                                data: {room_id: t.ROOMID, picUrl: f.report.imageLink, reason: f.report.reason},
                                dataType: "JSON",
                                success: function (e) {
                                    return 0 != e.code ? void n(e.msg) : (r(f.report.submitBtn, "您已成功举报, 感谢您的支持！" + c.happy(), "success"), void f.report.cancel())
                                },
                                error: function (e) {
                                    n(e.statusText)
                                }
                            }) : void r(f.report.submitBtn, "请提供举报理由与举报截图后再上传哦! " + c.happy())
                        },
                        cancel: function () {
                            f.report.out = !0, setTimeout(function () {
                                f.report.reason = null, f.report.imageLink = null, f.report.statusText = "您还没有选择图片.", f.report.permission = !0, f.report.out = !1, f.report.show = !1
                            }, 380)
                        },
                        selectImage: function () {
                            $("#report-image").click()
                        },
                        uploadImage: function () {
                            var e = $("#report-image")[0].files[0];
                            if (e) {
                                if ("image/jpeg" !== e.type && "image/jpg" !== e.type && "image/png" !== e.type)return void r(f.report.submitBtn, "请上传 PNG 或 JPG 的图片~ " + c.helpless());
                                if (e && e.size > 1048576)return void r(f.report.submitBtn, "图片请不要超过 1MB 哦! " + c.sad());
                                f.report.statusText = "图片上传中, 请稍后...";
                                var n = new FormData;
                                n.append("fileUp", e), $.ajax({
                                    xhr: function () {
                                        var e = new t.XMLHttpRequest;
                                        return e.upload.addEventListener("progress", function (e) {
                                            f.report.statusText = e.lengthComputable && "上传中：" + e.loaded / e.total * 100 + "%", f.report.statusText = e.lengthComputable && e.loaded / e.total === 1 && "举报图片上传完毕, 您可以提交了! " + c.happy()
                                        }, !1), e
                                    },
                                    url: "/pic/upload",
                                    type: "POST",
                                    data: n,
                                    processData: !1,
                                    contentType: !1,
                                    success: function (e) {
                                        var t = e.toString().match(/http:\/\/.*\|/);
                                        if (t)f.report.imageLink = t[0].slice(0, t[0].length - 1); else {
                                            var n = "请确保网络通畅与图片类型为 PNG 或 JPG后重试.";
                                            r($("#report-upload-image-btn"), n, "caution"), f.report.statusText = n, f.report.imageLink = null
                                        }
                                    },
                                    error: function (e) {
                                        consoleText.log(o.consoleText.error + "举报图片上传失败:"), consoleText.log(e.statusText), r(f.report.submitBtn, "图片上传失败, 请稍后重试: " + e.statusText, "caution"), f.report.imageLink = null
                                    }
                                })
                            }
                        }
                    },
                    share: u,
                    liveStatusSwitch: function () {
                        1 === parseInt(ISANCHOR, 10) && ("on" === t._status ? (f.liveOffPanel.text = "您确定关闭直播？", f.liveOffPanel.show = !0) : f.$fire("liveStatus", "on"))
                    },
                    liveOffPanel: {
                        show: !1, out: !1, outTimeout: null, text: "您确定关闭直播？", hide: function () {
                            f.liveOffPanel.out = !0, clearTimeout(f.liveOffPanel.outTimeout), f.liveOffPanel.outTimeout = setTimeout(function () {
                                f.liveOffPanel.out = !1, f.liveOffPanel.show = !1
                            }, 380)
                        }
                    },
                    offLive: function () {
                        if (quizSystem.betStatus)var e = a({
                            title: "当前竞猜尚未结束",
                            html: '<div class="popup-content-container" style="margin: 30px; padding: 15px; border-radius: 10px; border: 1px dashed #F54178; color: #F54178; text-align: center; background-color: #FFE2E2;"><h3 style="margin-bottom: 10px; font-weight: 400;">当前竞猜尚未结束，您确定要关闭直播么？</h3><p>当您关闭直播后，请尽快在直播间或个人中心结算未结束的竞猜。若您在 5 分钟之内未进行结算，系统将强制流局并扣除您的信用值。</p></div>',
                            button: {confirm: "确认关闭", cancel: "取消"},
                            onConfirm: function () {
                                f.$fire("liveStatus", "off"), e.remove(), e = null
                            }
                        }); else f.$fire("liveStatus", "off")
                    },
                    attention: {
                        isAttend: t.ISATTENTION,
                        statusText: 1 === t.ISATTENTION ? "已关注" : "关注",
                        fansCount: e.data.FANS_COUNT || 0,
                        attend: function (n) {
                            function i() {
                                1 === parseInt(t.ISATTENTION, 10) ? (f.attention.fansCount += 1, f.attention.statusText = "已关注") : (f.attention.fansCount > 0 && f.attention.fansCount--, f.attention.statusText = "关注")
                            }

                            function a() {
                                1 === parseInt(t.ISATTENTION, 10) ? r(l, "感谢关注！ " + c.happy(), "success") : r(l, "已悄悄地取消~ " + c.helpless(), "info")
                            }

                            n.stopPropagation(), s();
                            var l = n.target || n.srcElement, u = 1 === t.ISATTENTION ? 0 : 1;
                            $.ajax({
                                url: "/liveact/attention",
                                type: "POST",
                                data: {uid: e.data.MASTERID, type: u},
                                dataType: "JSON",
                                success: function (e) {
                                    if (0 != e.code)return void r(l, e.msg + " " + c.helpless());
                                    t.ISATTENTION = u, f.attention.isAttend = u;
                                    try {
                                        $("#player_object")[0].attendStatus(u)
                                    } catch (n) {
                                    }
                                    i(), a()
                                },
                                error: function (e) {
                                    r(l, "关注失败, 请稍后再试 " + c.sad(), "caution")
                                },
                                timeout: o.appConfig.xhrTimeout
                            })
                        },
                        mouseover: !1,
                        mouseenter: function () {
                            f.attention.mouseover = !0
                        },
                        mouseleave: function () {
                            f.attention.mouseover = !1
                        }
                    },
                    roomEdit: function () {
                        f.$fire("all!showRoomEditDialog")
                    },
                    liveManage: function () {
                        f.$fire("all!showLiveManageDialog", {curTarget: "liveManage"})
                    },
                    blackManage: function () {
                        f.$fire("all!showBlackDialog")
                    }
                }), f.$watch("liveStatus", function (e) {
                    "on" === e || e === !0 ? n(1, function () {
                        f.roomInfo.liveStatus = "on", f.$fire("all!showStreamCode")
                    }) : n(0, function () {
                        f.roomInfo.liveStatus = "off", f.liveOffPanel.hide()
                    })
                }), f.$watch("liveStatusButton", function (e) {
                    "on" === e || e === !0 ? f.roomInfo.liveStatus = "on" : f.roomInfo.liveStatus = "off"
                }), f.$watch("liveCutOff", function () {
                    UID == MASTERID && n(0)
                }), f.$watch("setViewerCount", function (e) {
                    if (isNaN(parseInt(e, 10)))throw new Error(o.consoleText.error + "房间人数变量数值类型错误, 必须为可转为数字的有效变量.");
                    l(e, f.roomInfo.viewerCount, "headInfoCtrl.roomInfo.viewerCount")
                }), t.liveRoomFuncs.giftReceived = d, f.$watch("giftReceived", d);
                var p = !1;
                i(document.getElementById("head-info-panel"), f, function () {
                    i(document.getElementById("report-panel"), f), f.$fire("giftReceived", e.data.RCOST)
                })
            });
            var p = null, m = null
        }
    }, {
        "../../../common/app-config/app-config": 1,
        "../../../common/components/live-widget/live-popup/live-popup": 7,
        "../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../common/functions/func-avalon-lazy-init/lazy-init": 9,
        "../../../common/functions/func-live-quick-login/live-quick-login": 13,
        "../../../common/functions/func-random-emoji/random-emoji": 14,
        "../../../common/functions/func-setnum-avalon/avalon-set-num": 15
    }],
    61: [function (e, t, n) {
        t.exports = function () {
            e("./javascripts/sidebar-ctrl")()
        }
    }, {"./javascripts/sidebar-ctrl": 62}],
    62: [function (e, t, n) {
        function o() {
            if (localStorage) {
                var e = Date.now(), t = localStorage.getItem("lastVisitTime");
                if (!t || e - t >= 864e5)return i(e), void a();
                var n = localStorage.getItem("sidebarStatus");
                "open" === n ? a() : r(), e = null, n = null
            }
        }

        function i(e) {
            localStorage.setItem("lastVisitTime", e)
        }

        function a() {
            $(".body-container").addClass("sidebar-left-open"), localStorage.setItem("sidebarStatus", "open"), l.roomSidebarLeftStatus = !0
        }

        function r() {
            $(".body-container").removeClass("sidebar-left-open"), localStorage.setItem("sidebarStatus", "closed"), l.roomSidebarLeftStatus = !1
        }

        var s = e("../../wish/intro.js")();
        e("perfect-scrollbar/jquery")(window.jQuery);
        var l = null;
        t.exports = function () {
            "use strict";
            return l = avalon.define({
                $id: "roomSidebarLeftCtrl",
                newTask: !1,
                roomSidebarLeftStatus: !0,
                toggleSidebarLeft: function () {
                    l.roomSidebarLeftStatus = !l.roomSidebarLeftStatus
                },
                clickWish: function () {
                    s.show()
                }
            }), l.$watch("roomSidebarLeftStatus", function (e) {
                e ? a() : r()
            }), l.$watch("toggleRoomSidebarLeft", function (e) {
                l.roomSidebarLeftStatus = "boolean" == typeof e ? e : !l.roomSidebarLeftStatus
            }), l
        }, $(function () {
            $(".room-left-sidebar").find(".main-ctnr").perfectScrollbar(), setTimeout(o, 500)
        })
    }, {"../../wish/intro.js": 79, "perfect-scrollbar/jquery": 89}],
    63: [function (e, t, n) {
        t.exports = function () {
            e("./javascripts/my-attention.js")()
        }
    }, {"./javascripts/my-attention.js": 64}],
    64: [function (e, t, n) {
        e("perfect-scrollbar/jquery")($);
        var o = e("../../../../common/functions/func-live-quick-login/live-quick-login");
        t.exports = function () {
            var e = null, t = 0, n = 1, i = avalon.define({
                $id: "myAttentionCtrl",
                open: !1,
                list: [],
                hasMore: !1,
                feedMode: 1,
                count: 0,
                setFeedMode: function () {
                    i.feedMode = 1 == i.feedMode ? 0 : 1, $.ajax({
                        url: "/feed/on/",
                        data: {open: i.feedMode},
                        type: "POST",
                        dataType: "JSON",
                        success: function (e) {
                            i.feedMode = e.data.open
                        }
                    })
                },
                listItemsReady: function () {
                    var e = $(this).parent(".my-attention-body");
                    e.perfectScrollbar("update")
                },
                readMore: function () {
                    o(), window.open("/i/following", "_blank")
                }
            }), a = function (e) {
                var t = new Date, n = new Date(t.getTime() + 6e4), o = JSON.stringify(e);
                $.cookie("attentionData", o, {expires: n})
            }, r = function (o) {
                t = o.data.hb, i.feedMode = o.data.open, 0 == o.code ? (i.count = o.data.count, o.data.open && o.data.has_new && (n = 1, i.open = !0, i.$fire("all!toggleRoomSidebarLeft", !0), l())) : clearInterval(e)
            }, s = function () {
                $.ajax({
                    url: "/feed/heartBeat/heartBeat",
                    data: {hb: t},
                    type: "POST",
                    dataType: "JSON",
                    cache: !1,
                    success: function (e) {
                        r(e), a(e)
                    }
                })
            };
            s();
            e = setInterval(function () {
                var e, t = $.cookie("attentionData");
                t ? (e = $.parseJSON(t), r(e)) : s()
            }, 6e4);
            var l = function () {
                $.ajax({
                    url: "/feed/getList/" + n, type: "POST", dataType: "JSON", cache: !1, success: function (e) {
                        var t = $("#room-my-attention .my-attention-body");
                        1 == n ? (t.scrollTop(0), i.list = e.data.list) : i.list = i.list.concat(e.data.list), e.data.list.length < 10 ? i.hasMore = !1 : i.hasMore = !0
                    }
                })
            };
            l(), $(function () {
                var e = $("#room-my-attention .my-attention-body");
                e.perfectScrollbar(), e.on("ps-y-reach-end", function () {
                    i.hasMore && (n++, l())
                })
            })
        }
    }, {"../../../../common/functions/func-live-quick-login/live-quick-login": 13, "perfect-scrollbar/jquery": 89}],
    65: [function (e, t, n) {
        t.exports = function () {
            e("./javascripts/quiz-protocol")(window), e("./javascripts/quiz-avalon-ctrl")(window, window.avalon)
        }
    }, {"./javascripts/quiz-avalon-ctrl": 66, "./javascripts/quiz-protocol": 71}],
    66: [function (e, t, n) {
        var o = e("../../../../common/functions/func-avalon-lazy-init/lazy-init"), i = e("../../../../common/components/live-widget/live-toast/live-toast"), a = e("../../../../common/functions/func-random-emoji/random-emoji"), r = {residentCountChk: null};
        t.exports = function (t, n, s) {
            "use strict";
            function l() {
                function l() {
                    c.$fire("QuizCheckStatus"), o(document.getElementById("quiz-setting-container"), c), o($("#room-left-sidebar").find(".small-btn.quiz")[0], c)
                }

                var c = n.define({
                    $id: "quizCtrl",
                    quiz: {
                        betId: -1,
                        betStatus: !1,
                        disabled: !1,
                        info: {
                            id: null,
                            uid: null,
                            question: "--",
                            a: "--",
                            b: "--",
                            answer: null,
                            status: null,
                            update_time: null
                        },
                        answerInfo: {gold: {a: {}, b: {}}, silver: {a: {}, b: {}}},
                        beResidentData: {
                            answer: "", currencyType: "silver", odds: "", oddsChk: function (e) {
                                var t = e.target || e.srcElement, n = parseFloat(c.quiz.beResidentData.odds);
                                return isNaN(n) ? (i(t, "手滑了吧~ 只能是数字喔~ " + a.helpless()), void(c.quiz.beResidentData.odds = "")) : (clearTimeout(c.quiz.beResidentData.oddsChkTimeout), void(c.quiz.beResidentData.oddsChkTimeout = setTimeout(function () {
                                    (.1 > n || n > 9.9) && (i(t, "倍率要在 0.1 到 9.9 之间喔~ " + a.helpless()), c.quiz.beResidentData.odds = "")
                                }, 10)))
                            }, oddsChkTimeout: null, residentCount: ""
                        },
                        betBuyData: {bankerId: "", buyCount: "", maxBuyCount: 0, buyIncome: 0},
                        quizCheckoutData: {choicedAnswer: ""},
                        permission: !1,
                        allowNewQuiz: !1,
                        quizJoined: !1,
                        initFinished: !1
                    },
                    account: {currency: {gold: "--", silver: "--"}, type: !1},
                    doms: {
                        displayTitle: "",
                        quizSetupPanel: {show: !1, out: !1, outTimeout: null},
                        betBuyPanel: {show: !1, out: !1, outTimeout: null},
                        beResidentPanel: {show: !1, out: !1, outTimeout: null},
                        subscriptionList: {show: !1, out: !1, outTimeout: null},
                        adjournPanel: {show: !1, out: !1, outTimeout: null},
                        quizCheckoutPanel: {show: !1, out: !1, outTimeout: null}
                    },
                    events: {
                        quizSetup: function () {
                            c.quiz.allowNewQuiz && !c.quiz.betStatus && "anchor" === c.account.type && c.$fire("QuizSetup")
                        }, quizCancelSetup: function () {
                            c.$fire("QuizCancelSetup")
                        }, quizStart: function (e) {
                            if (13 === e.keyCode || !e.keyCode) {
                                var t = e.target || e.srcElement;
                                if (c.quiz.info.question.length < 1 || c.quiz.info.a.length < 1 || c.quiz.info.b.length < 1)return void i(t, "请输入完整的竞猜内容喔~ " + a.helpless());
                                c.$fire("QuizStart", {toastElement: t})
                            }
                        }, quizAdjourn: function () {
                            c.$fire("QuizAdjourning")
                        }, quizAdjournConfirm: function (e) {
                            c.$fire("QuizAdjournConfirm", {targetElement: e.target || e.srcElement})
                        }, quizAdjournCancel: function () {
                            c.$fire("QuizAdjournCancel")
                        }, quizOnClose: function () {
                            c.$fire("QuizOnClose")
                        }, quizCheckout: function (e) {
                            c.$fire("QuizCheckout", {targetElement: e.target || e.srcElement})
                        }, quizCancelCheckout: function () {
                            c.$fire("QuizCancelCheckout")
                        }, betBuy: function (e) {
                            var t = e.target || e.srcElement;
                            c.$fire("BetBuy", function () {
                                var e = c.quiz.answerInfo[t.attributes["data-type"].value][t.attributes["data-target"].value];
                                c.quiz.betBuyData.bankerId = e.id, c.quiz.betBuyData.maxBuyCount = e.amount ? e.amount : 0, c.quiz.betBuyData.odds = e.times ? e.times : .1, c.quiz.betBuyData.buyIncome = 0
                            })
                        }, buyMax: function () {
                            c.quiz.betBuyData.buyCount = c.quiz.betBuyData.maxBuyCount, c.quiz.betBuyData.buyIncome = Math.floor(c.quiz.betBuyData.buyCount * (1 + c.quiz.betBuyData.odds) * .95)
                        }, updateBetBuyIncome: function (e) {
                            c.quiz.betBuyData.buyCount = parseInt(c.quiz.betBuyData.buyCount, 10), isNaN(c.quiz.betBuyData.buyCount) && (c.quiz.betBuyData.buyCount = null, i(e.target || e.srcElement, "只能输入数字哦 " + a.helpless())), parseInt(c.quiz.betBuyData.buyCount, 10) > parseInt(c.quiz.betBuyData.maxBuyCount, 10) && (c.quiz.betBuyData.buyCount = c.quiz.betBuyData.maxBuyCount, i(e.target || e.srcElement, "不能超过最大额度哦 " + a.helpless())), c.quiz.betBuyData.buyIncome = Math.floor(c.quiz.betBuyData.buyCount * (1 + c.quiz.betBuyData.odds) * .95), 13 === e.keyCode && c.events.betBuyConfirm(e)
                        }, betBuyConfirm: function (e) {
                            ("keyup" !== e.type || 13 === e.keyCode) && c.$fire("BetBuyConfirm", e)
                        }, betBuyCancel: function () {
                            c.$fire("BetBuyCancel")
                        }, betBeResident: function (e) {
                            c.$fire("BetBeResident")
                        }, betBeResidentConfirm: function (e) {
                            var t = e.target || e.srcElement, n = parseInt(c.quiz.beResidentData.residentCount, 10);
                            return isNaN(c.quiz.beResidentData.residentCount) ? (i(t, "手滑了吧~ 只能是数字喔~ " + a.helpless()), void(c.quiz.beResidentData.residentCount = "")) : (clearTimeout(r.residentCountChk), r.residentCountChk = setTimeout(function () {
                                1e4 > n && i(t, "底金不得少于 10000 哦~ " + a.helpless())
                            }, 300), e.keyCode && 13 !== e.keyCode ? void 0 : 1e4 > n ? (clearTimeout(r.residentCountChk), void i(t, "底金不得少于 10000 哦~ " + a.helpless())) : void c.$fire("BetBeResidentConfirm", {element: t}))
                        }, beResidentCancel: function () {
                            c.$fire("BetBeResidentCancel")
                        }, showSubscription: function (e) {
                            c.$fire("BetShowSubscriptionList", e)
                        }, closeSubScription: function () {
                            c.doms.subscriptionList.out = !0, setTimeout(function () {
                                c.doms.subscriptionList.show = !1, c.doms.subscriptionList.out = !1
                            }, 380)
                        }
                    },
                    data: {subscriptionList: []}
                });
                !function () {
                    e("./quiz-ctrl-quiz-setup")(c), e("./quiz-ctrl-methods")(c), e("./quiz-ctrl-user-events")(c), e("./quiz-ctrl-status-ctrl")(c), function () {
                        c.$watch("fillCurrency", function (e) {
                            e.gold !== s && null !== e.gold && (c.account.currency.gold = e.gold), e.silver !== s && null !== e.silver && (c.account.currency.silver = e.silver)
                        })
                    }()
                }(), $.cookie("DedeUserID") && 1 === parseInt(t.ISANCHOR, 10) && (c.account.type = "anchor"), $.cookie("DedeUserID") && 0 === parseInt(t.ISANCHOR, 10) && (c.account.type = "guest"), $.cookie("DedeUserID") || (c.account.type = !1), n.templateCache["quiz-panel.html"] = "", n.templateCache["quiz-panel-anchor.html"] = "", o(document.getElementById("quiz-control-panel"), c, l)
            }

            t.quizSystem = {betStatus: !1}, n.ready(l)
        }
    }, {
        "../../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../../common/functions/func-avalon-lazy-init/lazy-init": 9,
        "../../../../common/functions/func-random-emoji/random-emoji": 14,
        "./quiz-ctrl-methods": 67,
        "./quiz-ctrl-quiz-setup": 68,
        "./quiz-ctrl-status-ctrl": 69,
        "./quiz-ctrl-user-events": 70
    }],
    67: [function (e, t, n) {
        (function (n) {
            var o = e("../../../../common/app-config/app-config"), i = e("../../../../common/components/live-widget/live-toast/live-toast"), a = e("../../../../common/components/live-widget/live-popup/live-popup"), r = e("../../../../common/functions/func-random-emoji/random-emoji");
            t.exports = function (e) {
                e.$watch("QuizStart", function (t) {
                    $.ajax({
                        url: "/bet/addBet",
                        type: "POST",
                        dataType: "JSON",
                        data: {
                            question: e.quiz.info.question,
                            a: e.quiz.info.a,
                            b: e.quiz.info.b,
                            token: $.cookie("LIVE_LOGIN_DATA") || ""
                        },
                        success: function (n) {
                            return 0 != n.code ? (consoleText.log(o.consoleText.error + "竞猜开启失败, 必炸必炸动画 (╯‵□′)╯︵┻━┻"), consoleText.log("Detail: " + n.msg.toString()), void i(t.toastElement, "竞猜开启失败：" + n.msg.toString(), "error")) : (e.quiz.betId = n.data.betId, e.quiz.allowNewQuiz = !1, e.quiz.quizJoined = !0, void e.events.quizCancelSetup())
                        },
                        error: function (e) {
                            consoleText.log(o.consoleText.error + "竞猜开启失败, 网络通信失败"), i(t.toastElement, "竞猜开启失败, 还请您稍后重试… " + r.sad(), "error")
                        }
                    })
                }), e.$watch("QuizAdjourning", function () {
                    "anchor" !== e.account.type || e.quiz.allowNewQuiz || (e.doms.adjournPanel.show = !0, e.quiz.allowNewQuiz = !1)
                }), e.$watch("QuizAdjourned", function () {
                    e.quiz.disabled = !0, e.doms.displayTitle = "竞猜已封盘，停手啦 " + r.helpless(), e.quiz.allowNewQuiz = !1, setTimeout(function () {
                        1 != ISANCHOR && i($(".be-resident-btn"), "竞猜封盘啦，不能挖坑啦~ " + r.helpless())
                    }, 1)
                }), e.$watch("QuizAdjournCancel", function () {
                    e.doms.adjournPanel.out = !0, setTimeout(function () {
                        e.doms.adjournPanel.show = !1, e.doms.adjournPanel.out = !1
                    }, 380)
                }), e.$watch("QuizAdjournConfirm", function (t) {
                    "anchor" !== e.account.type || e.quiz.allowNewQuiz || $.ajax({
                        url: "/bet/seal",
                        type: "POST",
                        data: {betId: e.quiz.betId, token: $.cookie("LIVE_LOGIN_DATA") || ""},
                        dataType: "JSON",
                        success: function (n) {
                            if (0 != n.code) {
                                var o = n.msg ? n.msg : "服务器响应为封盘失败";
                                return void i(t.targetElement, "封盘失败：" + o + "，请稍后再试试 " + r.sad(), "error")
                            }
                            i(t.targetElement, "封盘成功！" + r.happy(), "success"), e.$fire("QuizAdjournCancel")
                        },
                        error: function (e) {
                            var n = e.msg ? e.msg : "服务器响应为封盘失败";
                            i(t.targetElement, "封盘失败：" + n + "，请稍后再试试 " + r.sad(), "error")
                        }
                    })
                }), e.$watch("QuizOnClose", function () {
                    "anchor" !== e.account.type || e.quiz.allowNewQuiz || (e.doms.quizCheckoutPanel.show = !0)
                }), e.$watch("QuizCheckout", function (t) {
                    return "anchor" !== e.account.type || e.quiz.allowNewQuiz ? void 0 : null === e.quiz.betId || void 0 === e.quiz.betId ? void a({
                        title: "竞猜出现错误",
                        html: "<p>由于没有正确获取到竞猜 ID, 您的本次竞猜出现了问题, 请刷新浏览器, 如果多次刷新后竞猜存在且无法正常爆破, 请您联系客服进行处理, 真的很抱歉！> <<br/><br/>Detail: 未获取到正确的 betId.</p>",
                        type: "alert"
                    }) : e.quiz.quizCheckoutData.choicedAnswer ? void $.ajax({
                        url: "/bet/endBet",
                        type: "POST",
                        dataType: "JSON",
                        data: {
                            betId: e.quiz.betId,
                            answer: e.quiz.quizCheckoutData.choicedAnswer,
                            token: $.cookie("LIVE_LOGIN_DATA") || ""
                        },
                        success: function (n) {
                            return 0 != n.code ? void i(t.targetElement, "竞猜爆破失败：" + n.msg, "error") : (i(t.targetElement, "爆破成功！您可以到竞猜中心查看记录~ " + r.happy() || n.msg, "success"), void e.$fire("QuizCancelCheckout"))
                        },
                        error: function (e) {
                            a({
                                title: "竞猜爆破失败 " + r.sad(),
                                html: "<p>由于网络错误或服务器出现问题, 竞猜爆破失败, 请您稍后再试或联系客服处理, 真的很抱歉！" + r.sad() + "<br/><br/>Detail: " + e.statusText + "</p>"
                            })
                        }
                    }) : void i(t.targetElement, "请选择您的答案哦~ " + r.helpless())
                }), e.$watch("QuizCancelCheckout", function () {
                    e.doms.quizCheckoutPanel.out = !0, e.quiz.quizCheckoutData.choicedAnswer = null, setTimeout(function () {
                        e.doms.quizCheckoutPanel.show = !1, e.doms.quizCheckoutPanel.out = !1
                    }, 380)
                }), e.$watch("QuizOnEnding", function () {
                    e.quiz.disabled = !0, e.doms.displayTitle = "竞猜正在爆破中 " + r.helpless(), e.quiz.info.question += "（爆破中）", setTimeout(function () {
                        1 != ISANCHOR && i($(".be-resident-btn"), "竞猜爆破中，等下一波吧~ " + r.happy(), "success")
                    }, 1)
                }), e.$watch("QuizGetResult", function (t) {
                    return e.quiz.quizJoined ? void $.ajax({
                        url: "/bet/getUserProfit",
                        type: "POST",
                        data: {betId: e.quiz.betId},
                        dataType: "JSON",
                        success: function (i) {
                            function r() {
                                l.silver >= 0 ? u.silver = '<p style="color: #4fc1e9"><i class="live-icon silver-seed v-middle"></i><span class="v-middle" style="margin-left: 5px"> 赢得 ' + l.silver + " 银瓜子</span></p>" : u.silver = '<p style="color: #E16C97"><i class="live-icon silver-seed"></i> 损失 ' + -l.silver + " 银瓜子</p>", c = a({
                                    title: "爆破成功",
                                    html: '<p>本轮竞猜您一共：</p><p class="text-center">' + u.gold + u.silver + '</p><p style="text-align:center; margin: 10px 0;"><a href="/i/bet" target="_blank" style="color: #4fc1e9;">点击查看详情...</a></p>',
                                    type: "info",
                                    width: 300,
                                    onConfirm: function () {
                                        c.remove(), c = null
                                    }
                                })
                            }

                            function s() {
                                l.silver >= 0 ? u.silver = '<p style="color: #4fc1e9"><i class="live-icon silver-seed v-middle"></i><span class="v-middle" style="margin-left: 5px"> 赢得 ' + l.silver + " 银瓜子</span></p>" : u.silver = '<p style="color: #E16C97"><i class="live-icon silver-seed"></i> 损失 ' + -l.silver + " 银瓜子</p>", c = a({
                                    title: "竞猜结束",
                                    html: '<p>本轮竞猜答案为：<span style="color: pink" class="quiz-summary-guest-answer">' + i.data.bet.answer + "</span></p>" + u.silver + '<p style="text-align:center; margin: 10px 0;"><a href="/i/bet" target="_blank" style="color: #4fc1e9;">点击查看详情...</a></p>',
                                    type: "info",
                                    width: 300,
                                    onConfirm: function () {
                                        c.remove(), c = null
                                    }
                                })
                            }

                            if (0 != i.code)return consoleText.log(o.consoleText.error + "竞猜结果获取失败."), void consoleText.log("Detail: " + i.msg);
                            var l = {
                                gold: parseInt(i.data.profit.gold, 10),
                                silver: parseInt(i.data.profit.silver, 10)
                            }, c = null, u = {gold: "", silver: ""};
                            1 === parseInt(n.ISANCHOR, 10) ? r() : s(), e.$fire("all!updateCurrency", {
                                gold: i.data.user.gold,
                                silver: i.data.user.silver
                            }), e.quiz.info = {
                                id: null,
                                uid: null,
                                question: "--",
                                a: "--",
                                b: "--",
                                answer: null,
                                status: null,
                                update_time: null
                            }, e.quiz.answerInfo = {
                                gold: {a: {}, b: {}},
                                silver: {a: {times: null, progress: 0, c: 0}, b: {times: null, progress: 0, c: 0}}
                            }, t && t()
                        },
                        error: function (e) {
                        }
                    }) : void e.$fire("QuizRestorePanel")
                }), e.$watch("QuizRestorePanel", function (t) {
                    e.quiz.disabled = !1, e.quiz.permission = !0, e.quiz.allowNewQuiz = !0, e.quiz.betStatus = !1, quizSystem.betStatus = !1, e.quiz.quizJoined = !1, e.quiz.betId = -1, e.quiz.disabled = !1
                })
            }
        }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {
        "../../../../common/app-config/app-config": 1,
        "../../../../common/components/live-widget/live-popup/live-popup": 7,
        "../../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../../common/functions/func-random-emoji/random-emoji": 14
    }],
    68: [function (e, t, n) {
        t.exports = function (e) {
            "use strict";
            e.$watch("QuizSetup", function () {
                e.doms.quizSetupPanel.show = !0, e.doms.quizSetupPanel.out = !1, e.quiz.info.question = "", e.quiz.info.a = "", e.quiz.info.b = ""
            }), e.$watch("QuizCancelSetup", function () {
                e.doms.quizSetupPanel.out = !0, clearTimeout(e.doms.quizSetupPanel.outTimeout), e.doms.quizSetupPanel.outTimeout = setTimeout(function () {
                    e.doms.quizSetupPanel.show = !1, e.doms.quizSetupPanel.out = !1
                }, 380)
            })
        }
    }, {}],
    69: [function (e, t, n) {
        var o = e("../../../../common/app-config/app-config"), i = {common: !1, anchor: !1};
        t.exports = function (e) {
            "use strict";
            e.$watch("QuizCheckStatus", function (t) {
                function n(n) {
                    if (0 !== parseInt(n.code, 10))return consoleText.log(o.consoleText.error + "竞猜信息获取错误, 必炸必炸动画  (╯‵□′)╯︵┻━┻"), consoleText.log("Detail: " + n.msg), void(e.quiz.allowNewQuiz = !1);
                    if (!n.data.isBet)return e.quiz.permission = !1, e.quiz.allowNewQuiz = !1, !1;
                    if (quizSystem.betStatus = n.data.betStatus, e.quiz.initFinished ? void 0 : e.quiz.quizJoined = n.data.isInBet, e.quiz.permission = n.data.isBet, e.quiz.betStatus = n.data.betStatus, n.data.bet !== [] && !$.isEmptyObject(n.data.bet)) {
                        e.quiz.betStatus = n.data.betStatus, e.quiz.allowNewQuiz = !n.data.isInBet, n.data.bet.id ? e.quiz.betId = n.data.bet.id : void 0, e.quiz.info = n.data.bet;
                        try {
                            n.data.silver.a.amount || (n.data.silver.a.amount = 0), n.data.silver.b.amount || (n.data.silver.b.amount = 0), n.data.silver.a.times || (n.data.silver.a.times = null), n.data.silver.b.times || (n.data.silver.b.times = null), e.quiz.answerInfo.gold = n.data.gold, e.quiz.answerInfo.silver = n.data.silver
                        } catch (a) {
                        }
                        e.doms.displayTitle = ""
                    }
                    return e.quiz.initFinished ? void 0 : e.quiz.initFinished = !0, 1 == n.data.betStatus ? e.quiz.allowNewQuiz = !1 : e.quiz.allowNewQuiz = !0, t.callback && setTimeout(t.callback, 1), n.data.isBet && (i.common || $.getScript("http://static.hdslb.com/live-static/live-room/tpls/tpl-quiz.js", function (e) {
                        avalon.templateCache["quiz-panel.html"] = window.liveTpls["room-template/quiz-guest.html"], i.common = !0
                    }), 1 != ISANCHOR || i.anchor || $.getScript("http://static.hdslb.com/live-static/live-room/tpls/tpl-quiz-anchor.js", function (e) {
                        avalon.templateCache["quiz-panel-anchor.html"] = window.liveTpls["room-template/quiz-anchor.html"], i.anchor = !0
                    })), -2 === parseInt(n.data.bet.status, 10) ? void e.$fire("QuizAdjourned") : void(-3 === parseInt(n.data.bet.status, 10) && e.$fire("QuizOnEnding"))
                }

                function a(e) {
                    consoleText.log(o.consoleText.error + "竞猜信息获取失败:"), consoleText.log(e.statusText)
                }

                if (t = t || {type: "normal"}, "normal" !== t.type && "protocol" !== t.type)throw new Error(o.consoleText.error + "非法调用, 骚年你撸多了.");
                return "protocol" === t.type && t.json ? void n(t.json) : void $.ajax({
                    url: "/bet/getRoomBet",
                    type: "POST",
                    dataType: "JSON",
                    data: {roomid: ROOMID},
                    success: n,
                    error: a
                })
            }), e.$watch("QuizUpdateInfo", function () {
            })
        }
    }, {"../../../../common/app-config/app-config": 1}],
    70: [function (e, t, n) {
        var o = e("../../../../common/app-config/app-config"), i = e("../../../../common/functions/func-random-emoji/random-emoji"), a = e("../../../../common/components/live-widget/live-popup/live-popup"), r = e("../../../../common/components/live-widget/live-toast/live-toast");
        t.exports = function (e, t) {
            e.$watch("BetBeResident", function () {
                if (!e.quiz.allowNewQuiz) {
                    if ("anchor" === e.account.type)return void r(event.target || event.srcElement, "播主不可以挖坑喔~" + i.helpless());
                    if (e.account.type === !1)return void r(event.target || event.srcElement, "您还没有登录哦~" + i.helpless());
                    e.doms.beResidentPanel.show = !0, e.$fire("all!updateCurrency")
                }
            }), e.$watch("BetBeResidentConfirm", function (n) {
                if (e.quiz.allowNewQuiz)return void consoleText.log(o.consoleText.caution + "allowNewQuiz = false, 当前不允许挖坑.");
                if (!e.quiz.beResidentData.answer || !e.quiz.beResidentData.odds || !e.quiz.beResidentData.residentCount)return void r(n.element, "请将数据填写完整~~" + i.shock(), "caution");
                if (null !== e.quiz.betId && e.quiz.betId !== t && "" !== e.quiz.betId)$.ajax({
                    url: "/bet/addBanker",
                    type: "POST",
                    dataType: "JSON",
                    data: {
                        answer: e.quiz.beResidentData.answer,
                        times: parseFloat(e.quiz.beResidentData.odds).toFixed1(),
                        coin: e.quiz.beResidentData.residentCount,
                        coinType: e.quiz.beResidentData.currencyType,
                        betId: e.quiz.betId,
                        token: $.cookie("LIVE_LOGIN_DATA") || ""
                    },
                    timeout: o.appConfig.xhrTimeout,
                    success: function (t) {
                        return 0 != t.code ? (consoleText.log(o.consoleText.error + "坐庄失败."), consoleText.log("Detail: " + t.msg), void r(n.element, "挖坑失败惹：" + t.msg + i.happy(), "caution")) : (r(n.element, "挖坑成功!~ " + i.happy(), "success"), e.quiz.quizJoined = !0, void e.$fire("BetBeResidentCancel"))
                    },
                    error: function (e) {
                        consoleText.log(o.consoleText.error + "挖坑请求失败."), consoleText.log("Detail: " + e.msg);
                        var t = a({
                            title: "挖坑失败… " + i.sad(),
                            content: "> < 挖坑失败了…… 请您稍后再试, 真的很抱歉… <br/><br/>Status: " + e.status + ".<br/>Detail: " + e.statusText + ".",
                            type: "alert",
                            onConfirm: function () {
                                t.remove()
                            }
                        })
                    }
                }); else var s = a({
                    title: "出现错误 " + i.sad(),
                    content: "> < 竞猜出现错误, 请刷新页面后重试… <br/><br/>Detail: 没有获取正确的 betId.",
                    type: "alert",
                    onConfirm: function () {
                        s.remove()
                    }
                })
            }), e.$watch("BetBeResidentCancel", function () {
                e.quiz.beResidentData.answer = "", e.quiz.beResidentData.odds = "", e.quiz.beResidentData.residentCount = "", e.doms.beResidentPanel.out = !0, clearTimeout(e.doms.beResidentPanel.outTimeout), e.doms.beResidentPanel.outTimeout = setTimeout(function () {
                    e.doms.beResidentPanel.show = !1, e.doms.beResidentPanel.out = !1
                }, 380)
            }), e.$watch("BetShowSubscriptionList", function (t) {
                var n = t && t.target || t.srcElement;
                $.ajax({
                    url: "/bet/getBankers",
                    type: "POST",
                    data: {betId: e.quiz.betId},
                    dataType: "JSON",
                    success: function (t) {
                        return 0 != t.code ? void(n && r(n, "认购表数据获取错误：" + t.msg, "caution", !0)) : (e.doms.subscriptionList.show = !0, e.data.subscriptionList = t.data, void(n = null))
                    },
                    error: function (e) {
                        n && r(n, "认购表数据获取错误：" + e.statusText, "error", !0)
                    }
                })
            }), e.$watch("BetHideSubscriptionList", function () {
            }), e.$watch("BetBuy", function (t) {
                if (!e.quiz.allowNewQuiz) {
                    if ("anchor" === e.account.type)return void r(event.target || event.srcElement, "播主不可以填坑哦~" + i.helpless());
                    if (e.account.type === !1)return void r(event.target || event.srcElement, "您还没有登录哦~" + i.helpless());
                    e.$fire("all!updateCurrency"), e.$fire("QuizCheckStatus", {
                        type: "normal", callback: function () {
                            t(), e.doms.betBuyPanel.show = !0
                        }
                    })
                }
            }), e.$watch("BetBuyConfirm", function (t) {
                var n = t ? t.target || t.srcElement : document.body;
                return e.quiz.betBuyData.buyCount ? void $.ajax({
                    url: "/bet/addBettor",
                    type: "POST",
                    dataType: "JSON",
                    data: {
                        bankerId: e.quiz.betBuyData.bankerId,
                        amount: e.quiz.betBuyData.buyCount,
                        token: $.cookie("LIVE_LOGIN_DATA") || ""
                    },
                    success: function (t) {
                        return 0 != t.code ? (consoleText.log(o.consoleText.error + "填坑失败."), consoleText.log("Detail: " + t.msg), void r(n, "填坑失败惹：" + t.msg, "caution")) : (r(n, "填坑成功!~ " + i.happy(), "success"), e.quiz.quizJoined = !0, void e.$fire("BetBuyCancel"))
                    },
                    error: function (e) {
                        consoleText.log(o.consoleText.error + "填坑请求失败."), consoleText.log("Detail: " + e.msg);
                        var t = a({
                            title: "填坑失败了… " + i.sad(),
                            content: "> < 填坑失败了…… 请您稍后再试, 真的很抱歉… <br/><br/>Status: " + e.status + ".<br/>Detail: " + e.statusText + ".",
                            type: "alert",
                            onConfirm: function () {
                                t.remove()
                            }
                        })
                    }
                }) : void r(n, "您好像并没有填写填坑量嘛~~ " + i.helpless())
            }), e.$watch("BetBuyCancel", function () {
                e.quiz.betBuyData.bankerId = "", e.quiz.betBuyData.buyCount = "", e.quiz.betBuyData.maxBuyCount = 0, e.quiz.betBuyData.buyIncome = 0, e.doms.betBuyPanel.out = !0, clearTimeout(e.doms.betBuyPanel.outTimeout), e.doms.betBuyPanel.outTimeout = setTimeout(function () {
                    e.doms.betBuyPanel.show = !1, e.doms.betBuyPanel.out = !1
                }, 380)
            })
        }
    }, {
        "../../../../common/app-config/app-config": 1,
        "../../../../common/components/live-widget/live-popup/live-popup": 7,
        "../../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../../common/functions/func-random-emoji/random-emoji": 14
    }],
    71: [function (e, t, n) {
        var o = e("../../../../common/app-config/app-config");
        t.exports = function (e, t) {
            "use strict";
            if (!e.protocol)throw new Error(o.console.error + "protocol 未加载, 竞猜模块必须在 protocol 初始化完毕后才可运行.");
            var n = avalon.vmodels.flashProtoCtrl;
            e.protocol.BET_START = function (e) {
                n.$fire("all!QuizCheckStatus", {type: "protocol", json: e.data})
            }, e.protocol.BET_BANKER = function (e) {
                n.$fire("all!QuizCheckStatus", {type: "protocol", json: e.data})
            }, e.protocol.BET_BETTOR = function (e) {
                n.$fire("all!QuizCheckStatus", {type: "protocol", json: e.data})
            }, e.protocol.BET_SEAL = function (e) {
                n.$fire("all!QuizAdjourned")
            }, e.protocol.BET_ENDING = function (e) {
                n.$fire("all!QuizCheckStatus", {type: "protocol", json: e.data})
            }, e.protocol.BET_END = function (e) {
                n.$fire("all!QuizGetResult", function () {
                    n.$fire("all!QuizRestorePanel", e)
                })
            }
        }
    }, {"../../../../common/app-config/app-config": 1}],
    72: [function (e, t, n) {
        var o = e("../../../common/app-config/app-config"), i = e("../../../common/functions/func-avalon-lazy-init/lazy-init");
        t.exports = function (e) {
            "use strict";
            avalon.ready(function () {
                if (!e.ROOMID || !e.ANCHOR_NICK_NAME)throw new Error(o.consoleText.error + "未获取到 ROOMID, 请检查函数的执行顺序.");
                var t = avalon.define({
                    $id: "recommendVideoCtrl",
                    title: e.ANCHOR_NICK_NAME + "的视频",
                    spaceLink: "http://space.bilibili.com/" + e.MASTERID,
                    show: !1,
                    videoList: [],
                    mouseEnter: function (e) {
                        var t = e.target || e.srcElement;
                        $(t).find(".video-props").addClass("hover"), $(t).find(".video-merge").addClass("hover")
                    },
                    mouseLeave: function (e) {
                        var t = e.target || e.srcElement;
                        $(t).find(".video-props").removeClass("hover"), $(t).find(".video-merge").removeClass("hover")
                    }
                });
                $.ajax({
                    url: "/live/getVideoList/" + e.ROOMID, type: "GET", dataType: "JSON", success: function (e) {
                        return 0 != e.code ? void consoleText.log(o.consoleText.error + "服务器返回数据错误: " + e.msg || "（服务器无消息返回）") : (t.videoList = e.data, void(t.show = !0))
                    }, error: function (e) {
                        consoleText.log(o.consoleText.error + "推荐视频获取失败: \n" + e.statusText)
                    }
                }), i(document.getElementById("recommend-videos"), t)
            })
        }
    }, {"../../../common/app-config/app-config": 1, "../../../common/functions/func-avalon-lazy-init/lazy-init": 9}],
    73: [function (e, t, n) {
        var o = e("../../../common/components/live-widget/live-popup/live-popup"), i = e("../../../common/components/live-widget/live-toast/live-toast"), a = e("../../../common/functions/func-random-emoji/random-emoji"), r = null;
        t.exports = function (e, t) {
            "use strict";
            function n(e) {
                function n() {
                    function n(e) {
                        "0" == e.code ? (c.remove(), l(e)) : i(c.confirmBtn, e.msg, !0)
                    }

                    function s(e) {
                        o({
                            title: "订单状态查询错误",
                            html: "<p>您的订单状态查询失败，请您刷新页面并到个人中心检查您的金额，如果充值失败，请联系客服，真的非常抱歉！> <<br/><br/>失败原因: " + e.statusText + "</p>",
                            width: "350px",
                            type: "alert",
                            button: {confirm: "真的很抱歉 > <"}
                        })
                    }

                    function l(e) {
                        o({
                            title: "购买完成惹！",
                            content: "您已经成功购买 " + e.data.orderGold + " 金瓜子，恭喜恭喜！" + a.happy(),
                            width: "300px",
                            button: {confirm: "完成完成！"},
                            type: "info"
                        }), t.$fire("all!updateCurrency", {gold: e.data.gold}), t.$fire("getBp")
                    }

                    r.remove();
                    var c = o({
                        title: "正在支付中……",
                        content: '请在支付完毕后点击下方的 "支付完成" 按钮喔！' + a.happy(),
                        width: "350px",
                        type: "info",
                        button: {confirm: "支付完成"},
                        onConfirm: function () {
                            $.ajax({
                                url: "/payCenter/orderStatus",
                                type: "GET",
                                data: {order: e.orderNo},
                                dataType: "JSON",
                                success: n,
                                error: s
                            })
                        }
                    })
                }

                var r = o({
                    title: "BP 不够惹",
                    content: "您的 B 币余额不足，要不要充一点？" + a.happy(),
                    button: {confirm: "葱！", cancel: "先不葱了~"},
                    width: "300px",
                    onConfirm: function () {
                        window.open(e.cashierURL), n()
                    },
                    onCancel: function () {
                        t.$fire("all!updateCurrency"), t.$fire("getBp")
                    }
                })
            }

            var s = e.target || e.srcElement, l = parseInt(t.data.charge.buyCount, 10);
            return 0 >= l || isNaN(l) ? void i(s, "请输入大于 0 的数字喔 " + a.helpless(), !0) : (function () {
                t.doms.charge.btnText = "正在兑换中.";
                var e = 1;
                r = setInterval(function () {
                    return e >= 6 ? (t.doms.charge.btnText = "正在兑换中", void(e = 0)) : (t.doms.charge.btnText += ".", void e++)
                }, 500)
            }(), void $.ajax({
                url: "/payCenter/quickPay",
                type: "GET",
                data: {bpNum: l},
                dataType: "JSON",
                success: function (e) {
                    if (clearInterval(r), t.doms.charge.btnText = "立刻购买", 0 == e.code); else if (-400 == e.code) {
                        var o = {orderNo: e.data.order, cashierURL: e.data.cashier_url};
                        n(o)
                    } else i(s, e.msg)
                },
                error: function (e) {
                    clearInterval(r), t.doms.charge.btnText = "立刻购买", i(s, "与服务器通信失败，请稍后再试 > <", "error")
                }
            }))
        }
    }, {
        "../../../common/components/live-widget/live-popup/live-popup": 7,
        "../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../common/functions/func-random-emoji/random-emoji": 14
    }],
    74: [function (e, t, n) {
        var o = e("../../../common/components/live-widget/live-toast/live-toast"), i = e("../../../common/components/live-widget/live-popup/live-popup"), a = e("../../../common/functions/func-random-emoji/random-emoji"), r = e("../../../common/functions/func-live-quick-login/live-quick-login");
        t.exports = {
            exchangeViaGold: function (e, t) {
                r();
                var n = e.target || e.srcElement, s = parseInt(t.data.exchange.count.gold, 10);
                return isNaN(s) || 1 > s ? void o(n, "请输入正确的数量哦 " + a.helpless(), !0) : void $.ajax({
                    url: "/gold/goldToSilver",
                    type: "GET",
                    data: {cgold: s},
                    dataType: "JSON",
                    success: function (e) {
                        if (0 == e.code)o(n, "已成功兑换 " + e.data.csilver + " 银瓜子！" + a.happy(), "success"), t.$fire("all!updateCurrency", {
                            gold: e.data.gold,
                            silver: e.data.silver
                        }); else if (-400 == e.code)var r = i({
                            title: "金瓜子不够惹~",
                            content: "您的金瓜子不够了，要不要充一点？" + a.helpless(),
                            button: {confirm: "葱！", cancel: "先不葱了~"},
                            width: "320px",
                            onConfirm: function () {
                                t.$fire("showExchange", "charge"), r.remove(), r = null
                            }
                        }); else o(n, e.msg || "兑换出现问题，还请稍后再试，一定会好的……" + a.sad(), "caution", !0)
                    },
                    error: function (e) {
                        var t = i({
                            title: "呜~~~……",
                            html: "<p>兑换出现问题，可能是网络不通畅，也可能是炸了 " + a.sad() + "，还请您稍后再试… 实在很抱歉 " + a.sad() + "<br>错误原因: " + e.statusText + "</p>",
                            type: "alert",
                            width: 300,
                            onConfirm: function () {
                                t.remove(), t = null
                            }
                        })
                    }
                })
            }, exchangeViaCoin: function (e, t) {
                r();
                var n = e.target || e.srcElement, s = parseInt(t.data.exchange.count.coin, 10);
                return isNaN(s) || 0 > s ? void o(n, "请输入正确的数量哦 " + a.helpless(), !0) : void $.ajax({
                    url: "/exchange/coin2silver",
                    type: "POST",
                    data: {coin: s},
                    dataType: "JSON",
                    success: function (e) {
                        return 0 != e.code ? void o(n, e.msg, "caution", !0) : (o(n, "成功兑换 " + e.data.silver + " 银瓜子！" + a.happy(), "success", !0), void t.$fire("all!updateCurrency"))
                    },
                    error: function (e) {
                        var t = i({
                            title: "呜~~~……",
                            html: "<p>兑换出现问题，可能是网络不通畅，也可能是炸了 " + a.sad() + "，还请您稍后再试… 实在很抱歉 " + a.sad() + "<br>错误原因: " + e.statusText + "</p>",
                            type: "alert",
                            width: 300,
                            onConfirm: function () {
                                t.remove(), t = null
                            }
                        })
                    }
                })
            }
        }
    }, {
        "../../../common/components/live-widget/live-popup/live-popup": 7,
        "../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../common/functions/func-live-quick-login/live-quick-login": 13,
        "../../../common/functions/func-random-emoji/random-emoji": 14
    }],
    75: [function (e, t, n) {
        var o = e("../../../common/functions/func-avalon-lazy-init/lazy-init"), i = e("./exchange"), a = e("./charge");
        t.exports = function () {
            "use strict";
            avalon.ready(function () {
                function e(e) {
                    n.doms[e].out = !0, setTimeout(function () {
                        n.doms[e].show = !1, n.doms[e].out = !1
                    }, 380)
                }

                function t(e) {
                    a(e, n)
                }

                var n = avalon.define({
                    $id: "seedExchangeCtrl",
                    doms: {
                        exchange: {
                            out: !1, show: !1, outTimeout: null, open: function () {
                                n.$fire("showExchange", "exchange"), n.doms.noSeed.close()
                            }, close: function () {
                                e("exchange")
                            }, panelNow: "gold", panelSwitch: function (e) {
                                n.doms.exchange.panelNow = e
                            }
                        }, charge: {
                            out: !1, show: !1, outTimeout: null, open: function () {
                                n.$fire("showExchange", "charge"), n.doms.noSeed.close()
                            }, close: function () {
                                e("charge")
                            }, btnText: "立刻购买"
                        }, noSeed: {
                            out: !1, show: !1, outTimeout: null, close: function () {
                                e("noSeed")
                            }
                        }
                    },
                    data: {
                        account: {gold: 0, silver: 0, biliCoin: 0},
                        exchange: {count: {gold: "", coin: ""}},
                        charge: {myBp: 0, buyCount: ""}
                    },
                    events: {
                        exchange: {
                            viaGold: function (e) {
                                i.exchangeViaGold(e, n)
                            }, viaCoin: function (e) {
                                i.exchangeViaCoin(e, n)
                            }
                        }, buyGold: t
                    }
                });
                n.$watch("showExchange", function (e) {
                    n.doms[e].show = !0, n.$fire("all!updateCurrency"), "charge" === e && n.$fire("getBp")
                }), n.$watch("noSeed", function () {
                    n.$fire("showExchange", "noSeed")
                }), n.$watch("getBp", function () {
                    $.ajax({
                        url: "/payCenter/getBp",
                        type: "GET",
                        cache: !1,
                        dataType: "JSON",
                        timeout: 5e3,
                        success: function (e) {
                            0 == e.code && (n.data.charge.myBp = e.data.bp.bp)
                        },
                        error: function (e) {
                        }
                    })
                }), n.$watch("fillCurrency", function (e) {
                    n.data.account.gold = e.gold, n.data.account.silver = e.silver, n.data.account.biliCoin = e.biliCoin
                }), o($("#seed-exchange")[0], n)
            })
        }
    }, {"../../../common/functions/func-avalon-lazy-init/lazy-init": 9, "./charge": 73, "./exchange": 74}],
    76: [function (e, t, n) {
        t.exports = function () {
            e("./javascripts/sign-up.js")()
        }
    }, {"./javascripts/sign-up.js": 77}],
    77: [function (e, t, n) {
        var o = e("../../../../common/functions/func-live-quick-login/live-quick-login");
        t.exports = function () {
            function e() {
                return document.cookie.indexOf("DedeUserID") < 0 ? !1 : (t.loggedIn = !0, void $.ajax({
                    url: "/sign/GetSignInfo",
                    type: "get",
                    dataType: "json",
                    success: function (e) {
                        0 == e.code && (t.signInData = e.data, e.data.status && $("#room-left-sidebar .small-wrap .sign").attr("data-label", "已签到"))
                    }
                }))
            }

            var t = avalon.define({
                $id: "signUpCtrl",
                signInShow: !1,
                signInData: {status: 0},
                loggedIn: !1,
                doSign: function (e) {
                    e.stopPropagation(), o(), t.signInData.status ? t.signInShow = !t.signInShow : $.ajax({
                        url: "/sign/doSign",
                        type: "get",
                        dataType: "json",
                        success: function (e) {
                            0 == e.code && (t.signInData = e.data, t.signInShow = !0, t.signInData.status = 1, $("#room-left-sidebar .small-wrap .sign").attr("data-label", "已签到"), setTimeout(function () {
                                t.signInShow = !1
                            }, 3e3))
                        }
                    })
                },
                myTask: function () {
                    o(), window.open("/i/myTask", "_blank")
                }
            });
            t.$watch("signInData.hadSignDays", function (e) {
                var t = 20 > e ? e / 20 * 100 : 100;
                $(".sign-in-panel .progress-bar-wrap .progress-data").width(t + "%")
            }), e(), $(function () {
                $(document).on("click", function () {
                    t.signInShow = !1
                })
            })
        }
    }, {"../../../../common/functions/func-live-quick-login/live-quick-login": 13}],
    78: [function (e, t, n) {
        var o = e("../../room-javascripts/live-room-funcs");
        t.exports = function (e, t) {
            t === !0 && $(".treasure-box-panel").remove();
            var n = avalon.define({$id: "treasureCtrl"}), i = o.CountDown;
            !function () {
                e.Popup = function (e) {
                    this.options = e, this.el = e.arrow ? $('<div class="treasure-box-panel live-popup-panel"><div class="tip-arrow"><div class="tip-arrow-outer"></div><div class="tip-arrow-inner"></div></div><div class="tip-content">' + e.content + "</div></div>").appendTo(".room-panels") : $('<div class="treasure-box-panel live-popup-panel"><div class="tip-content">' + e.content + "</div></div>").appendTo(".room-panels"), this.el.css({
                        height: e.height,
                        width: e.width
                    });
                    var t = $(".tip-content, .center-tip-content", this.el);
                    if (t.width(e.width || 100), e.closable) {
                        var n = $('<div class="close-btn right-top"></div>'), o = this;
                        t.prepend(n), n.on("click", function () {
                            o.hide()
                        })
                    }
                }, e.Popup.prototype.show = function (e) {
                    this.el.removeClass("out");
                    var t = e.offset(), n = this.options.arrow || "down" == this.options.direction ? t.top + e.height() : t.top - this.options.height - 10, o = this.options.arrow || "down" == this.options.direction ? t.left : t.left + 50;
                    this.el.stop(!1, !0).css({top: n, left: o}).fadeIn().end()
                }, e.Popup.prototype.hide = function () {
                    var e = this.el;
                    e.addClass("out"), setTimeout(function () {
                        e.removeClass("out"), e.hide()
                    }, 380)
                }
            }(), e.coutdownBox = null, e.createTreasure = function () {
                var t = $(".treasure"), n = $(".close-treasure-box"), o = $(".treasure-box").removeClass("animate7").addClass("animate1"), i = $(".treasure-count-down"), a = $.cookie("F_S_T_" + e.UID);
                0 == a ? (t.hover(function () {
                    n.show()
                }, function () {
                    n.hide()
                }), n.off("click").click(function () {
                    o.hide(), o.prev().hide(), n.hide(), t.off("mouseenter").off("mouseleave"), i.css({
                        cursor: "pointer",
                        left: 0
                    }).click(function () {
                        o.show(), o.prev().show(), n.show(), t.hover(function () {
                            n.show()
                        }, function () {
                            n.hide()
                        }), i.css({cursor: "default", left: ""}).off("click")
                    })
                }), coutdownBox || (coutdownBox = new Popup({
                    content: '<i class="treasure-img close"></i><div style="display: inline-block;width: 190px;padding-left: 10px;"><h3 class="panel-title">宝箱倒计时 ' + randomEmoji.happy() + '</h3><p>距离本次领取剩余 <span id="pop-count-down"></span> 本次宝箱收益 <span id="gz-num"></span> 银瓜子.</p><button class="acknowledge-btn live-btn default">我知道了</button></div>',
                    width: 290,
                    height: 120,
                    closable: !0,
                    arrow: !1
                })), o.off("click").click(function () {
                    LOGINED ? coutdownBox.show(o) : liveQuickLogin()
                }), $("button", coutdownBox.el).off("click").off("click").on("click", function () {
                    coutdownBox.hide()
                })) : (t.addClass("out"), setTimeout(function () {
                    t.hide().removeClass("out")
                }, 450))
            }, e.LAST_COUNT_DOWN = null, e.LOGINED = !1, e.countdown = function () {
                null != LAST_COUNT_DOWN && LAST_COUNT_DOWN.clearCountdown(), $.ajax({
                    url: "/FreeSilver/getCurrentTask?r=" + Math.random(),
                    type: "get",
                    dataType: "json",
                    success: function (e) {
                        if (0 == e.code) {
                            LOGINED = !0;
                            var t = e.data.silver;
                            $("#gz-num").text(t);
                            var n = new Date;
                            n.setMinutes(n.getMinutes() + e.data.minute), LAST_COUNT_DOWN = new i({
                                endTime: n,
                                element: $(".treasure-count-down, #pop-count-down"),
                                callback: function () {
                                    $.ajax({
                                        url: "/freeSilver/getSurplus?r=" + Math.random(),
                                        type: "get",
                                        dataType: "json",
                                        success: function (e) {
                                            if (0 !== e.code)return !1;
                                            var t = e.data.surplus;
                                            1 > t ? playTreasureAnimate(e.data.silver) : resetCountDown(t)
                                        }
                                    })
                                }
                            })
                        }
                    }
                })
            }, e.resetCountDown = function (e) {
                null != LAST_COUNT_DOWN && LAST_COUNT_DOWN.clearCountdown();
                var t = new Date;
                t.setMinutes(t.getMinutes() + e), LAST_COUNT_DOWN = new i({
                    endTime: t,
                    element: $(".treasure-count-down, #pop-count-down"),
                    callback: function () {
                        $.ajax({
                            url: "/freeSilver/getSurplus?r=" + Math.random(),
                            type: "get",
                            dataType: "json",
                            success: function (e) {
                                if (0 !== e.code)return !1;
                                var t = e.data.surplus;
                                1 > t ? playTreasureAnimate(e.data.silver) : resetCountDown(t)
                            }
                        })
                    }
                })
            }, e.verifyBox = null, e.CLICK_FLAG = 0, e.playTreasureAnimate = function (t) {
                function n() {
                    var e = o + 1;
                    a.addClass("animate" + e).removeClass("animate" + o), o = e, 7 === o && clearInterval(r)
                }

                var o = 1, i = t, a = $(".treasure-box").show();
                a.prev().show(), $(".treasure-count-down").css({
                    cursor: "default",
                    left: ""
                }), $(".treasure").off("mouseenter").off("mouseleave");
                var r = setInterval(n, 100);
                e.verifyBox || (e.verifyBox = new Popup({
                    content: '<i class="treasure-img open"></i><div style="display: inline-block;width: 180px;padding-left: 10px;"><div id="silver-notice-div"></div><input id="freeSilverCaptchaInput"type="text" length="4" class="live-input material" style="width: 65px;" placeholder="小学算数"><img id="captchaImg" src="" alt="算算术~" style="width: 60px; height: 30px;vertical-align: top"><a id="changeCaptcha" class="bili-link" href="javascript: void(0);">刷新</a><button class="live-btn default" id="getFreeSilverAward">领取</button></div>',
                    width: 290,
                    height: 135,
                    closable: !0,
                    arrow: !1
                })), $("#silver-notice-div").html("请输入计算结果领取 " + i + " 银瓜子" + randomEmoji.helpless()), 0 == CLICK_FLAG && (CLICK_FLAG = 1, $("#freeSilverCaptchaInput").off("keyup").on("keyup", function (e) {
                    13 === e.keyCode && getFreeSilver(e)
                }), $("button", verifyBox.el).on("click", getFreeSilver)), a.off("click").click(function () {
                    verifyBox.show(a), refreshCaptcha()
                }), $("#captchaImg, #changeCaptcha").on("click", refreshCaptcha)
            }, e.getFreeSilver = function (e) {
                $("#getFreeSilverAward").text("领取中..."), $.ajax({
                    url: "/freeSilver/getAward?r=" + Math.random(),
                    type: "get",
                    data: {captcha: $("input", verifyBox.el).val()},
                    dataType: "json",
                    success: function (t) {
                        if ($("#getFreeSilverAward").text("领取"), 0 == t.code) {
                            liveToast($(e.currentTarget)[0], "成功领取 " + t.data.awardSilver + " 银瓜子！" + randomEmoji.happy(), "success");
                            var o = parseInt(t.data.silver, 10);
                            n.$fire("all!updateCurrency", {silver: o}), createTreasure(), $("#freeSilverCaptchaInput").val(""), verifyBox.hide(), setTimeout(function () {
                                countdown()
                            }, 3e3)
                        } else liveToast($(e.currentTarget)[0], t.msg), $("#captchaImg").click()
                    },
                    error: function () {
                        liveToast($(e.currentTarget)[0], "系统错误，请稍后再试 " + randomEmoji.sad(), "error"), refreshCaptcha(), $("#getFreeSilverAward").text("领取")
                    },
                    complete: function () {
                        null != LAST_COUNT_DOWN && (LAST_COUNT_DOWN.clearCountdown(), LAST_COUNT_DOWN = null)
                    }
                })
            }, e.FREE_SILVER_HEART = 0, e.freeSilverHeart = function () {
                return 1 == $.cookie("F_S_T_" + e.UID) ? !1 : (setTimeout(function () {
                    countdown()
                }, 3e3), void(FREE_SILVER_HEART = setInterval(function () {
                    $.ajax({
                        url: "/freeSilver/heart?r=" + Math.random(),
                        type: "get",
                        dataType: "json",
                        success: function (t) {
                            return 1 == $.cookie("F_S_T_" + e.UID) ? (clearInterval(FREE_SILVER_HEART), !0) : void 0
                        }
                    })
                }, 6e4)))
            }, e.refreshCaptcha = function () {
                $("#captchaImg").attr("src", "/FreeSilver/getCaptcha?t=" + Math.random())
            }, $(function () {
                freeSilverHeart(), createTreasure()
            })
        }
    }, {"../../room-javascripts/live-room-funcs": 83}],
    79: [function (e, t, n) {
        t.exports = function () {
            return e("./javascripts/wish.js")()
        }
    }, {"./javascripts/wish.js": 80}],
    80: [function (e, t, n) {
        var o = e("./../../../../common/functions/func-live-quick-login/live-quick-login.js"), i = e("./../../../../common/components/live-widget/live-toast/live-toast.js");
        e("./../../../../common/functions/func-setnum/set-num.js");
        t.exports = function () {
            function e() {
                this.$el = {}, this.doms = {}, this.datas = {}, this.init()
            }

            function t(e) {
                avalon.vmodels.giftCtrl.$fire("all!updateCurrency", {gold: e.gold, silver: e.silver})
            }

            function n(e) {
                var e = e || function () {
                    };
                $.ajax({
                    url: "/lottery/index", cache: !1, success: function (t) {
                        var n = $.parseJSON(t);
                        0 === n.code && e(n.data)
                    }
                })
            }

            e.prototype = {
                template: function () {
                    return '<div class="wish-dialog" id="wis-dialog"><div class="dialog-main"><div class="wish-top"><div class="wish-top-icon"></div><span class="wish-ok-text"><a href="/lottery/lotteryResult" target="_blank" class="ok-target">愿望达成</a></span></div><div class="wish-main"><p class="wish-des"> 在绘马上画上自己的心愿（人家才不知道什么痛绘马呢），说不定就能梦想成真。每晚21点会从许愿的用户中抽取中奖用户，购买越多则中奖概率和最终奖励也会相应增加！</p><div class="wish-prize"><dl class="wish-prize-list"><dt>中奖奖励</dt><dd>一等奖 1份 <em class="prize-content"><span class="first-prize">' + this.formatNum(this.datas.first) + '</span>银瓜子</em></dd><dd>二等奖 10份 <em class="prize-content">每份<span class="second-prize">' + this.formatNum(this.datas.second) + '</span>银瓜子</em></dd><dd>三等奖 <em class="third-prize-num">' + this.datas.third + '</em>份 <em class="prize-content">每份B坷垃1个</em></dd></dl></div><div class="wish-set"><div class="wish-num-box"><p>绘马总数：<em class="wish-num" id="total-wish-num">' + this.datas.totalnum + '</em></p><p>我挂上的绘马：<em class="wish-num" id="my-wish-num">' + this.datas.num + '</em></p></div><div class="wish-buy"><div class="wish-buy-content">购买数量：<input type="text" class="ipt-num" value="1"><span class="wish-buy-type"><ul><li class="wish-buy-item"><input checked="checked" type="radio" name="buy-type" data-type="silver" id="type-silver"><label for="type-silver">银瓜子</label></li><li class="wish-buy-item"><input type="radio" name="buy-type" data-type="gold" id="type-gold"><label for="type-gold">金瓜子</label></li></ul></span></div><div class="wish-buy-tip"><span class="buy-tip-icon"></span>每个绘马需要2000银/金瓜子</div></div><div class="wish-set-btn">挂绘马</div></div></div></div><div class="close"></div></div>'
                },
                $dialog: "",
                $mask: "",
                csses: {
                    iptNum: ".ipt-num",
                    btnBuy: ".wish-set-btn",
                    totalNum: "#total-wish-num",
                    myNum: "#my-wish-num",
                    firstNum: ".first-prize",
                    secondNum: ".second-prize",
                    thirdPrizeNum: ".third-prize-num"
                },
                init: function () {
                    this.$el = $("<div style='opacity:0'></div>").appendTo(".wish-panel"), this.bindEvent()
                },
                render: function () {
                    this.$el.html(), this.$dialog = $(this.template()), this.$mask = $("<div class='mask'></div>"), this.$el.append(this.$dialog).append(this.$mask), this.setDoms()
                },
                setDoms: function () {
                    var e = this.$el, t = this.csses;
                    this.doms = {
                        $iptNum: $(t.iptNum, e),
                        $btnBuy: $(t.btnBuy, e),
                        $totalNum: $(t.totalNum, e),
                        $myNum: $(t.myNum, e),
                        $firstNum: $(t.firstNum, e),
                        $secondNum: $(t.secondNum, e),
                        $thirdPrizeNum: $(t.thirdPrizeNum, e)
                    }
                },
                show: function (e) {
                    this.datas = e, this.render(), this.setStyle(), this.setPosition(), this.$el.animate({opacity: 1}, 200)
                },
                hide: function () {
                    var e = this;
                    this.$el.animate({opacity: 0}, 200, function () {
                        e.$el.html("").css("opacity", 1)
                    })
                },
                setPosition: function () {
                    var e, t, n, o = document.documentElement.clientWidth, i = document.documentElement.clientHeight, a = this.$dialog.width(), r = this.$dialog.height();
                    e = i / 2 - r / 2, t = o / 2 - a / 2, 0 > e && (e = 2 * e), n = {
                        width: 750,
                        position: "fixed",
                        zIndex: 1100,
                        left: t,
                        top: e
                    }, this.$dialog.css(n)
                },
                setStyle: function () {
                    var e = document.documentElement.clientHeight;
                    750 > e ? this.$dialog.addClass("min-dialog") : this.$dialog.removeClass("min-dialog")
                },
                buy: function () {
                    var e = this, t = $("[name=buy-type]", this.$el).filter("[checked]"), n = t.data("type"), o = this.doms.$iptNum, a = o.val();
                    this.checkNum() ? this.ajaxBuy({
                        coinType: n,
                        num: a
                    }) : (o.focus().addClass("error"), i(e.doms.$btnBuy, "请输入正确的数字哦~ (●'◡'●)ﾉ♥", "error"))
                },
                ajaxBuy: function (e) {
                    var t = this;
                    $.ajax({
                        type: "post",
                        url: "/lottery/buy",
                        data: {coinType: e.coinType, num: e.num, token: $.cookie("LIVE_LOGIN_DATA") || ""},
                        success: function (e) {
                            var n = $.parseJSON(e);
                            0 === n.code ? t.buySuccess(n.data) : t.buyError(n.msg)
                        }
                    })
                },
                buySuccess: function (e) {
                    var o = this;
                    i(this.doms.$btnBuy[0], "购买成功", "success", !1), t(e), n(function (e) {
                        var t = o.doms;
                        t.$totalNum.text(e.totalnum), t.$myNum.text(e.num), t.$firstNum.text(o.formatNum(e.first)), t.$secondNum.text(o.formatNum(e.second)), t.$thirdPrizeNum.text(e.third)
                    })
                },
                buyError: function (e) {
                    i(this.doms.$btnBuy[0], e, "error", !1)
                },
                checkNum: function () {
                    var e = this.doms.$iptNum, t = e.val(), n = !0;
                    return (!t || /[^0-9]/.test(t)) && (n = !1), n ? e.removeClass("error") : e.addClass("error"), n
                },
                formatNum: function (e) {
                    var t, n = "";
                    return e >= 1e4 ? (t = e / 1e4, n = t.toString().replace(/(\d+)(\.)?(\d+)/, function (e, t, n, o) {
                        var i;
                        return n ? (i = o.toString().substring(0, 1), t + (0 == i ? "" : "." + i)) : e
                    }), n += "万") : n = e, n
                },
                bindEvent: function () {
                    var e = this, t = (this.doms, this.$el), n = 0;
                    t.on("keyup", ".ipt-num", function () {
                        e.checkNum()
                    }), t.on("click", ".wish-set-btn", function () {
                        e.buy()
                    }), t.on("click", ".close", function () {
                        e.hide()
                    }), t.on("click", ".mask", function () {
                        e.hide()
                    }), $(window).resize(function () {
                        n && clearTimeout(n), n = setTimeout(function () {
                            e.$el.html() && (e.setStyle(), e.setPosition())
                        }, 50)
                    })
                }
            };
            var a = new e;
            return {
                show: function () {
                    o(), a.$el.html() || n(function (e) {
                        a.show(e)
                    })
                }
            }
        }
    }, {
        "./../../../../common/components/live-widget/live-toast/live-toast.js": 8,
        "./../../../../common/functions/func-live-quick-login/live-quick-login.js": 13,
        "./../../../../common/functions/func-setnum/set-num.js": 16
    }],
    81: [function (e, t, n) {
        e("./../common/app-config/app-config").avalonConfig(), e("./../common/app-config/app-config").globalConfig(window), e("./../common/app-config/avalon-filters")(), e("./../common/global-modules/intro")(window), e("../common/components/live-top-navigator/intro-scripts")(), e("./../common/live-service/live-service-ctrl")(), e("./room-javascripts/live-room-init")(window), e("./components/gift-section/intro-javascripts.js")(), e("./components/live-room-sidebar-left/intro.js")(), e("./components/my-attention/intro.js")(), e("./components/sign-up/intro.js")(), e("./room-javascripts/live-room-funcs").topNavOnScroll(window), e("./components/seed-exchange/seed-exchange")(), e("./../common/components/live-feedback/live-feedback")()
    }, {
        "../common/components/live-top-navigator/intro-scripts": 4,
        "./../common/app-config/app-config": 1,
        "./../common/app-config/avalon-filters": 2,
        "./../common/components/live-feedback/live-feedback": 3,
        "./../common/global-modules/intro": 32,
        "./../common/live-service/live-service-ctrl": 35,
        "./components/gift-section/intro-javascripts.js": 57,
        "./components/live-room-sidebar-left/intro.js": 61,
        "./components/my-attention/intro.js": 63,
        "./components/seed-exchange/seed-exchange": 75,
        "./components/sign-up/intro.js": 76,
        "./room-javascripts/live-room-funcs": 83,
        "./room-javascripts/live-room-init": 84
    }],
    82: [function (e, t, n) {
        var o = e("../../common/functions/func-explorer-detective/explorer-detective")();
        t.exports = function (e) {
            var t = avalon.define({$id: "ctrlByFlash"});
            e.getDanmuColor = function () {
                return e.colorfulDanMu.currentColor
            }, e.PlayerSetOnline = function (e) {
                e = parseInt(e, 10) < 0 ? 1 : e, avalon.ready(function () {
                    t.$fire("all!setViewerCount", e)
                })
            }, function () {
                function t() {
                    var e = n.now.shift();
                    e && e.cmd && protocol[e.cmd] && setTimeout(function () {
                        protocol[e.cmd](e)
                    }, 1), setTimeout(t, n.aveSpeed)
                }

                var n = null, i = null, a = "function" == typeof Worker && o.indexOf("IE") < 0 && o.indexOf("Firefox") < 0;
                if (a) {
                    var r = ["var msgArr={now:[],temp:[],aveSpeed:80};!function e(){msgArr.now=msgArr.now.concat(msgArr.temp.splice(0)),msgArr.aveSpeed=isFinite(Math.ceil(1e3/msgArr.now.length))?Math.ceil(1e3/msgArr.now.length):1e3,setTimeout(e,1e3)}(),onmessage=function(e){msgArr.temp.push(e.data)},function r(){postMessage(msgArr.now.shift()),setTimeout(r,msgArr.aveSpeed)}();"], s = new Blob(r, {type: "text/javascript"});
                    i = new Worker(e.URL.createObjectURL(s)), i.onmessage = function (e) {
                        var t = e.data;
                        t && t.cmd && protocol[t.cmd] && setTimeout(function () {
                            protocol[t.cmd](t)
                        }, 1)
                    }
                } else n = {now: [], temp: [], aveSpeed: 80}, function l() {
                    n.now = n.now.concat(n.temp.splice(0)), n.aveSpeed = isFinite(Math.ceil(1e3 / n.now.length)) ? Math.ceil(1e3 / n.now.length) : 1e3, setTimeout(l, 1e3)
                }(), t();
                e.server_callback = function (t) {
                    try {
                        t = $.parseJSON(t), "DANMU_MSG" === t.cmd || "SEND_GIFT" === t.cmd ? a ? i.postMessage(t) : n.temp.push(t) : e.protocol[t.cmd](t)
                    } catch (o) {
                    }
                }
            }(), e.addMessage = function (e) {
                t.$fire("all!addDanmu", e)
            }, e.showBkela = function () {
                $(".gift-item.gift-3").click()
            }, e.flashAttendRoom = function () {
                $(".attention-btn-ctrl").find(".btn-transition").click()
            }, e.player_fullwin = function (e) {
                e ? $("body").addClass("player-full-win") : $("body").removeClass("player-full-win")
            }
        }
    }, {"../../common/functions/func-explorer-detective/explorer-detective": 10}],
    83: [function (e, t, n) {
        function o(e) {
            if (!(this instanceof o))return new o(e);
            var t = new Date, n = e.endTime;
            n && n instanceof Date && !(n.getTime() <= t.getTime()) || consoleText.log(s.consoleText.error + "禁言时间设置错误.");
            var i = setInterval(function () {
                var o = n.getTime() - t.getTime(), a = Math.floor(o / 60 / 1e3), r = o - 60 * a * 1e3, s = Math.floor(r / 1e3);
                a = 10 > a ? "0" + a : a, s = 10 > s ? "0" + s : s;
                var c = a + ":" + s;
                return "jQuery Object" === l(e.element) ? e.element.html(c) : e.element.innerHTML = c, "00" == a && "00" == s ? (clearInterval(i), void(e.callback && e.callback())) : void n.setSeconds(n.getSeconds() - 1)
            }, 1e3);
            this.countDown = i
        }

        function i(e) {
            $(".bk-img").addClass("fade-out").removeClass("fade-in"), clearTimeout(p), p = setTimeout(function () {
                $(".bk-img").addClass("fade-in").removeClass("fade-out").css({"background-image": "url(" + e + ")"})
            }, 380)
        }

        function a() {
            1 == window.ISANCHOR && $.ajax({
                url: "/liveact/cutoffmsg",
                type: "POST",
                data: {roomid: window.ROOMID},
                dataType: "JSON",
                success: function (e) {
                    if (0 == e.code && e.msg)var t = window.livePopup({
                        title: "友情提示 > <",
                        html: '<p>您的直播间因<span style="color: red">"' + e.msg + '"</span>，已经被管理员 <span style="color: red">切断</span>，请更改直播内容。</p><p>如有疑问请通过客服邮箱 <span style="color: #61c7eb">livehelp@bilibili.com</span> 或 <span style="color: #61c7eb">客服 QQ </span>进行反馈。</p><div><input type="checkbox" id="cut-off-acknowledge"><label for="cut-off-acknowledge" class="v-top dp-inline-block" style="margin-top: 7px">我知道了</label></div>',
                        type: "info",
                        onConfirm: function () {
                            $("#cut-off-acknowledge").is(":checked") && $.post("/liveact/del_cutoff_msg", {roomid: window.ROOMID}, null, "JSON"), t.remove(), t = null
                        }
                    })
                }
            })
        }

        function r(e) {
            $(function () {
                var t = null;
                $(e).scroll(function (e) {
                    var n = e.currentTarget.scrollY || e.currentTarget.pageYOffset, o = n - t > 0 ? "scrollDown" : "scrollUp", i = $(".live-top-nav-ctnr");
                    switch (o) {
                        case"scrollDown":
                            i.addClass("fixed-hide"), t = n - 1;
                            break;
                        case"scrollUp":
                            i.removeClass("fixed-hide"), t = n + 1
                    }
                })
            })
        }

        var s = e("../../common/app-config/app-config"), l = e("../../common/functions/func-type-adjust/type-adjust");
        o.prototype.clearCountdown = function () {
            clearInterval(this.countDown)
        };
        var c = null, u = $(".room-silent-merge"), d = {
            on: function (e, t) {
                c && c.clearCountdown(), c = o({
                    endTime: t, element: u.find(".count-down"), callback: function () {
                        u.fadeOut(200)
                    }
                }), u.show().find(".hint-text").text(e)
            }, off: function () {
                c.clearCountdown(), u.fadeOut(200)
            }
        }, f = function (e) {
            $.ajax({
                url: "/ajax/msg",
                type: "POST",
                data: {roomid: window.ROOMID},
                dataType: "JSON",
                timeout: 5e3,
                success: function (t) {
                    if (0 == t.code) {
                        for (var n = 0, o = t.data.room.length; o > n; n++)if ("Object" === l(t.data.room[n]) && t.data.room[n]) {
                            var i = t.data.room[n], a = {info: []};
                            a.info[0] = [], a.info[0][5] = null, a.info[1] = i.text, a.info[2] = [], a.info[2][0] = i.uid, a.info[2][1] = i.nickname, a.info[2][2] = i.isadmin, a.info[2][3] = i.vip, a.info[2][4] = i.svip, a.info[3] = i.medal, a.info[4] = i.user_level, a.info[5] = i.title, e.$fire("all!addDanmu", a), i = a = null
                        }
                        1 == VIP && 1 == VIP_TIPS && e.$fire("all!addSelfWelcomeMsg")
                    }
                },
                error: function (e) {
                }
            })
        }, p = null;
        t.exports = {
            changeRoomBK: i,
            CountDown: o,
            roomSilent: d,
            getHistoryDanmu: f,
            loadingCutOffMsg: a,
            topNavOnScroll: r
        }
    }, {"../../common/app-config/app-config": 1, "../../common/functions/func-type-adjust/type-adjust": 18}],
    84: [function (e, t, n) {
        function o(t) {
            if (0 != t.code)throw new Error(r.consoleText.error + "getInfo 接口请求错误: " + t.msg);
            e("./room-init-funcs/func-set-global-variables")(window, t), e("./live-room-protocol")(window), e("../components/header-section/header-section.js")(t, window), e("../components/chat-area/intro-javascripts")(t), function () {
                1 != ISADMIN && -1 != BLOCK_TYPE && window.protocol.ROOM_SILENT_ON({
                    countdown: t.data.BLOCK_TIME,
                    is_newbie: window.IS_NEWBIE
                })
            }(), function () {
                $.cookie("DedeUserID") && setInterval(function () {
                    $.ajax({
                        url: "/User/userOnlineHeart", type: "post", dataType: "json", success: function (e) {
                        }, error: function (e) {
                            consoleText.log(r.consoleText.error + "userOnlineHeart 请求发送失败：" + e.statusText)
                        }
                    })
                }, 3e5)
            }(), e("../components/treasure-box/treasure-box")(window), e("../components/quiz-system/intro-scripts")(), e("../components/recommend-videos/recommend-videos")(window), 1 === parseInt(ISANCHOR, 10) && e("../components/admin-functions/intro-scripts")(), e("../components/admin-room-edit-panel/room-edit-panel")(t.data), e("./room-init-funcs/func-room-data-deferred")(t)
        }

        function i(e) {
            throw new Error(r.consoleText.error + "getInfo 接口访问失败, 房间无法初始化.")
        }

        function a(e) {
        }

        var r = e("../../common/app-config/app-config");
        t.exports = function (t, n) {
            "use strict";
            a(t), e("./live-room-flash-func")(t), $.ajax({
                url: "/live/getInfo",
                type: "GET",
                data: {roomid: t.ROOMID},
                dataType: "JSON",
                success: o,
                error: i
            })
        }
    }, {
        "../../common/app-config/app-config": 1,
        "../components/admin-functions/intro-scripts": 39,
        "../components/admin-room-edit-panel/room-edit-panel": 46,
        "../components/chat-area/intro-javascripts": 56,
        "../components/header-section/header-section.js": 60,
        "../components/quiz-system/intro-scripts": 65,
        "../components/recommend-videos/recommend-videos": 72,
        "../components/treasure-box/treasure-box": 78,
        "./live-room-flash-func": 82,
        "./live-room-protocol": 85,
        "./room-init-funcs/func-room-data-deferred": 86,
        "./room-init-funcs/func-set-global-variables": 88
    }],
    85: [function (e, t, n) {
        function o(e) {
        }

        var i = e("../../common/app-config/app-config"), a = e("../../common/components/live-widget/live-popup/live-popup"), r = e("../../common/functions/func-random-emoji/random-emoji"), s = e("./live-room-funcs");
        t.exports = function (t, n) {
            "use strict";
            var l = $("#chat-msg-list");
            if (t.protocol)throw new Error(i.consoleText.error + "window.protocol 在初始化之前已被污染, 请检查代码结构.");
            t.protocol = {};
            var c = avalon.define({$id: "flashProtoCtrl"});
            t.protocol.DANMU_MSG = function (e) {
                t.liveRoomFuncs.addDanmu(e)
            }, t.protocol.SEND_GIFT = function (e) {
                t.liveRoomFuncs.addGift(e), o(e)
            }, t.protocol.SEND_TOP = function (e) {
                c.$fire("all!updateGiftTop", e.data.top_list)
            }, t.protocol.CHANGE_ROOM_INFO = function (t) {
                e("./live-room-funcs").changeRoomBK(t.background)
            }, t.protocol.WELCOME = function (e) {
                c.$fire("all!addWelcomeMsg", e)
            }, t.protocol.WIN_ACTIVITY = function (e) {
                activityDraw.win(e)
            }, t.protocol.SYS_MSG = function (e) {
                c.$fire("all!addSysMsg", e)
            }, t.protocol.LIVE = function (e) {
                c.$fire("all!liveStatusButton", "on")
            }, t.protocol.PREPARING = function (e) {
                c.$fire("all!liveStatusButton", "off")
            }, t.protocol.END = function (e) {
            }, t.protocol.CLOSE = function (e) {
            }, t.protocol.BLOCK = function (e) {
            }, t.protocol.ROOM_SILENT_ON = function (e) {
                var t = 1 == e.is_newbie ? "播主对注册用户开启了注册用户禁言" : "播主对所有用户开启了全局禁言";
                if (l.append('<div><p class="system-msg" style="color: #f25d8e">[系统]：' + t + "</p></div>"), 1 != ISADMIN && (1 != e.is_newbie || 1 == e.is_newbie && 1 == IS_NEWBIE && 1 != VIP)) {
                    var n = new Date;
                    n.setSeconds(n.getSeconds() + e.countdown), s.roomSilent.on(t, n)
                }
            }, t.protocol.ROOM_SILENT_OFF = function (e) {
                l.append('<div><div class="system-msg" style="color: #4fc1e9">[系统]：播主取消了房间全局禁言</div></div>'), s.roomSilent.off()
            }, t.protocol.ROOM_BLOCK_MSG = function (e) {
                l.append('<div><div class="system-msg">用户 <em style="color: #aaa">' + e.uname + "</em> 已被管理员禁言</div></div>")
            }, t.protocol.ROOM_LOCK = function (e) {
                a(UID == MASTERID ? {
                    title: "系统通知",
                    content: '您的房间已被<span style="color: #FF0000">锁定</span>。如有疑问请通过客服邮箱或客服 QQ 进行反馈。',
                    type: "info",
                    width: 350,
                    onConfirm: function () {
                        location.href = "/"
                    }
                } : {
                    title: "系统通知", content: "当前直播间被直播管理员关闭。", type: "info", width: 300, onConfirm: function () {
                        location.href = "/"
                    }
                })
            }, t.protocol.ROOM_KICKOUT = function (e) {
                c.$fire("all!addKickoutMsg", e)
            }, t.protocol.ROOM_BLOCK_INTO = function (e) {
                parseInt(e.uid, 10) === UID && a({
                    title: "你被踢出房间 " + r.sad(),
                    content: "很不幸的是您被管理员踢出了房间…… 是不是做了什么不礼貌的事情呢？摸摸~ " + r.helpless(),
                    type: "alert",
                    button: {confirm: "呜~~~~"},
                    onConfirm: function () {
                        location.href = "/"
                    }
                }), c.$fire("all!addKickoutMsg", e)
            }, t.protocol.ROOM_AUDIT = function (e) {
            }, t.protocol.CUT_OFF = function (t) {
                if (UID == MASTERID)c.$fire("all!liveCutOff"), e("./live-room-funcs").loadingCutOffMsg(); else var n = a({
                    title: "系统通知",
                    content: "当前直播间被直播管理员切断直播。",
                    type: "info",
                    width: 300,
                    onConfirm: function () {
                        n.remove(), n = null
                    }
                })
            }, t.protocol.ROOM_ADMINS = function (e) {
            }, t.protocol.ROOM_SHIELD = function (e) {
            }, t.protocol.GAODA = function (e) {
                !function () {
                    var t = $('<div class="ka-draw-box"><div class="ka-close"></div><div class="ka-title"></div><div class="ka-content"><p></p></div><div class="ka-btn">确认</div></div>'), n = $(".ka-draw-box");
                    n.length >= 1 && (n.removeAttr("style"), $(".ka-content").html("<p></p>"), $(".ka-draw-box").remove()), $("body").on("click", ".ka-close, .ka-btn", function () {
                        t.remove()
                    });
                    var o = e.data.rcode;
                    $.ajax({
                        url: "gaoda/getReward",
                        type: "GET",
                        data: {room_id: e.roomid, rcode: o},
                        dataType: "JSON",
                        success: function (n) {
                            if (0 == n.code) {
                                $("body").append(t);
                                var i = {
                                    2: "B坷垃1个",
                                    3: "辣条66个",
                                    4: "2016银瓜子",
                                    5: "200银瓜子",
                                    0: "这次没有中奖，记得下次要中奖哟~"
                                }, a = null;
                                1 == n.data.status ? 1 == n.data.rank ? ($(".ka-btn").removeClass("close-popup").addClass("ka-draw-complete"), 75 == o ? (a = "高达MG模型1个", $(".data-status span").addClass("gaoda-top2")) : 100 == o && (a = "高达PG模型1个", n.data.rank = 7, $(".data-status span").addClass("gaoda-top1"))) : (a = i[n.data.rank], $(".ka-btn").addClass("close-popup")) : a = "这次没有中奖，记得下次要中奖哟~", $(".ka-content").html("<p>本次大奖得主: <b style='font-size: 16px'>" + e.data.uname + "</b></p><p class='mar-top24'>本次抽奖你共获得：</p><div class='gao-da-gift'><span class='gift-" + n.data.rank + "'></span><span>" + a + "</span></div>")
                            }
                        }
                    })
                }(t)
            }, t.protocol.GAODA_START = function (e) {
                var n = e.data.rcode + "%";
                !function () {
                    function t(e) {
                        $.ajax({
                            url: "gaoda/index",
                            type: "GET",
                            data: {room_id: e, complete: n, timestamp: Date.now()},
                            dataType: "JSON",
                            success: function (e) {
                                7 == e.code && ($("#chat-ctrl-panel").append(i), $(".data-times span").text(e.data.deadline), o = setInterval(function () {
                                    var e = $(".data-times span").text();
                                    e > 0 ? (e--, $(".data-times span").text(e)) : i.remove()
                                }, 1e3))
                            }
                        })
                    }

                    var o, i = $('<div class="gao-da-tips"><div class="ka-close-pic"></div><div class="ka-tips-1"></div><div class="data-times">剩余时间：<span></span>秒</div><div class="ka-tips-2"></div></div>');
                    $("body").on("click", ".gao-da-tips .ka-close-pic", function () {
                        clearInterval(o), i.remove()
                    }), t(e.roomid)
                }(t)
            }
        }
    }, {
        "../../common/app-config/app-config": 1,
        "../../common/components/live-widget/live-popup/live-popup": 7,
        "../../common/functions/func-random-emoji/random-emoji": 14,
        "./live-room-funcs": 83
    }],
    86: [function (e, t, n) {
        var o = e("../../../common/functions/func-avalon-lazy-init/lazy-init"), i = e("../live-room-funcs");
        t.exports = function (t) {
            avalon.ready(function () {
                var n = avalon.define({$id: "emptyNode"});
                o($("#empty-node")[0], n, function () {
                    setTimeout(function () {
                        n.$fire("all!updateCurrency", {
                            gold: parseInt(t.data.GOLD, 10),
                            silver: parseInt(t.data.SILVER, 10)
                        })
                    }, 1), i.getHistoryDanmu(n), e("./func-set-data-activity")(t, n), e("../live-room-funcs").loadingCutOffMsg()
                })
            })
        }
    }, {
        "../../../common/functions/func-avalon-lazy-init/lazy-init": 9,
        "../live-room-funcs": 83,
        "./func-set-data-activity": 87
    }],
    87: [function (e, t, n) {
        t.exports = function (e, t) {
            window.IS_RED_BAG && ($("head").append('<link rel="stylesheet" href="http://static.hdslb.com/live-static/live-room/activity/rage-meme/rage-red-bag.min.css">'), $.getScript("http://static.hdslb.com/live-static/live-room/activity/rage-meme/rage-red-bag.min.js"))
        }
    }, {}],
    88: [function (e, t, n) {
        var o = e("../../../common/components/live-widget/live-popup/live-popup"), i = e("../../../common/components/live-widget/live-toast/live-toast"), a = e("../../../common/functions/func-live-quick-login/live-quick-login"), r = e("../../../common/functions/func-random-emoji/random-emoji");
        t.exports = function (e, t) {
            "use strict";
            for (var n in t.data)t.data.hasOwnProperty(n) && (e[n] = t.data[n]);
            e.giftTsHistory = [], e.liveRoomFuncs = {}, e.livePopup = o, e.liveToast = i, e.randomEmoji = r, e.liveQuickLogin = a, e.randomEmoji = r
        }
    }, {
        "../../../common/components/live-widget/live-popup/live-popup": 7,
        "../../../common/components/live-widget/live-toast/live-toast": 8,
        "../../../common/functions/func-live-quick-login/live-quick-login": 13,
        "../../../common/functions/func-random-emoji/random-emoji": 14
    }],
    89: [function (e, t, n) {
        "use strict";
        t.exports = e("./src/js/adaptor/jquery")
    }, {"./src/js/adaptor/jquery": 90}],
    90: [function (e, t, n) {
        "use strict";
        function o(e) {
            e.fn.perfectScrollbar = function (t) {
                return this.each(function () {
                    if ("object" == typeof t || "undefined" == typeof t) {
                        var n = t;
                        a.get(this) || i.initialize(this, n)
                    } else {
                        var o = t;
                        "update" === o ? i.update(this) : "destroy" === o && i.destroy(this)
                    }
                    return e(this)
                })
            }
        }

        var i = e("../main"), a = e("../plugin/instances");
        if ("function" == typeof define && define.amd)define(["jquery"], o); else {
            var r = window.jQuery ? window.jQuery : window.$;
            "undefined" != typeof r && o(r)
        }
        t.exports = o
    }, {"../main": 96, "../plugin/instances": 107}],
    91: [function (e, t, n) {
        "use strict";
        function o(e, t) {
            var n = e.className.split(" ");
            n.indexOf(t) < 0 && n.push(t), e.className = n.join(" ")
        }

        function i(e, t) {
            var n = e.className.split(" "), o = n.indexOf(t);
            o >= 0 && n.splice(o, 1), e.className = n.join(" ")
        }

        n.add = function (e, t) {
            e.classList ? e.classList.add(t) : o(e, t)
        }, n.remove = function (e, t) {
            e.classList ? e.classList.remove(t) : i(e, t)
        }, n.list = function (e) {
            return e.classList ? Array.prototype.slice.apply(e.classList) : e.className.split(" ")
        }
    }, {}],
    92: [function (e, t, n) {
        "use strict";
        function o(e, t) {
            return window.getComputedStyle(e)[t]
        }

        function i(e, t, n) {
            return "number" == typeof n && (n = n.toString() + "px"), e.style[t] = n, e
        }

        function a(e, t) {
            for (var n in t) {
                var o = t[n];
                "number" == typeof o && (o = o.toString() + "px"), e.style[n] = o
            }
            return e
        }

        var r = {};
        r.e = function (e, t) {
            var n = document.createElement(e);
            return n.className = t, n
        }, r.appendTo = function (e, t) {
            return t.appendChild(e), e
        }, r.css = function (e, t, n) {
            return "object" == typeof t ? a(e, t) : "undefined" == typeof n ? o(e, t) : i(e, t, n)
        }, r.matches = function (e, t) {
            return "undefined" != typeof e.matches ? e.matches(t) : "undefined" != typeof e.matchesSelector ? e.matchesSelector(t) : "undefined" != typeof e.webkitMatchesSelector ? e.webkitMatchesSelector(t) : "undefined" != typeof e.mozMatchesSelector ? e.mozMatchesSelector(t) : "undefined" != typeof e.msMatchesSelector ? e.msMatchesSelector(t) : void 0
        }, r.remove = function (e) {
            "undefined" != typeof e.remove ? e.remove() : e.parentNode && e.parentNode.removeChild(e)
        }, r.queryChildren = function (e, t) {
            return Array.prototype.filter.call(e.childNodes, function (e) {
                return r.matches(e, t)
            })
        }, t.exports = r
    }, {}],
    93: [function (e, t, n) {
        "use strict";
        var o = function (e) {
            this.element = e, this.events = {}
        };
        o.prototype.bind = function (e, t) {
            "undefined" == typeof this.events[e] && (this.events[e] = []), this.events[e].push(t), this.element.addEventListener(e, t, !1)
        }, o.prototype.unbind = function (e, t) {
            var n = "undefined" != typeof t;
            this.events[e] = this.events[e].filter(function (o) {
                return n && o !== t ? !0 : (this.element.removeEventListener(e, o, !1), !1)
            }, this)
        }, o.prototype.unbindAll = function () {
            for (var e in this.events)this.unbind(e)
        };
        var i = function () {
            this.eventElements = []
        };
        i.prototype.eventElement = function (e) {
            var t = this.eventElements.filter(function (t) {
                return t.element === e
            })[0];
            return "undefined" == typeof t && (t = new o(e), this.eventElements.push(t)), t
        }, i.prototype.bind = function (e, t, n) {
            this.eventElement(e).bind(t, n)
        }, i.prototype.unbind = function (e, t, n) {
            this.eventElement(e).unbind(t, n)
        }, i.prototype.unbindAll = function () {
            for (var e = 0; e < this.eventElements.length; e++)this.eventElements[e].unbindAll()
        }, i.prototype.once = function (e, t, n) {
            var o = this.eventElement(e), i = function (e) {
                o.unbind(t, i), n(e)
            };
            o.bind(t, i)
        }, t.exports = i
    }, {}],
    94: [function (e, t, n) {
        "use strict";
        t.exports = function () {
            function e() {
                return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)
            }

            return function () {
                return e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e()
            }
        }()
    }, {}],
    95: [function (e, t, n) {
        "use strict";
        var o = e("./class"), i = e("./dom");
        n.toInt = function (e) {
            return parseInt(e, 10) || 0
        }, n.clone = function (e) {
            if (null === e)return null;
            if ("object" == typeof e) {
                var t = {};
                for (var n in e)t[n] = this.clone(e[n]);
                return t
            }
            return e
        }, n.extend = function (e, t) {
            var n = this.clone(e);
            for (var o in t)n[o] = this.clone(t[o]);
            return n
        }, n.isEditable = function (e) {
            return i.matches(e, "input,[contenteditable]") || i.matches(e, "select,[contenteditable]") || i.matches(e, "textarea,[contenteditable]") || i.matches(e, "button,[contenteditable]")
        }, n.removePsClasses = function (e) {
            for (var t = o.list(e), n = 0; n < t.length; n++) {
                var i = t[n];
                0 === i.indexOf("ps-") && o.remove(e, i)
            }
        }, n.outerWidth = function (e) {
            return this.toInt(i.css(e, "width")) + this.toInt(i.css(e, "paddingLeft")) + this.toInt(i.css(e, "paddingRight")) + this.toInt(i.css(e, "borderLeftWidth")) + this.toInt(i.css(e, "borderRightWidth"))
        }, n.startScrolling = function (e, t) {
            o.add(e, "ps-in-scrolling"), "undefined" != typeof t ? o.add(e, "ps-" + t) : (o.add(e, "ps-x"), o.add(e, "ps-y"))
        }, n.stopScrolling = function (e, t) {
            o.remove(e, "ps-in-scrolling"), "undefined" != typeof t ? o.remove(e, "ps-" + t) : (o.remove(e, "ps-x"), o.remove(e, "ps-y"))
        }, n.env = {
            isWebKit: "WebkitAppearance" in document.documentElement.style,
            supportsTouch: "ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch,
            supportsIePointer: null !== window.navigator.msMaxTouchPoints
        }
    }, {"./class": 91, "./dom": 92}],
    96: [function (e, t, n) {
        "use strict";
        var o = e("./plugin/destroy"), i = e("./plugin/initialize"), a = e("./plugin/update");
        t.exports = {initialize: i, update: a, destroy: o}
    }, {"./plugin/destroy": 98, "./plugin/initialize": 106, "./plugin/update": 110}],
    97: [function (e, t, n) {
        "use strict";
        t.exports = {
            maxScrollbarLength: null,
            minScrollbarLength: null,
            scrollXMarginOffset: 0,
            scrollYMarginOffset: 0,
            stopPropagationOnClick: !0,
            suppressScrollX: !1,
            suppressScrollY: !1,
            swipePropagation: !0,
            useBothWheelAxes: !1,
            useKeyboard: !0,
            useSelectionScroll: !1,
            wheelPropagation: !1,
            wheelSpeed: 1
        }
    }, {}],
    98: [function (e, t, n) {
        "use strict";
        var o = e("../lib/dom"), i = e("../lib/helper"), a = e("./instances");
        t.exports = function (e) {
            var t = a.get(e);
            t && (t.event.unbindAll(), o.remove(t.scrollbarX), o.remove(t.scrollbarY), o.remove(t.scrollbarXRail), o.remove(t.scrollbarYRail), i.removePsClasses(e), a.remove(e))
        }
    }, {"../lib/dom": 92, "../lib/helper": 95, "./instances": 107}],
    99: [function (e, t, n) {
        "use strict";
        function o(e, t) {
            function n(e) {
                return e.getBoundingClientRect()
            }

            var o = window.Event.prototype.stopPropagation.bind;
            t.settings.stopPropagationOnClick && t.event.bind(t.scrollbarY, "click", o), t.event.bind(t.scrollbarYRail, "click", function (o) {
                var a = i.toInt(t.scrollbarYHeight / 2), l = t.railYRatio * (o.pageY - window.pageYOffset - n(t.scrollbarYRail).top - a), c = t.railYRatio * (t.railYHeight - t.scrollbarYHeight), u = l / c;
                0 > u ? u = 0 : u > 1 && (u = 1), s(e, "top", (t.contentHeight - t.containerHeight) * u), r(e), o.stopPropagation()
            }), t.settings.stopPropagationOnClick && t.event.bind(t.scrollbarX, "click", o), t.event.bind(t.scrollbarXRail, "click", function (o) {
                var a = i.toInt(t.scrollbarXWidth / 2), l = t.railXRatio * (o.pageX - window.pageXOffset - n(t.scrollbarXRail).left - a), c = t.railXRatio * (t.railXWidth - t.scrollbarXWidth), u = l / c;
                0 > u ? u = 0 : u > 1 && (u = 1), s(e, "left", (t.contentWidth - t.containerWidth) * u - t.negativeScrollAdjustment), r(e), o.stopPropagation()
            })
        }

        var i = e("../../lib/helper"), a = e("../instances"), r = e("../update-geometry"), s = e("../update-scroll");
        t.exports = function (e) {
            var t = a.get(e);
            o(e, t)
        }
    }, {"../../lib/helper": 95, "../instances": 107, "../update-geometry": 108, "../update-scroll": 109}],
    100: [function (e, t, n) {
        "use strict";
        function o(e, t) {
            function n(n) {
                var i = o + n * t.railXRatio, a = Math.max(0, t.scrollbarXRail.getBoundingClientRect().left) + t.railXRatio * (t.railXWidth - t.scrollbarXWidth);
                0 > i ? t.scrollbarXLeft = 0 : i > a ? t.scrollbarXLeft = a : t.scrollbarXLeft = i;
                var s = r.toInt(t.scrollbarXLeft * (t.contentWidth - t.containerWidth) / (t.containerWidth - t.railXRatio * t.scrollbarXWidth)) - t.negativeScrollAdjustment;
                c(e, "left", s)
            }

            var o = null, i = null, s = function (t) {
                n(t.pageX - i), l(e), t.stopPropagation(), t.preventDefault()
            }, u = function () {
                r.stopScrolling(e, "x"), t.event.unbind(t.ownerDocument, "mousemove", s)
            };
            t.event.bind(t.scrollbarX, "mousedown", function (n) {
                i = n.pageX, o = r.toInt(a.css(t.scrollbarX, "left")) * t.railXRatio, r.startScrolling(e, "x"), t.event.bind(t.ownerDocument, "mousemove", s), t.event.once(t.ownerDocument, "mouseup", u), n.stopPropagation(), n.preventDefault()
            })
        }

        function i(e, t) {
            function n(n) {
                var i = o + n * t.railYRatio, a = Math.max(0, t.scrollbarYRail.getBoundingClientRect().top) + t.railYRatio * (t.railYHeight - t.scrollbarYHeight);
                0 > i ? t.scrollbarYTop = 0 : i > a ? t.scrollbarYTop = a : t.scrollbarYTop = i;
                var s = r.toInt(t.scrollbarYTop * (t.contentHeight - t.containerHeight) / (t.containerHeight - t.railYRatio * t.scrollbarYHeight));
                c(e, "top", s)
            }

            var o = null, i = null, s = function (t) {
                n(t.pageY - i), l(e), t.stopPropagation(), t.preventDefault()
            }, u = function () {
                r.stopScrolling(e, "y"), t.event.unbind(t.ownerDocument, "mousemove", s)
            };
            t.event.bind(t.scrollbarY, "mousedown", function (n) {
                i = n.pageY, o = r.toInt(a.css(t.scrollbarY, "top")) * t.railYRatio, r.startScrolling(e, "y"), t.event.bind(t.ownerDocument, "mousemove", s), t.event.once(t.ownerDocument, "mouseup", u), n.stopPropagation(), n.preventDefault()
            })
        }

        var a = e("../../lib/dom"), r = e("../../lib/helper"), s = e("../instances"), l = e("../update-geometry"), c = e("../update-scroll");
        t.exports = function (e) {
            var t = s.get(e);
            o(e, t), i(e, t)
        }
    }, {
        "../../lib/dom": 92,
        "../../lib/helper": 95,
        "../instances": 107,
        "../update-geometry": 108,
        "../update-scroll": 109
    }],
    101: [function (e, t, n) {
        "use strict";
        function o(e, t) {
            function n(n, o) {
                var i = e.scrollTop;
                if (0 === n) {
                    if (!t.scrollbarYActive)return !1;
                    if (0 === i && o > 0 || i >= t.contentHeight - t.containerHeight && 0 > o)return !t.settings.wheelPropagation
                }
                var a = e.scrollLeft;
                if (0 === o) {
                    if (!t.scrollbarXActive)return !1;
                    if (0 === a && 0 > n || a >= t.contentWidth - t.containerWidth && n > 0)return !t.settings.wheelPropagation
                }
                return !0
            }

            var o = !1;
            t.event.bind(e, "mouseenter", function () {
                o = !0
            }), t.event.bind(e, "mouseleave", function () {
                o = !1
            });
            var a = !1;
            t.event.bind(t.ownerDocument, "keydown", function (l) {
                if ((!l.isDefaultPrevented || !l.isDefaultPrevented()) && o) {
                    var c = document.activeElement ? document.activeElement : t.ownerDocument.activeElement;
                    if (c) {
                        for (; c.shadowRoot;)c = c.shadowRoot.activeElement;
                        if (i.isEditable(c))return
                    }
                    var u = 0, d = 0;
                    switch (l.which) {
                        case 37:
                            u = -30;
                            break;
                        case 38:
                            d = 30;
                            break;
                        case 39:
                            u = 30;
                            break;
                        case 40:
                            d = -30;
                            break;
                        case 33:
                            d = 90;
                            break;
                        case 32:
                            d = l.shiftKey ? 90 : -90;
                            break;
                        case 34:
                            d = -90;
                            break;
                        case 35:
                            d = l.ctrlKey ? -t.contentHeight : -t.containerHeight;
                            break;
                        case 36:
                            d = l.ctrlKey ? e.scrollTop : t.containerHeight;
                            break;
                        default:
                            return
                    }
                    s(e, "top", e.scrollTop - d), s(e, "left", e.scrollLeft + u), r(e), a = n(u, d), a && l.preventDefault()
                }
            })
        }

        var i = e("../../lib/helper"), a = e("../instances"), r = e("../update-geometry"), s = e("../update-scroll");
        t.exports = function (e) {
            var t = a.get(e);
            o(e, t)
        }
    }, {
        "../../lib/helper": 95, "../instances": 107, "../update-geometry": 108,
        "../update-scroll": 109
    }],
    102: [function (e, t, n) {
        "use strict";
        function o(e, t) {
            function n(n, o) {
                var i = e.scrollTop;
                if (0 === n) {
                    if (!t.scrollbarYActive)return !1;
                    if (0 === i && o > 0 || i >= t.contentHeight - t.containerHeight && 0 > o)return !t.settings.wheelPropagation
                }
                var a = e.scrollLeft;
                if (0 === o) {
                    if (!t.scrollbarXActive)return !1;
                    if (0 === a && 0 > n || a >= t.contentWidth - t.containerWidth && n > 0)return !t.settings.wheelPropagation
                }
                return !0
            }

            function o(e) {
                var t = e.deltaX, n = -1 * e.deltaY;
                return ("undefined" == typeof t || "undefined" == typeof n) && (t = -1 * e.wheelDeltaX / 6, n = e.wheelDeltaY / 6), e.deltaMode && 1 === e.deltaMode && (t *= 10, n *= 10), t !== t && n !== n && (t = 0, n = e.wheelDelta), [t, n]
            }

            function i(t, n) {
                var o = e.querySelector("textarea:hover");
                if (o) {
                    var i = o.scrollHeight - o.clientHeight;
                    if (i > 0 && !(0 === o.scrollTop && n > 0 || o.scrollTop === i && 0 > n))return !0;
                    var a = o.scrollLeft - o.clientWidth;
                    if (a > 0 && !(0 === o.scrollLeft && 0 > t || o.scrollLeft === a && t > 0))return !0
                }
                return !1
            }

            function s(s) {
                var c = o(s), u = c[0], d = c[1];
                i(u, d) || (l = !1, t.settings.useBothWheelAxes ? t.scrollbarYActive && !t.scrollbarXActive ? (d ? r(e, "top", e.scrollTop - d * t.settings.wheelSpeed) : r(e, "top", e.scrollTop + u * t.settings.wheelSpeed), l = !0) : t.scrollbarXActive && !t.scrollbarYActive && (u ? r(e, "left", e.scrollLeft + u * t.settings.wheelSpeed) : r(e, "left", e.scrollLeft - d * t.settings.wheelSpeed), l = !0) : (r(e, "top", e.scrollTop - d * t.settings.wheelSpeed), r(e, "left", e.scrollLeft + u * t.settings.wheelSpeed)), a(e), l = l || n(u, d), l && (s.stopPropagation(), s.preventDefault()))
            }

            var l = !1;
            "undefined" != typeof window.onwheel ? t.event.bind(e, "wheel", s) : "undefined" != typeof window.onmousewheel && t.event.bind(e, "mousewheel", s)
        }

        var i = e("../instances"), a = e("../update-geometry"), r = e("../update-scroll");
        t.exports = function (e) {
            var t = i.get(e);
            o(e, t)
        }
    }, {"../instances": 107, "../update-geometry": 108, "../update-scroll": 109}],
    103: [function (e, t, n) {
        "use strict";
        function o(e, t) {
            t.event.bind(e, "scroll", function () {
                a(e)
            })
        }

        var i = e("../instances"), a = e("../update-geometry");
        t.exports = function (e) {
            var t = i.get(e);
            o(e, t)
        }
    }, {"../instances": 107, "../update-geometry": 108}],
    104: [function (e, t, n) {
        "use strict";
        function o(e, t) {
            function n() {
                var e = window.getSelection ? window.getSelection() : document.getSelection ? document.getSelection() : "";
                return 0 === e.toString().length ? null : e.getRangeAt(0).commonAncestorContainer
            }

            function o() {
                c || (c = setInterval(function () {
                    return a.get(e) ? (s(e, "top", e.scrollTop + u.top), s(e, "left", e.scrollLeft + u.left), void r(e)) : void clearInterval(c)
                }, 50))
            }

            function l() {
                c && (clearInterval(c), c = null), i.stopScrolling(e)
            }

            var c = null, u = {top: 0, left: 0}, d = !1;
            t.event.bind(t.ownerDocument, "selectionchange", function () {
                e.contains(n()) ? d = !0 : (d = !1, l())
            }), t.event.bind(window, "mouseup", function () {
                d && (d = !1, l())
            }), t.event.bind(window, "mousemove", function (t) {
                if (d) {
                    var n = {x: t.pageX, y: t.pageY}, a = {
                        left: e.offsetLeft,
                        right: e.offsetLeft + e.offsetWidth,
                        top: e.offsetTop,
                        bottom: e.offsetTop + e.offsetHeight
                    };
                    n.x < a.left + 3 ? (u.left = -5, i.startScrolling(e, "x")) : n.x > a.right - 3 ? (u.left = 5, i.startScrolling(e, "x")) : u.left = 0, n.y < a.top + 3 ? (a.top + 3 - n.y < 5 ? u.top = -5 : u.top = -20, i.startScrolling(e, "y")) : n.y > a.bottom - 3 ? (n.y - a.bottom + 3 < 5 ? u.top = 5 : u.top = 20, i.startScrolling(e, "y")) : u.top = 0, 0 === u.top && 0 === u.left ? l() : o()
                }
            })
        }

        var i = e("../../lib/helper"), a = e("../instances"), r = e("../update-geometry"), s = e("../update-scroll");
        t.exports = function (e) {
            var t = a.get(e);
            o(e, t)
        }
    }, {"../../lib/helper": 95, "../instances": 107, "../update-geometry": 108, "../update-scroll": 109}],
    105: [function (e, t, n) {
        "use strict";
        function o(e, t, n, o) {
            function s(n, o) {
                var i = e.scrollTop, a = e.scrollLeft, r = Math.abs(n), s = Math.abs(o);
                if (s > r) {
                    if (0 > o && i === t.contentHeight - t.containerHeight || o > 0 && 0 === i)return !t.settings.swipePropagation
                } else if (r > s && (0 > n && a === t.contentWidth - t.containerWidth || n > 0 && 0 === a))return !t.settings.swipePropagation;
                return !0
            }

            function l(t, n) {
                r(e, "top", e.scrollTop - n), r(e, "left", e.scrollLeft - t), a(e)
            }

            function c() {
                w = !0
            }

            function u() {
                w = !1
            }

            function d(e) {
                return e.targetTouches ? e.targetTouches[0] : e
            }

            function f(e) {
                return e.targetTouches && 1 === e.targetTouches.length ? !0 : e.pointerType && "mouse" !== e.pointerType && e.pointerType !== e.MSPOINTER_TYPE_MOUSE ? !0 : !1
            }

            function p(e) {
                if (f(e)) {
                    T = !0;
                    var t = d(e);
                    g.pageX = t.pageX, g.pageY = t.pageY, h = (new Date).getTime(), null !== y && clearInterval(y), e.stopPropagation()
                }
            }

            function m(e) {
                if (!w && T && f(e)) {
                    var t = d(e), n = {pageX: t.pageX, pageY: t.pageY}, o = n.pageX - g.pageX, i = n.pageY - g.pageY;
                    l(o, i), g = n;
                    var a = (new Date).getTime(), r = a - h;
                    r > 0 && (b.x = o / r, b.y = i / r, h = a), s(o, i) && (e.stopPropagation(), e.preventDefault())
                }
            }

            function v() {
                !w && T && (T = !1, clearInterval(y), y = setInterval(function () {
                    return i.get(e) ? Math.abs(b.x) < .01 && Math.abs(b.y) < .01 ? void clearInterval(y) : (l(30 * b.x, 30 * b.y), b.x *= .8, void(b.y *= .8)) : void clearInterval(y)
                }, 10))
            }

            var g = {}, h = 0, b = {}, y = null, w = !1, T = !1;
            n && (t.event.bind(window, "touchstart", c), t.event.bind(window, "touchend", u), t.event.bind(e, "touchstart", p), t.event.bind(e, "touchmove", m), t.event.bind(e, "touchend", v)), o && (window.PointerEvent ? (t.event.bind(window, "pointerdown", c), t.event.bind(window, "pointerup", u), t.event.bind(e, "pointerdown", p), t.event.bind(e, "pointermove", m), t.event.bind(e, "pointerup", v)) : window.MSPointerEvent && (t.event.bind(window, "MSPointerDown", c), t.event.bind(window, "MSPointerUp", u), t.event.bind(e, "MSPointerDown", p), t.event.bind(e, "MSPointerMove", m), t.event.bind(e, "MSPointerUp", v)))
        }

        var i = e("../instances"), a = e("../update-geometry"), r = e("../update-scroll");
        t.exports = function (e, t, n) {
            var a = i.get(e);
            o(e, a, t, n)
        }
    }, {"../instances": 107, "../update-geometry": 108, "../update-scroll": 109}],
    106: [function (e, t, n) {
        "use strict";
        var o = e("../lib/class"), i = e("../lib/helper"), a = e("./instances"), r = e("./update-geometry"), s = e("./handler/click-rail"), l = e("./handler/drag-scrollbar"), c = e("./handler/keyboard"), u = e("./handler/mouse-wheel"), d = e("./handler/native-scroll"), f = e("./handler/selection"), p = e("./handler/touch");
        t.exports = function (e, t) {
            t = "object" == typeof t ? t : {}, o.add(e, "ps-container");
            var n = a.add(e);
            n.settings = i.extend(n.settings, t), s(e), l(e), u(e), d(e), n.settings.useSelectionScroll && f(e), (i.env.supportsTouch || i.env.supportsIePointer) && p(e, i.env.supportsTouch, i.env.supportsIePointer), n.settings.useKeyboard && c(e), r(e)
        }
    }, {
        "../lib/class": 91,
        "../lib/helper": 95,
        "./handler/click-rail": 99,
        "./handler/drag-scrollbar": 100,
        "./handler/keyboard": 101,
        "./handler/mouse-wheel": 102,
        "./handler/native-scroll": 103,
        "./handler/selection": 104,
        "./handler/touch": 105,
        "./instances": 107,
        "./update-geometry": 108
    }],
    107: [function (e, t, n) {
        "use strict";
        function o(e) {
            var t = this;
            t.settings = d.clone(l), t.containerWidth = null, t.containerHeight = null, t.contentWidth = null, t.contentHeight = null, t.isRtl = "rtl" === s.css(e, "direction"), t.isNegativeScroll = function () {
                var t = e.scrollLeft, n = null;
                return e.scrollLeft = -1, n = e.scrollLeft < 0, e.scrollLeft = t, n
            }(), t.negativeScrollAdjustment = t.isNegativeScroll ? e.scrollWidth - e.clientWidth : 0, t.event = new c, t.ownerDocument = e.ownerDocument || document, t.scrollbarXRail = s.appendTo(s.e("div", "ps-scrollbar-x-rail"), e), t.scrollbarX = s.appendTo(s.e("div", "ps-scrollbar-x"), t.scrollbarXRail), t.scrollbarX.setAttribute("tabindex", 0), t.scrollbarXActive = null, t.scrollbarXWidth = null, t.scrollbarXLeft = null, t.scrollbarXBottom = d.toInt(s.css(t.scrollbarXRail, "bottom")), t.isScrollbarXUsingBottom = t.scrollbarXBottom === t.scrollbarXBottom, t.scrollbarXTop = t.isScrollbarXUsingBottom ? null : d.toInt(s.css(t.scrollbarXRail, "top")), t.railBorderXWidth = d.toInt(s.css(t.scrollbarXRail, "borderLeftWidth")) + d.toInt(s.css(t.scrollbarXRail, "borderRightWidth")), s.css(t.scrollbarXRail, "display", "block"), t.railXMarginWidth = d.toInt(s.css(t.scrollbarXRail, "marginLeft")) + d.toInt(s.css(t.scrollbarXRail, "marginRight")), s.css(t.scrollbarXRail, "display", ""), t.railXWidth = null, t.railXRatio = null, t.scrollbarYRail = s.appendTo(s.e("div", "ps-scrollbar-y-rail"), e), t.scrollbarY = s.appendTo(s.e("div", "ps-scrollbar-y"), t.scrollbarYRail), t.scrollbarY.setAttribute("tabindex", 0), t.scrollbarYActive = null, t.scrollbarYHeight = null, t.scrollbarYTop = null, t.scrollbarYRight = d.toInt(s.css(t.scrollbarYRail, "right")), t.isScrollbarYUsingRight = t.scrollbarYRight === t.scrollbarYRight, t.scrollbarYLeft = t.isScrollbarYUsingRight ? null : d.toInt(s.css(t.scrollbarYRail, "left")), t.scrollbarYOuterWidth = t.isRtl ? d.outerWidth(t.scrollbarY) : null, t.railBorderYWidth = d.toInt(s.css(t.scrollbarYRail, "borderTopWidth")) + d.toInt(s.css(t.scrollbarYRail, "borderBottomWidth")), s.css(t.scrollbarYRail, "display", "block"), t.railYMarginHeight = d.toInt(s.css(t.scrollbarYRail, "marginTop")) + d.toInt(s.css(t.scrollbarYRail, "marginBottom")), s.css(t.scrollbarYRail, "display", ""), t.railYHeight = null, t.railYRatio = null
        }

        function i(e) {
            return "undefined" == typeof e.dataset ? e.getAttribute("data-ps-id") : e.dataset.psId
        }

        function a(e, t) {
            "undefined" == typeof e.dataset ? e.setAttribute("data-ps-id", t) : e.dataset.psId = t
        }

        function r(e) {
            "undefined" == typeof e.dataset ? e.removeAttribute("data-ps-id") : delete e.dataset.psId
        }

        var s = e("../lib/dom"), l = e("./default-setting"), c = e("../lib/event-manager"), u = e("../lib/guid"), d = e("../lib/helper"), f = {};
        n.add = function (e) {
            var t = u();
            return a(e, t), f[t] = new o(e), f[t]
        }, n.remove = function (e) {
            delete f[i(e)], r(e)
        }, n.get = function (e) {
            return f[i(e)]
        }
    }, {"../lib/dom": 92, "../lib/event-manager": 93, "../lib/guid": 94, "../lib/helper": 95, "./default-setting": 97}],
    108: [function (e, t, n) {
        "use strict";
        function o(e, t) {
            return e.settings.minScrollbarLength && (t = Math.max(t, e.settings.minScrollbarLength)), e.settings.maxScrollbarLength && (t = Math.min(t, e.settings.maxScrollbarLength)), t
        }

        function i(e, t) {
            var n = {width: t.railXWidth};
            t.isRtl ? n.left = t.negativeScrollAdjustment + e.scrollLeft + t.containerWidth - t.contentWidth : n.left = e.scrollLeft, t.isScrollbarXUsingBottom ? n.bottom = t.scrollbarXBottom - e.scrollTop : n.top = t.scrollbarXTop + e.scrollTop, r.css(t.scrollbarXRail, n);
            var o = {top: e.scrollTop, height: t.railYHeight};
            t.isScrollbarYUsingRight ? t.isRtl ? o.right = t.contentWidth - (t.negativeScrollAdjustment + e.scrollLeft) - t.scrollbarYRight - t.scrollbarYOuterWidth : o.right = t.scrollbarYRight - e.scrollLeft : t.isRtl ? o.left = t.negativeScrollAdjustment + e.scrollLeft + 2 * t.containerWidth - t.contentWidth - t.scrollbarYLeft - t.scrollbarYOuterWidth : o.left = t.scrollbarYLeft + e.scrollLeft, r.css(t.scrollbarYRail, o), r.css(t.scrollbarX, {
                left: t.scrollbarXLeft,
                width: t.scrollbarXWidth - t.railBorderXWidth
            }), r.css(t.scrollbarY, {top: t.scrollbarYTop, height: t.scrollbarYHeight - t.railBorderYWidth})
        }

        var a = e("../lib/class"), r = e("../lib/dom"), s = e("../lib/helper"), l = e("./instances"), c = e("./update-scroll");
        t.exports = function (e) {
            var t = l.get(e);
            t.containerWidth = e.clientWidth, t.containerHeight = e.clientHeight, t.contentWidth = e.scrollWidth, t.contentHeight = e.scrollHeight;
            var n;
            e.contains(t.scrollbarXRail) || (n = r.queryChildren(e, ".ps-scrollbar-x-rail"), n.length > 0 && n.forEach(function (e) {
                r.remove(e)
            }), r.appendTo(t.scrollbarXRail, e)), e.contains(t.scrollbarYRail) || (n = r.queryChildren(e, ".ps-scrollbar-y-rail"), n.length > 0 && n.forEach(function (e) {
                r.remove(e)
            }), r.appendTo(t.scrollbarYRail, e)), !t.settings.suppressScrollX && t.containerWidth + t.settings.scrollXMarginOffset < t.contentWidth ? (t.scrollbarXActive = !0, t.railXWidth = t.containerWidth - t.railXMarginWidth, t.railXRatio = t.containerWidth / t.railXWidth, t.scrollbarXWidth = o(t, s.toInt(t.railXWidth * t.containerWidth / t.contentWidth)), t.scrollbarXLeft = s.toInt((t.negativeScrollAdjustment + e.scrollLeft) * (t.railXWidth - t.scrollbarXWidth) / (t.contentWidth - t.containerWidth))) : t.scrollbarXActive = !1, !t.settings.suppressScrollY && t.containerHeight + t.settings.scrollYMarginOffset < t.contentHeight ? (t.scrollbarYActive = !0, t.railYHeight = t.containerHeight - t.railYMarginHeight, t.railYRatio = t.containerHeight / t.railYHeight, t.scrollbarYHeight = o(t, s.toInt(t.railYHeight * t.containerHeight / t.contentHeight)), t.scrollbarYTop = s.toInt(e.scrollTop * (t.railYHeight - t.scrollbarYHeight) / (t.contentHeight - t.containerHeight))) : t.scrollbarYActive = !1, t.scrollbarXLeft >= t.railXWidth - t.scrollbarXWidth && (t.scrollbarXLeft = t.railXWidth - t.scrollbarXWidth), t.scrollbarYTop >= t.railYHeight - t.scrollbarYHeight && (t.scrollbarYTop = t.railYHeight - t.scrollbarYHeight), i(e, t), t.scrollbarXActive ? a.add(e, "ps-active-x") : (a.remove(e, "ps-active-x"), t.scrollbarXWidth = 0, t.scrollbarXLeft = 0, c(e, "left", 0)), t.scrollbarYActive ? a.add(e, "ps-active-y") : (a.remove(e, "ps-active-y"), t.scrollbarYHeight = 0, t.scrollbarYTop = 0, c(e, "top", 0))
        }
    }, {"../lib/class": 91, "../lib/dom": 92, "../lib/helper": 95, "./instances": 107, "./update-scroll": 109}],
    109: [function (e, t, n) {
        "use strict";
        var o, i, a = e("./instances"), r = document.createEvent("Event"), s = document.createEvent("Event"), l = document.createEvent("Event"), c = document.createEvent("Event"), u = document.createEvent("Event"), d = document.createEvent("Event"), f = document.createEvent("Event"), p = document.createEvent("Event"), m = document.createEvent("Event"), v = document.createEvent("Event");
        r.initEvent("ps-scroll-up", !0, !0), s.initEvent("ps-scroll-down", !0, !0), l.initEvent("ps-scroll-left", !0, !0), c.initEvent("ps-scroll-right", !0, !0), u.initEvent("ps-scroll-y", !0, !0), d.initEvent("ps-scroll-x", !0, !0), f.initEvent("ps-x-reach-start", !0, !0), p.initEvent("ps-x-reach-end", !0, !0), m.initEvent("ps-y-reach-start", !0, !0), v.initEvent("ps-y-reach-end", !0, !0), t.exports = function (e, t, n) {
            if ("undefined" == typeof e)throw"You must provide an element to the update-scroll function";
            if ("undefined" == typeof t)throw"You must provide an axis to the update-scroll function";
            if ("undefined" == typeof n)throw"You must provide a value to the update-scroll function";
            if ("top" === t && 0 >= n)return e.scrollTop = 0, void e.dispatchEvent(m);
            if ("left" === t && 0 >= n)return e.scrollLeft = 0, void e.dispatchEvent(f);
            var g = a.get(e);
            return "top" === t && n >= g.contentHeight - g.containerHeight ? (e.scrollTop = g.contentHeight - g.containerHeight, void e.dispatchEvent(v)) : "left" === t && n >= g.contentWidth - g.containerWidth ? (e.scrollLeft = g.contentWidth - g.containerWidth, void e.dispatchEvent(p)) : (o || (o = e.scrollTop), i || (i = e.scrollLeft), "top" === t && o > n && e.dispatchEvent(r), "top" === t && n > o && e.dispatchEvent(s), "left" === t && i > n && e.dispatchEvent(l), "left" === t && n > i && e.dispatchEvent(c), "top" === t && (e.scrollTop = o = n, e.dispatchEvent(u)), void("left" === t && (e.scrollLeft = i = n, e.dispatchEvent(d))))
        }
    }, {"./instances": 107}],
    110: [function (e, t, n) {
        "use strict";
        var o = e("../lib/dom"), i = e("../lib/helper"), a = e("./instances"), r = e("./update-geometry"), s = e("./update-scroll");
        t.exports = function (e) {
            var t = a.get(e);
            t && (t.negativeScrollAdjustment = t.isNegativeScroll ? e.scrollWidth - e.clientWidth : 0, o.css(t.scrollbarXRail, "display", "block"), o.css(t.scrollbarYRail, "display", "block"), t.railXMarginWidth = i.toInt(o.css(t.scrollbarXRail, "marginLeft")) + i.toInt(o.css(t.scrollbarXRail, "marginRight")), t.railYMarginHeight = i.toInt(o.css(t.scrollbarYRail, "marginTop")) + i.toInt(o.css(t.scrollbarYRail, "marginBottom")), o.css(t.scrollbarXRail, "display", "none"), o.css(t.scrollbarYRail, "display", "none"), r(e), s(e, "top", e.scrollTop), s(e, "left", e.scrollLeft), o.css(t.scrollbarXRail, "display", ""), o.css(t.scrollbarYRail, "display", ""))
        }
    }, {"../lib/dom": 92, "../lib/helper": 95, "./instances": 107, "./update-geometry": 108, "./update-scroll": 109}]
}, {}, [81]);